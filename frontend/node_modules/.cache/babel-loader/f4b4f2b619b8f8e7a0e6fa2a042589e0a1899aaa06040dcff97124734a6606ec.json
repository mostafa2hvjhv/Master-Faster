{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,createContext,useContext}from'react';import'./App.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");// Auth Context\nconst AuthContext=/*#__PURE__*/createContext();const useAuth=()=>{const context=useContext(AuthContext);if(!context){throw new Error('useAuth must be used within an AuthProvider');}return context;};const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const savedUser=localStorage.getItem('user');if(savedUser){setUser(JSON.parse(savedUser));}setIsLoading(false);},[]);const login=async(username,password)=>{try{const response=await axios.post(\"\".concat(API,\"/auth/login\"),null,{params:{username,password}});if(response.data.success){setUser(response.data.user);localStorage.setItem('user',JSON.stringify(response.data.user));return true;}return false;}catch(error){console.error('Login error:',error);return false;}};const logout=()=>{setUser(null);localStorage.removeItem('user');};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",children:\"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"})});}return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,login,logout},children:children});};// Login Component\nconst Login=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const{login}=useAuth();const handleSubmit=async e=>{e.preventDefault();setError('');const success=await login(username,password);if(!success){setError('Ø®Ø·Ø£ ÙÙŠ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center p-4\",dir:\"rtl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-2xl p-8 border border-blue-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://customer-assets.emergentagent.com/job_oilseal-mgmt/artifacts/42i3e7yn_WhatsApp%20Image%202025-07-31%20at%2015.14.10_e8c55120.jpg\",alt:\"Master Seal Logo\",className:\"h-16 w-16 mx-auto rounded-full shadow-lg border-4 border-blue-100\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent\",children:\"\\u0645\\u0627\\u0633\\u062A\\u0631 \\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:\"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629 \\u0627\\u0644\\u0645\\u062A\\u0643\\u0627\\u0645\\u0644\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-1 bg-gradient-to-r from-blue-400 to-blue-600 mx-auto mt-3 rounded-full\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"\\uD83D\\uDC64 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),className:\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-3 focus:ring-blue-200 focus:border-blue-400 transition-all duration-200 bg-gray-50 hover:bg-white\",placeholder:\"\\u0627\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"\\uD83D\\uDD12 \\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-3 focus:ring-blue-200 focus:border-blue-400 transition-all duration-200 bg-gray-50 hover:bg-white\",placeholder:\"\\u0627\\u062F\\u062E\\u0644 \\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\",required:true})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm text-center animate-pulse\",children:[\"\\u26A0\\uFE0F \",error]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white py-3 px-6 rounded-xl hover:from-blue-700 hover:to-blue-900 focus:outline-none focus:ring-3 focus:ring-blue-300 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105\",children:\"\\uD83D\\uDE80 \\u062F\\u062E\\u0648\\u0644\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-8 pt-6 border-t border-gray-100\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"\\u0627\\u0644\\u062D\\u0631\\u0641\\u064A\\u064A\\u0646 - \\u0627\\u0644\\u0633\\u0644\\u0627\\u0645 - \\u0623\\u0645\\u0627\\u0645 \\u0627\\u0644\\u0633\\u0648\\u0628\\u0631 \\u062C\\u064A\\u062A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1 font-medium\",children:\"\\uD83D\\uDCDE 01020630677\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center border border-blue-100/50\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0645\\u062A\\u0643\\u0627\\u0645\\u0644 \\u0644\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0645\\u0628\\u064A\\u0639\\u0627\\u062A \\u0648\\u0627\\u0644\\u0645\\u062E\\u0632\\u0648\\u0646 \\u0648\\u0627\\u0644\\u062D\\u0633\\u0627\\u0628\\u0627\\u062A\"})})]})});};// Navigation Component\nconst Navigation=_ref2=>{let{currentPage,onPageChange}=_ref2;const{user,logout}=useAuth();// Dashboard is only for Elsawy\nconst elsawyPages=[{key:'dashboard',label:'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',icon:'ðŸ“Š'},{key:'sales',label:'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',icon:'ðŸ’°'},{key:'inventory',label:'Ø§Ù„Ø¬Ø±Ø¯',icon:'ðŸ“¦'},{key:'stock',label:'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†',icon:'ðŸª'},{key:'local',label:'Ù…Ø­Ù„ÙŠ',icon:'ðŸ­'},{key:'deferred',label:'Ø§Ù„Ø¢Ø¬Ù„',icon:'â³'},{key:'expenses',label:'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª',icon:'ðŸ’¸'},{key:'revenue',label:'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª',icon:'ðŸ“ˆ'},{key:'treasury',label:'Ø§Ù„Ø®Ø²ÙŠÙ†Ø©',icon:'ðŸ¦'},{key:'invoices',label:'Ø§Ù„ÙÙˆØ§ØªÙŠØ±',icon:'ðŸ§¾'},{key:'work-orders',label:'Ø£Ù…Ø± Ø´ØºÙ„',icon:'âš™ï¸'},{key:'users',label:'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',icon:'ðŸ‘¥'}];const adminPages=[{key:'sales',label:'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',icon:'ðŸ’°'},{key:'inventory',label:'Ø§Ù„Ø¬Ø±Ø¯',icon:'ðŸ“¦'},{key:'stock',label:'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†',icon:'ðŸª'},{key:'local',label:'Ù…Ø­Ù„ÙŠ',icon:'ðŸ­'},{key:'deferred',label:'Ø§Ù„Ø¢Ø¬Ù„',icon:'â³'},{key:'expenses',label:'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª',icon:'ðŸ’¸'},{key:'revenue',label:'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª',icon:'ðŸ“ˆ'},{key:'treasury',label:'Ø§Ù„Ø®Ø²ÙŠÙ†Ø©',icon:'ðŸ¦'},{key:'invoices',label:'Ø§Ù„ÙÙˆØ§ØªÙŠØ±',icon:'ðŸ§¾'},{key:'work-orders',label:'Ø£Ù…Ø± Ø´ØºÙ„',icon:'âš™ï¸'},{key:'users',label:'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',icon:'ðŸ‘¥'}];const userPages=[{key:'sales',label:'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',icon:'ðŸ’°'},{key:'inventory',label:'Ø§Ù„Ø¬Ø±Ø¯',icon:'ðŸ“¦'},{key:'stock',label:'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†',icon:'ðŸª'},{key:'local',label:'Ù…Ø­Ù„ÙŠ',icon:'ðŸ­'},{key:'deferred',label:'Ø§Ù„Ø¢Ø¬Ù„',icon:'â³'},{key:'expenses',label:'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª',icon:'ðŸ’¸'},{key:'treasury',label:'Ø§Ù„Ø®Ø²ÙŠÙ†Ø©',icon:'ðŸ¦'},{key:'invoices',label:'Ø§Ù„ÙÙˆØ§ØªÙŠØ±',icon:'ðŸ§¾'},{key:'work-orders',label:'Ø£Ù…Ø± Ø´ØºÙ„',icon:'âš™ï¸'}];// Only Elsawy gets dashboard access\nconst pages=(user===null||user===void 0?void 0:user.username)==='Elsawy'?elsawyPages:(user===null||user===void 0?void 0:user.role)==='admin'?adminPages:userPages;return/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 bg-gradient-to-b from-blue-900 via-blue-800 to-blue-900 text-white shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-blue-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://customer-assets.emergentagent.com/job_oilseal-mgmt/artifacts/42i3e7yn_WhatsApp%20Image%202025-07-31%20at%2015.14.10_e8c55120.jpg\",alt:\"Master Seal Logo\",className:\"h-12 w-12 rounded-lg shadow-lg\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-white\",children:\"\\u0645\\u0627\\u0633\\u062A\\u0631 \\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-200\",children:\"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0645\\u062A\\u0643\\u0627\\u0645\\u0644\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-blue-800 border-b border-blue-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:\"\\u0623\\u0647\\u0644\\u0627\\u064B \\u0648\\u0633\\u0647\\u0644\\u0627\\u064B\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold text-blue-200\",children:user===null||user===void 0?void 0:user.username})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"bg-red-500 hover:bg-red-600 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl\",children:\"\\u062E\\u0631\\u0648\\u062C\"})]})}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 p-4 space-y-2\",children:pages.map(page=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onPageChange(page.key),className:\"w-full flex items-center space-x-3 space-x-reverse p-4 rounded-xl text-right transition-all duration-200 group \".concat(currentPage===page.key?'bg-white text-blue-900 shadow-lg transform scale-105':'hover:bg-blue-700 hover:transform hover:translate-x-2'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:page.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:page.label}),currentPage===page.key&&/*#__PURE__*/_jsx(\"div\",{className:\"mr-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"})})]},page.key))}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t border-blue-700 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-300\",children:\"\\u0627\\u0644\\u062D\\u0631\\u0641\\u064A\\u064A\\u0646 - \\u0627\\u0644\\u0633\\u0644\\u0627\\u0645 - \\u0623\\u0645\\u0627\\u0645 \\u0627\\u0644\\u0633\\u0648\\u0628\\u0631 \\u062C\\u064A\\u062A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-400 mt-1\",children:\"01020630677\"})]})]});};// Inventory Management Component\nconst Inventory=()=>{const[inventoryItems,setInventoryItems]=useState([]);const[inventoryTransactions,setInventoryTransactions]=useState([]);const[lowStockItems,setLowStockItems]=useState([]);const[currentView,setCurrentView]=useState('items');// items, transactions, low-stock, add-item\nconst[editingItem,setEditingItem]=useState(null);// Ù„Ù„ØªØ¹Ø¯ÙŠÙ„\nconst[newItem,setNewItem]=useState({material_type:'NBR',inner_diameter:'',outer_diameter:'',available_pieces:'',// ØªØºÙŠÙŠØ± Ù…Ù† available_height Ø¥Ù„Ù‰ available_pieces\nmin_stock_level:2,// Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ 2 Ù‚Ø·Ø¹Ø©\nnotes:''});const[newTransaction,setNewTransaction]=useState({material_type:'NBR',inner_diameter:'',outer_diameter:'',transaction_type:'in',pieces_change:'',// ØªØºÙŠÙŠØ± Ù…Ù† height_change Ø¥Ù„Ù‰ pieces_change\nreason:'',notes:''});const[searchTerm,setSearchTerm]=useState('');const materialTypes=['NBR','BUR','BT','VT','BOOM'];// Fetch functions\nconst fetchInventoryItems=async()=>{try{const response=await axios.get(\"\".concat(API,\"/inventory\"));setInventoryItems(response.data||[]);}catch(error){console.error('Error fetching inventory items:',error);}};const fetchInventoryTransactions=async()=>{try{const response=await axios.get(\"\".concat(API,\"/inventory-transactions\"));setInventoryTransactions(response.data||[]);}catch(error){console.error('Error fetching inventory transactions:',error);}};const fetchLowStockItems=async()=>{try{const response=await axios.get(\"\".concat(API,\"/inventory/low-stock\"));setLowStockItems(response.data||[]);}catch(error){console.error('Error fetching low stock items:',error);}};useEffect(()=>{fetchInventoryItems();fetchInventoryTransactions();fetchLowStockItems();},[]);// Add or Update inventory item\nconst addInventoryItem=async()=>{if(!newItem.material_type||!newItem.inner_diameter||!newItem.outer_diameter||!newItem.available_pieces){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');return;}try{if(editingItem){// Update existing item\nawait axios.put(\"\".concat(API,\"/inventory/\").concat(editingItem.id),_objectSpread(_objectSpread({},newItem),{},{inner_diameter:parseFloat(newItem.inner_diameter),outer_diameter:parseFloat(newItem.outer_diameter),available_pieces:parseInt(newItem.available_pieces),min_stock_level:parseInt(newItem.min_stock_level||2)}));alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');setEditingItem(null);}else{// Add new item\nawait axios.post(\"\".concat(API,\"/inventory\"),_objectSpread(_objectSpread({},newItem),{},{inner_diameter:parseFloat(newItem.inner_diameter),outer_diameter:parseFloat(newItem.outer_diameter),available_pieces:parseInt(newItem.available_pieces),min_stock_level:parseInt(newItem.min_stock_level||2)}));alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');}fetchInventoryItems();fetchLowStockItems();setCurrentView('items');setNewItem({material_type:'NBR',inner_diameter:'',outer_diameter:'',available_pieces:'',min_stock_level:2,notes:''});}catch(error){var _error$response,_error$response$data;console.error('Error saving inventory item:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message));}};// Add inventory transaction\nconst addInventoryTransaction=async()=>{if(!newTransaction.material_type||!newTransaction.inner_diameter||!newTransaction.outer_diameter||!newTransaction.pieces_change||!newTransaction.reason){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');return;}try{const transactionData=_objectSpread(_objectSpread({},newTransaction),{},{inner_diameter:parseFloat(newTransaction.inner_diameter),outer_diameter:parseFloat(newTransaction.outer_diameter),pieces_change:newTransaction.transaction_type==='out'?-Math.abs(parseInt(newTransaction.pieces_change)):Math.abs(parseInt(newTransaction.pieces_change))});await axios.post(\"\".concat(API,\"/inventory-transactions\"),transactionData);fetchInventoryItems();fetchInventoryTransactions();fetchLowStockItems();setNewTransaction({material_type:'NBR',inner_diameter:'',outer_diameter:'',transaction_type:'in',pieces_change:'',reason:'',notes:''});alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){var _error$response2,_error$response2$data;console.error('Error adding inventory transaction:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø¬Ø±Ø¯: '+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||error.message));}};// Filter and sort items based on search\nconst filteredItems=inventoryItems.filter(item=>{var _item$notes;return item.material_type.toLowerCase().includes(searchTerm.toLowerCase())||item.inner_diameter.toString().includes(searchTerm.toLowerCase())||item.outer_diameter.toString().includes(searchTerm.toLowerCase())||((_item$notes=item.notes)===null||_item$notes===void 0?void 0:_item$notes.toLowerCase().includes(searchTerm.toLowerCase()));}).sort((a,b)=>{// ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ù…Ø©: BUR-NBR-BT-BOOM-VT\nconst materialPriority={'BUR':1,'NBR':2,'BT':3,'BOOM':4,'VT':5};const aPriority=materialPriority[a.material_type]||6;const bPriority=materialPriority[b.material_type]||6;if(aPriority!==bPriority){return aPriority-bPriority;}// Ø«Ù… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø«Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ)\nif(a.inner_diameter!==b.inner_diameter){return a.inner_diameter-b.inner_diameter;}return a.outer_diameter-b.outer_diameter;});const filteredTransactions=inventoryTransactions.filter(transaction=>{var _transaction$notes;return transaction.reason.toLowerCase().includes(searchTerm.toLowerCase())||transaction.material_type.toLowerCase().includes(searchTerm.toLowerCase())||((_transaction$notes=transaction.notes)===null||_transaction$notes===void 0?void 0:_transaction$notes.toLowerCase().includes(searchTerm.toLowerCase()));}).sort((a,b)=>{// ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ù…Ø©: BUR-NBR-BT-BOOM-VT\nconst materialPriority={'BUR':1,'NBR':2,'BT':3,'BOOM':4,'VT':5};const aPriority=materialPriority[a.material_type]||6;const bPriority=materialPriority[b.material_type]||6;if(aPriority!==bPriority){return aPriority-bPriority;}// Ø«Ù… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø«Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ) Ø«Ù… Ø§Ù„ØªØ§Ø±ÙŠØ®\nif(a.inner_diameter!==b.inner_diameter){return a.inner_diameter-b.inner_diameter;}if(a.outer_diameter!==b.outer_diameter){return a.outer_diameter-b.outer_diameter;}return new Date(b.date)-new Date(a.date);// Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹\n});return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062C\\u0631\\u062F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('items'),className:\"px-4 py-2 rounded \".concat(currentView==='items'?'bg-blue-500 text-white':'bg-gray-200'),children:\"\\u0639\\u0646\\u0627\\u0635\\u0631 \\u0627\\u0644\\u062C\\u0631\\u062F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('transactions'),className:\"px-4 py-2 rounded \".concat(currentView==='transactions'?'bg-blue-500 text-white':'bg-gray-200'),children:\"\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0627\\u0644\\u062C\\u0631\\u062F\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('low-stock'),className:\"px-4 py-2 rounded \".concat(currentView==='low-stock'?'bg-red-500 text-white':'bg-gray-200'),children:[\"\\u0645\\u062E\\u0632\\u0648\\u0646 \\u0645\\u0646\\u062E\\u0641\\u0636 (\",lowStockItems.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('excel'),className:\"px-4 py-2 rounded \".concat(currentView==='excel'?'bg-green-500 text-white':'bg-gray-200'),children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0625\\u0643\\u0633\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('add-item'),className:\"px-4 py-2 rounded \".concat(currentView==='add-item'?'bg-green-500 text-white':'bg-gray-200'),children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0639\\u0646\\u0635\\u0631 \\u062C\\u062F\\u064A\\u062F\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"\\u0627\\u0644\\u0628\\u062D\\u062B \\u0641\\u064A \\u0627\\u0644\\u062C\\u0631\\u062F...\",className:\"w-full p-3 border border-gray-300 rounded-lg\"})}),currentView==='items'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0639\\u0646\\u0627\\u0635\\u0631 \\u0627\\u0644\\u062C\\u0631\\u062F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0627\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0631\\u062C\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0642\\u0637\\u0639 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062D\\u062F \\u0627\\u0644\\u0623\\u062F\\u0646\\u0649\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredItems.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2 font-semibold\",children:item.material_type}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.inner_diameter}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.outer_diameter}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold \".concat(item.available_pieces<=item.min_stock_level?'text-red-600':'text-green-600'),children:[item.available_pieces,\" \\u0642\\u0637\\u0639\\u0629\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[item.min_stock_level,\" \\u0642\\u0637\\u0639\\u0629\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-sm \".concat(item.available_pieces<=item.min_stock_level?'bg-red-100 text-red-800':'bg-green-100 text-green-800'),children:item.available_pieces<=item.min_stock_level?'Ù…Ù†Ø®ÙØ¶':'Ø·Ø¨ÙŠØ¹ÙŠ'})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.notes||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingItem(item);setNewItem({material_type:item.material_type,inner_diameter:item.inner_diameter,outer_diameter:item.outer_diameter,available_pieces:item.available_pieces,min_stock_level:item.min_stock_level,notes:item.notes||''});setCurrentView('add-item');},className:\"bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{if(confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ±ØŸ')){try{await axios.delete(\"\".concat(API,\"/inventory/\").concat(item.id));alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ù†Ø¬Ø§Ø­');fetchInventoryItems();}catch(error){console.error('Error deleting item:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ±');}}},className:\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641\"})]})})]},item.id))})]})})]}),currentView==='transactions'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0639\\u0627\\u0645\\u0644\\u0629 \\u062C\\u0631\\u062F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsx(\"select\",{value:newTransaction.material_type,onChange:e=>setNewTransaction(_objectSpread(_objectSpread({},newTransaction),{},{material_type:e.target.value})),className:\"p-2 border border-gray-300 rounded\",children:materialTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newTransaction.inner_diameter,onChange:e=>setNewTransaction(_objectSpread(_objectSpread({},newTransaction),{},{inner_diameter:e.target.value})),placeholder:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u064A\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newTransaction.outer_diameter,onChange:e=>setNewTransaction(_objectSpread(_objectSpread({},newTransaction),{},{outer_diameter:e.target.value})),placeholder:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0631\\u062C\\u064A\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsxs(\"select\",{value:newTransaction.transaction_type,onChange:e=>setNewTransaction(_objectSpread(_objectSpread({},newTransaction),{},{transaction_type:e.target.value})),className:\"p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"in\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0644\\u0645\\u062E\\u0632\\u0648\\u0646\"}),/*#__PURE__*/_jsx(\"option\",{value:\"out\",children:\"\\u062E\\u0635\\u0645 \\u0645\\u0646 \\u0627\\u0644\\u0645\\u062E\\u0632\\u0648\\u0646\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"1\",value:newTransaction.pieces_change,onChange:e=>setNewTransaction(_objectSpread(_objectSpread({},newTransaction),{},{pieces_change:e.target.value})),placeholder:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0642\\u0637\\u0639\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTransaction.reason,onChange:e=>setNewTransaction(_objectSpread(_objectSpread({},newTransaction),{},{reason:e.target.value})),placeholder:\"\\u0633\\u0628\\u0628 \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\",className:\"p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTransaction.notes,onChange:e=>setNewTransaction(_objectSpread(_objectSpread({},newTransaction),{},{notes:e.target.value})),placeholder:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\",className:\"w-full p-2 border border-gray-300 rounded\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:addInventoryTransaction,className:\"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0633\\u062C\\u0644 \\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0627\\u0644\\u062C\\u0631\\u062F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0627\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0642\\u0627\\u0633\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0642\\u0637\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0631\\u0635\\u064A\\u062F \\u0627\\u0644\\u0645\\u062A\\u0628\\u0642\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0633\\u0628\\u0628\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredTransactions.map(transaction=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:new Date(transaction.date).toLocaleDateString('ar-EG')}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:transaction.material_type}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[transaction.inner_diameter,\" \\xD7 \",transaction.outer_diameter]}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-sm \".concat(transaction.transaction_type==='in'?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:transaction.transaction_type==='in'?'Ø¥Ø¶Ø§ÙØ©':'Ø®ØµÙ…'})}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold \".concat(transaction.pieces_change>0?'text-green-600':'text-red-600'),children:[transaction.pieces_change>0?'+':'',transaction.pieces_change,\" \\u0642\\u0637\\u0639\\u0629\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold\",children:[transaction.remaining_pieces,\" \\u0642\\u0637\\u0639\\u0629\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:transaction.reason}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:transaction.notes||'-'})]},transaction.id))})]})})]})]}),currentView==='low-stock'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 text-red-600\",children:[\"\\u0639\\u0646\\u0627\\u0635\\u0631 \\u0628\\u0645\\u062E\\u0632\\u0648\\u0646 \\u0645\\u0646\\u062E\\u0641\\u0636 (\",lowStockItems.length,\")\"]}),lowStockItems.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-green-600 text-center py-8\",children:\"\\u2705 \\u062C\\u0645\\u064A\\u0639 \\u0639\\u0646\\u0627\\u0635\\u0631 \\u0627\\u0644\\u062C\\u0631\\u062F \\u0641\\u064A \\u0627\\u0644\\u0645\\u0633\\u062A\\u0648\\u0649 \\u0627\\u0644\\u0637\\u0628\\u064A\\u0639\\u064A\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-red-50\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0627\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0642\\u0627\\u0633\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u062E\\u0632\\u0648\\u0646 \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062D\\u062F \\u0627\\u0644\\u0623\\u062F\\u0646\\u0649\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0642\\u0635 \\u0627\\u0644\\u0645\\u062E\\u0632\\u0648\\u0646\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:lowStockItems.map(item=>/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-red-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2 font-semibold\",children:item.material_type}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[item.inner_diameter,\" \\xD7 \",item.outer_diameter]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold text-red-600\",children:[item.available_pieces,\" \\u0642\\u0637\\u0639\\u0629\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[item.min_stock_level,\" \\u0642\\u0637\\u0639\\u0629\"]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold text-red-600\",children:[Math.max(0,item.min_stock_level-item.available_pieces),\" \\u0642\\u0637\\u0639\\u0629\"]})]},item.id))})]})})]}),currentView==='add-item'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:editingItem?'ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯':'Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø¬Ø±Ø¯ Ø¬Ø¯ÙŠØ¯'}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"select\",{value:newItem.material_type,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{material_type:e.target.value})),className:\"p-2 border border-gray-300 rounded\",children:materialTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newItem.inner_diameter,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{inner_diameter:e.target.value})),placeholder:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u064A\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newItem.outer_diameter,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{outer_diameter:e.target.value})),placeholder:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0631\\u062C\\u064A\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"1\",value:newItem.available_pieces,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{available_pieces:e.target.value})),placeholder:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0642\\u0637\\u0639 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newItem.min_stock_level,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{min_stock_level:e.target.value})),placeholder:\"\\u0627\\u0644\\u062D\\u062F \\u0627\\u0644\\u0623\\u062F\\u0646\\u0649 \\u0644\\u0644\\u0645\\u062E\\u0632\\u0648\\u0646\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newItem.notes,onChange:e=>setNewItem(_objectSpread(_objectSpread({},newItem),{},{notes:e.target.value})),placeholder:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\",className:\"p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addInventoryItem,className:\"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:editingItem?'ØªØ­Ø¯ÙŠØ« Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯':'Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯'}),editingItem&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingItem(null);setNewItem({material_type:'NBR',inner_diameter:'',outer_diameter:'',available_pieces:'',min_stock_level:2,notes:''});setCurrentView('items');},className:\"mt-4 mr-2 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644\"})]}),currentView==='excel'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0645\\u0644\\u0641\\u0627\\u062A \\u0627\\u0644\\u062C\\u0631\\u062F - Excel\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\u062A\\u0635\\u062F\\u064A\\u0631 \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u062C\\u0631\\u062F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{const response=await axios.get(\"\".concat(API,\"/excel/export/inventory\"),{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',\"inventory_export_\".concat(new Date().toISOString().split('T')[0],\".xlsx\"));document.body.appendChild(link);link.click();link.remove();alert('ØªÙ… ØªØµØ¯ÙŠØ± Ù…Ù„Ù Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error exporting inventory:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù„Ù');}},className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u062A\\u0635\\u062F\\u064A\\u0631 \\u062C\\u0631\\u062F Excel\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\u0627\\u0633\\u062A\\u064A\\u0631\\u0627\\u062F \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u062C\\u0631\\u062F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".xlsx,.xls\",onChange:async e=>{const file=e.target.files[0];if(!file)return;const formData=new FormData();formData.append('file',file);try{const response=await axios.post(\"\".concat(API,\"/excel/import/inventory\"),formData,{headers:{'Content-Type':'multipart/form-data'}});alert(\"\\u062A\\u0645 \\u0627\\u0633\\u062A\\u064A\\u0631\\u0627\\u062F \".concat(response.data.imported_count,\" \\u0639\\u0646\\u0635\\u0631 \\u0628\\u0646\\u062C\\u0627\\u062D\"));if(response.data.errors.length>0){console.warn('Import errors:',response.data.errors);}fetchInventoryItems();}catch(error){console.error('Error importing inventory:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù„Ù');}e.target.value='';},className:\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-2\",children:\"\\u0627\\u0644\\u0623\\u0639\\u0645\\u062F\\u0629 \\u0627\\u0644\\u0645\\u0637\\u0644\\u0648\\u0628\\u0629: material_type, inner_diameter, outer_diameter, available_pieces\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0645\\u0648\\u0627\\u062F \\u0627\\u0644\\u062E\\u0627\\u0645 - Excel\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\u062A\\u0635\\u062F\\u064A\\u0631 \\u0627\\u0644\\u0645\\u0648\\u0627\\u062F \\u0627\\u0644\\u062E\\u0627\\u0645\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{const response=await axios.get(\"\".concat(API,\"/excel/export/raw-materials\"),{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download',\"raw_materials_export_\".concat(new Date().toISOString().split('T')[0],\".xlsx\"));document.body.appendChild(link);link.click();link.remove();alert('ØªÙ… ØªØµØ¯ÙŠØ± Ù…Ù„Ù Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error exporting raw materials:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù„Ù');}},className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u062A\\u0635\\u062F\\u064A\\u0631 \\u0645\\u0648\\u0627\\u062F \\u062E\\u0627\\u0645 Excel\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\u0627\\u0633\\u062A\\u064A\\u0631\\u0627\\u062F \\u0627\\u0644\\u0645\\u0648\\u0627\\u062F \\u0627\\u0644\\u062E\\u0627\\u0645\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".xlsx,.xls\",onChange:async e=>{const file=e.target.files[0];if(!file)return;const formData=new FormData();formData.append('file',file);try{const response=await axios.post(\"\".concat(API,\"/excel/import/raw-materials\"),formData,{headers:{'Content-Type':'multipart/form-data'}});alert(\"\\u062A\\u0645 \\u0627\\u0633\\u062A\\u064A\\u0631\\u0627\\u062F \".concat(response.data.imported_count,\" \\u0645\\u0627\\u062F\\u0629 \\u062E\\u0627\\u0645 \\u0628\\u0646\\u062C\\u0627\\u062D\"));if(response.data.errors.length>0){console.warn('Import errors:',response.data.errors);}}catch(error){console.error('Error importing raw materials:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù„Ù');}e.target.value='';},className:\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-2\",children:\"\\u0627\\u0644\\u0623\\u0639\\u0645\\u062F\\u0629 \\u0627\\u0644\\u0645\\u0637\\u0644\\u0648\\u0628\\u0629: material_type, inner_diameter, outer_diameter, height, pieces_count, unit_code, cost_per_mm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-6 rounded-lg shadow-md md:col-span-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u062A\\u0639\\u0644\\u064A\\u0645\\u0627\\u062A \\u0627\\u0633\\u062A\\u062E\\u062F\\u0627\\u0645 \\u0627\\u0644\\u0625\\u0643\\u0633\\u0644\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\u062A\\u0635\\u062F\\u064A\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-gray-700 list-disc list-inside space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u064A\\u062A\\u0645 \\u062A\\u0635\\u062F\\u064A\\u0631 \\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u0627\\u0644\\u0645\\u0644\\u0641 \\u064A\\u062D\\u062A\\u0648\\u064A \\u0639\\u0644\\u0649 \\u062A\\u0646\\u0633\\u064A\\u0642 \\u062C\\u0627\\u0647\\u0632 \\u0644\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u064A\\u0645\\u0643\\u0646 \\u0641\\u062A\\u062D \\u0627\\u0644\\u0645\\u0644\\u0641 \\u0641\\u064A Excel \\u0623\\u0648 Google Sheets\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\u0627\\u0633\\u062A\\u064A\\u0631\\u0627\\u062F \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-gray-700 list-disc list-inside space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0643\\u0648\\u0646 \\u0627\\u0644\\u0645\\u0644\\u0641 \\u0645\\u0646 \\u0646\\u0648\\u0639 .xlsx \\u0623\\u0648 .xls\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u0627\\u0644\\u0623\\u0639\\u0645\\u062F\\u0629 \\u0627\\u0644\\u0645\\u0637\\u0644\\u0648\\u0628\\u0629 \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u062A\\u0643\\u0648\\u0646 \\u0645\\u0648\\u062C\\u0648\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0645\\u0648\\u062C\\u0648\\u062F\\u0629 \\u0644\\u0646 \\u062A\\u062A\\u0623\\u062B\\u0631 (\\u064A\\u062A\\u0645 \\u0627\\u0644\\u062A\\u062D\\u062F\\u064A\\u062B \\u0623\\u0648 \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u0629)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u0633\\u064A\\u062A\\u0645 \\u0639\\u0631\\u0636 \\u0631\\u0633\\u0627\\u0644\\u0629 \\u062A\\u0623\\u0643\\u064A\\u062F \\u0645\\u0639 \\u0639\\u062F\\u062F \\u0627\\u0644\\u0639\\u0646\\u0627\\u0635\\u0631 \\u0627\\u0644\\u0645\\u0633\\u062A\\u0648\\u0631\\u062F\\u0629\"})]})]})]})]})]})]});};// Local Products Management Component\nconst Local=()=>{const[suppliers,setSuppliers]=useState([]);const[localProducts,setLocalProducts]=useState([]);const[supplierTransactions,setSupplierTransactions]=useState([]);const[currentView,setCurrentView]=useState('suppliers');// suppliers, products, transactions\nconst[newSupplier,setNewSupplier]=useState({name:'',phone:'',address:''});const[newProduct,setNewProduct]=useState({name:'',supplier_id:'',purchase_price:'',selling_price:'',current_stock:0});const[newTransaction,setNewTransaction]=useState({supplier_id:'',transaction_type:'purchase',amount:'',description:'',product_name:'',quantity:'',unit_price:'',payment_method:'cash'});const[selectedSupplier,setSelectedSupplier]=useState('');const[paymentAmount,setPaymentAmount]=useState('');const[paymentMethod,setPaymentMethod]=useState('cash');// Fetch data functions\nconst fetchSuppliers=async()=>{try{const response=await axios.get(\"\".concat(API,\"/suppliers\"));setSuppliers(response.data||[]);}catch(error){console.error('Error fetching suppliers:',error);}};const fetchLocalProducts=async()=>{try{const response=await axios.get(\"\".concat(API,\"/local-products\"));setLocalProducts(response.data||[]);}catch(error){console.error('Error fetching local products:',error);}};const fetchSupplierTransactions=async()=>{try{const response=await axios.get(\"\".concat(API,\"/supplier-transactions\"));setSupplierTransactions(response.data||[]);}catch(error){console.error('Error fetching supplier transactions:',error);}};useEffect(()=>{fetchSuppliers();fetchLocalProducts();fetchSupplierTransactions();},[]);// Add supplier\nconst addSupplier=async()=>{if(!newSupplier.name.trim()){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯');return;}try{await axios.post(\"\".concat(API,\"/suppliers\"),newSupplier);fetchSuppliers();setNewSupplier({name:'',phone:'',address:''});alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error adding supplier:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ±Ø¯');}};// Add local product\nconst addLocalProduct=async()=>{if(!newProduct.name.trim()||!newProduct.supplier_id||!newProduct.purchase_price||!newProduct.selling_price){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');return;}try{await axios.post(\"\".concat(API,\"/local-products\"),_objectSpread(_objectSpread({},newProduct),{},{purchase_price:parseFloat(newProduct.purchase_price),selling_price:parseFloat(newProduct.selling_price),current_stock:parseInt(newProduct.current_stock||0)}));fetchLocalProducts();setNewProduct({name:'',supplier_id:'',purchase_price:'',selling_price:'',current_stock:0});alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error adding local product:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬');}};// Pay supplier\nconst paySupplier=async()=>{if(!selectedSupplier||!paymentAmount){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ±Ø¯ ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø¨Ù„Øº');return;}try{await axios.post(\"\".concat(API,\"/supplier-payment?supplier_id=\").concat(selectedSupplier,\"&amount=\").concat(paymentAmount,\"&payment_method=\").concat(paymentMethod));fetchSuppliers();fetchSupplierTransactions();setSelectedSupplier('');setPaymentAmount('');alert('ØªÙ… Ø¯ÙØ¹ Ø§Ù„Ù…Ø¨Ù„Øº Ù„Ù„Ù…ÙˆØ±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error paying supplier:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¯ÙØ¹ Ø§Ù„Ù…Ø¨Ù„Øº');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A \\u0627\\u0644\\u0645\\u062D\\u0644\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('suppliers'),className:\"px-4 py-2 rounded \".concat(currentView==='suppliers'?'bg-blue-500 text-white':'bg-gray-200'),children:\"\\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\\u064A\\u0646\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('products'),className:\"px-4 py-2 rounded \".concat(currentView==='products'?'bg-blue-500 text-white':'bg-gray-200'),children:\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('transactions'),className:\"px-4 py-2 rounded \".concat(currentView==='transactions'?'bg-blue-500 text-white':'bg-gray-200'),children:\"\\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('payments'),className:\"px-4 py-2 rounded \".concat(currentView==='payments'?'bg-blue-500 text-white':'bg-gray-200'),children:\"\\u0633\\u062F\\u0627\\u062F \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\\u064A\\u0646\"})]})]}),currentView==='suppliers'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0648\\u0631\\u062F \\u062C\\u062F\\u064A\\u062F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newSupplier.name,onChange:e=>setNewSupplier(_objectSpread(_objectSpread({},newSupplier),{},{name:e.target.value})),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newSupplier.phone,onChange:e=>setNewSupplier(_objectSpread(_objectSpread({},newSupplier),{},{phone:e.target.value})),placeholder:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newSupplier.address,onChange:e=>setNewSupplier(_objectSpread(_objectSpread({},newSupplier),{},{address:e.target.value})),placeholder:\"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\",className:\"p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addSupplier,className:\"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\\u064A\\u0646\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0634\\u062A\\u0631\\u064A\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0631\\u0635\\u064A\\u062F \\u0627\\u0644\\u0645\\u0633\\u062A\\u062D\\u0642\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:suppliers.map(supplier=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2 font-semibold\",children:supplier.name}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:supplier.phone||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:supplier.address||'-'}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[\"\\u062C.\\u0645 \",(supplier.total_purchases||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[\"\\u062C.\\u0645 \",(supplier.total_paid||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold \".concat((supplier.balance||0)>0?'text-red-600':'text-green-600'),children:[\"\\u062C.\\u0645 \",(supplier.balance||0).toFixed(2)]})]},supplier.id))})]})})]})]}),currentView==='products'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0646\\u062A\\u062C \\u0645\\u062D\\u0644\\u064A \\u062C\\u062F\\u064A\\u062F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newProduct.name,onChange:e=>setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{name:e.target.value})),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsxs(\"select\",{value:newProduct.supplier_id,onChange:e=>setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{supplier_id:e.target.value})),className:\"p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\"}),suppliers.map(supplier=>/*#__PURE__*/_jsx(\"option\",{value:supplier.id,children:supplier.name},supplier.id))]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newProduct.purchase_price,onChange:e=>setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{purchase_price:e.target.value})),placeholder:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0634\\u0631\\u0627\\u0621\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newProduct.selling_price,onChange:e=>setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{selling_price:e.target.value})),placeholder:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\",className:\"p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addLocalProduct,className:\"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A \\u0627\\u0644\\u0645\\u062D\\u0644\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0634\\u0631\\u0627\\u0621\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u062E\\u0632\\u0648\\u0646 \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u0627\\u0639\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:localProducts.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2 font-semibold\",children:product.name}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.supplier_name}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[\"\\u062C.\\u0645 \",product.purchase_price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[\"\\u062C.\\u0645 \",product.selling_price.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.current_stock||0}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.total_sold||0})]},product.id))})]})})]})]}),currentView==='transactions'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\\u064A\\u0646\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0648\\u0635\\u0641\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:supplierTransactions.map(transaction=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:new Date(transaction.date).toLocaleDateString('ar-EG')}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:transaction.supplier_name}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-sm \".concat(transaction.transaction_type==='purchase'?'bg-red-100 text-red-800':'bg-green-100 text-green-800'),children:transaction.transaction_type==='purchase'?'Ø´Ø±Ø§Ø¡':'Ø¯ÙØ¹'})}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold \".concat(transaction.transaction_type==='purchase'?'text-red-600':'text-green-600'),children:[\"\\u062C.\\u0645 \",transaction.amount.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:transaction.description}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:transaction.product_name||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:transaction.quantity||'-'})]},transaction.id))})]})})]}),currentView==='payments'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0633\\u062F\\u0627\\u062F \\u062D\\u0633\\u0627\\u0628\\u0627\\u062A \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\\u064A\\u0646\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedSupplier,onChange:e=>setSelectedSupplier(e.target.value),className:\"p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\"}),suppliers.filter(s=>(s.balance||0)>0).map(supplier=>/*#__PURE__*/_jsxs(\"option\",{value:supplier.id,children:[supplier.name,\" - \\u0645\\u0633\\u062A\\u062D\\u0642: \\u062C.\\u0645 \",(supplier.balance||0).toFixed(2)]},supplier.id))]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:paymentAmount,onChange:e=>setPaymentAmount(e.target.value),placeholder:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639\",className:\"p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsxs(\"select\",{value:paymentMethod,onChange:e=>setPaymentMethod(e.target.value),className:\"p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"cash\",children:\"\\u0646\\u0642\\u062F\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vodafone_elsawy\",children:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vodafone_wael\",children:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0648\\u0627\\u0626\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"instapay\",children:\"\\u0627\\u0646\\u0633\\u062A\\u0627 \\u0628\\u0627\\u064A\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:paySupplier,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u062F\\u0641\\u0639 \\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"})]})]});};// Dashboard Component\nconst Dashboard=()=>{const{user}=useAuth();// Only Elsawy can access dashboard\nif((user===null||user===void 0?void 0:user.username)!=='Elsawy'){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",dir:\"rtl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u063A\\u064A\\u0631 \\u0645\\u0633\\u0645\\u0648\\u062D!\"}),\" \\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645 \\u0645\\u062E\\u0635\\u0635\\u0629 \\u0644\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645 Elsawy \\u0641\\u0642\\u0637.\"]})});}const[stats,setStats]=useState({total_sales:0,total_expenses:0,net_profit:0,total_unpaid:0,invoice_count:0,customer_count:0});useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{try{const response=await axios.get(\"\".concat(API,\"/dashboard/stats\"));setStats(response.data);}catch(error){console.error('Error fetching stats:',error);}};const clearAllData=async()=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.'))return;try{// Clear all data from backend\nawait axios.delete(\"\".concat(API,\"/customers/clear-all\"));await axios.delete(\"\".concat(API,\"/raw-materials/clear-all\"));await axios.delete(\"\".concat(API,\"/finished-products/clear-all\"));await axios.delete(\"\".concat(API,\"/invoices/clear-all\"));await axios.delete(\"\".concat(API,\"/expenses/clear-all\"));await axios.delete(\"\".concat(API,\"/payments/clear-all\"));await axios.delete(\"\".concat(API,\"/work-orders/clear-all\"));// Refresh dashboard stats\nfetchStats();alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');}catch(error){console.error('Error clearing all data:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');}};const printReport=reportType=>{const currentDate=new Date().toLocaleDateString('ar-EG');let printContent=\"\\n      <div style=\\\"font-family: Arial, sans-serif; direction: rtl; text-align: right;\\\">\\n        <div style=\\\"text-align: center; margin-bottom: 20px;\\\">\\n          <h1>\\u0645\\u0627\\u0633\\u062A\\u0631 \\u0633\\u064A\\u0644</h1>\\n          <p>\\u0627\\u0644\\u062D\\u0631\\u0641\\u064A\\u0627\\u0646 \\u0634\\u0627\\u0631\\u0639 \\u0627\\u0644\\u0633\\u0648\\u0628\\u0631 \\u062C\\u064A\\u062A - 01020630677</p>\\n          <h2>\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645</h2>\\n          <p>\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E: \".concat(currentDate,\"</p>\\n        </div>\\n        <table style=\\\"width: 100%; border-collapse: collapse;\\\">\\n          <tr>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\"><strong>\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u064A\\u0639\\u0627\\u062A:</strong></td>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\">\\u062C.\\u0645 \").concat(stats.total_sales.toFixed(2),\"</td>\\n          </tr>\\n          <tr>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\"><strong>\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A:</strong></td>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\">\\u062C.\\u0645 \").concat(stats.total_expenses.toFixed(2),\"</td>\\n          </tr>\\n          <tr>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\"><strong>\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u0631\\u0628\\u062D:</strong></td>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\">\\u062C.\\u0645 \").concat(stats.net_profit.toFixed(2),\"</td>\\n          </tr>\\n          <tr>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\"><strong>\\u0627\\u0644\\u0645\\u0628\\u0627\\u0644\\u063A \\u0627\\u0644\\u0645\\u0633\\u062A\\u062D\\u0642\\u0629:</strong></td>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\">\\u062C.\\u0645 \").concat(stats.total_unpaid.toFixed(2),\"</td>\\n          </tr>\\n          <tr>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\"><strong>\\u0639\\u062F\\u062F \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631:</strong></td>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\">\").concat(stats.invoice_count,\"</td>\\n          </tr>\\n          <tr>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\"><strong>\\u0639\\u062F\\u062F \\u0627\\u0644\\u0639\\u0645\\u0644\\u0627\\u0621:</strong></td>\\n            <td style=\\\"border: 1px solid #ddd; padding: 10px;\\\">\").concat(stats.customer_count,\"</td>\\n          </tr>\\n        </table>\\n      </div>\\n    \");const printWindow=window.open('','_blank');printWindow.document.write(printContent);printWindow.document.close();printWindow.print();};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-6 text-white shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-2\",children:\"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-100\",children:[\"\\u0645\\u0631\\u062D\\u0628\\u0627\\u064B \",user===null||user===void 0?void 0:user.username,\" - \\u0625\\u0644\\u064A\\u0643 \\u0646\\u0638\\u0631\\u0629 \\u0639\\u0627\\u0645\\u0629 \\u0639\\u0644\\u0649 \\u0623\\u062F\\u0627\\u0621 \\u0627\\u0644\\u0646\\u0634\\u0627\\u0637\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl opacity-20\",children:\"\\uD83D\\uDCCA\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap space-x-4 space-x-reverse mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:clearAllData,className:\"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl hover:transform hover:scale-105\",children:\"\\uD83D\\uDDD1\\uFE0F \\u062D\\u0630\\u0641 \\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchStats,className:\"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl hover:transform hover:scale-105\",children:\"\\uD83D\\uDD04 \\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u062D\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>printReport('dashboard'),className:\"bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl hover:transform hover:scale-105\",children:\"\\uD83D\\uDDA8\\uFE0F \\u0637\\u0628\\u0627\\u0639\\u0629 \\u062A\\u0642\\u0631\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"bg-white text-gray-700 border-0 rounded-lg px-4 py-3 shadow-lg focus:ring-2 focus:ring-blue-300 font-medium\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\uD83D\\uDCC5 \\u064A\\u0648\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\uD83D\\uDCC6 \\u0623\\u0633\\u0628\\u0648\\u0639\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\uD83D\\uDCCA \\u0634\\u0647\\u0631\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\uD83D\\uDCC8 \\u0633\\u0646\\u0648\\u064A\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-green-400 to-green-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold opacity-90\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u064A\\u0639\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold mt-2\",children:[\"\\u062C.\\u0645 \",stats.total_sales.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl opacity-30\",children:\"\\uD83D\\uDCB0\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-red-400 to-red-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold opacity-90\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold mt-2\",children:[\"\\u062C.\\u0645 \",stats.total_expenses.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl opacity-30\",children:\"\\uD83D\\uDCB8\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-blue-400 to-blue-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold opacity-90\",children:\"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u0631\\u0628\\u062D\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold mt-2\",children:[\"\\u062C.\\u0645 \",stats.net_profit.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl opacity-30\",children:\"\\uD83D\\uDCC8\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-orange-400 to-orange-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold opacity-90\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0627\\u0644\\u063A \\u0627\\u0644\\u0645\\u0633\\u062A\\u062D\\u0642\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold mt-2\",children:[\"\\u062C.\\u0645 \",stats.total_unpaid.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl opacity-30\",children:\"\\u23F3\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-purple-400 to-purple-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold opacity-90\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-2\",children:stats.invoice_count})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl opacity-30\",children:\"\\uD83E\\uDDFE\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-teal-400 to-teal-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold opacity-90\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0639\\u0645\\u0644\\u0627\\u0621\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-2\",children:stats.customer_count})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl opacity-30\",children:\"\\uD83D\\uDC65\"})]})})]})]});};// Sales Component\nconst Sales=()=>{const[customers,setCustomers]=useState([]);const[newCustomer,setNewCustomer]=useState('');const[selectedCustomer,setSelectedCustomer]=useState('');const[supervisorName,setSupervisorName]=useState('');// Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ†ÙŠØ¹\nconst[invoiceTitle,setInvoiceTitle]=useState('');// Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©\nconst[currentItem,setCurrentItem]=useState({seal_type:'RSL',material_type:'NBR',inner_diameter:'',outer_diameter:'',height:'',quantity:1,unit_price:'',product_type:'manufactured'// manufactured Ø£Ùˆ local\n});const[localProduct,setLocalProduct]=useState({product_size:'',// Ù…Ù‚Ø§Ø³ Ø§Ù„Ù…Ù†ØªØ¬\nproduct_type:'',// Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬\npurchase_price:'',selling_price:'',supplier:''});const[items,setItems]=useState([]);const[paymentMethod,setPaymentMethod]=useState('Ù†Ù‚Ø¯ÙŠ');const[discount,setDiscount]=useState(0);// Ø§Ù„Ø®ØµÙ…\nconst[discountType,setDiscountType]=useState('amount');// Ù†ÙˆØ¹ Ø§Ù„Ø®ØµÙ…: amount Ø£Ùˆ percentage\nconst[compatibilityResults,setCompatibilityResults]=useState(null);const[selectedMaterial,setSelectedMaterial]=useState(null);const[measurementUnit,setMeasurementUnit]=useState('Ù…Ù…');// Ø¨ÙˆØµØ© Ø£Ùˆ Ù…Ù…\nconst[wallHeight,setWallHeight]=useState('');// Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø­ÙŠØ·Ø© Ù„Ù„Ù€ W types\nconst sealTypes=['RSL','RS','RSE','B17','B3','B14','B1','R15','R17','W1','W4','W5','W11','WBT','XR','CH','VR'];const materialTypes=['NBR','BUR','BT','VT','BOOM'];useEffect(()=>{fetchCustomers();},[]);const fetchCustomers=async()=>{try{const response=await axios.get(\"\".concat(API,\"/customers\"));setCustomers(response.data);}catch(error){console.error('Error fetching customers:',error);}};const checkCompatibility=async()=>{if(!currentItem.inner_diameter||!currentItem.outer_diameter||!currentItem.height){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');return;}const innerDiameter=parseFloat(currentItem.inner_diameter);const outerDiameter=parseFloat(currentItem.outer_diameter);const height=parseFloat(currentItem.height);if(isNaN(innerDiameter)||isNaN(outerDiameter)||isNaN(height)){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø£Ø±Ù‚Ø§Ù… ØµØ­ÙŠØ­Ø© Ù„Ù„Ù…Ù‚Ø§Ø³Ø§Øª');return;}try{const response=await axios.post(\"\".concat(API,\"/compatibility-check\"),{seal_type:currentItem.seal_type,inner_diameter:innerDiameter,outer_diameter:outerDiameter,height:height});setCompatibilityResults(response.data);}catch(error){console.error('Error checking compatibility:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ Ø§Ù„ØªÙˆØ§ÙÙ‚');}};const addItem=()=>{if(currentItem.product_type==='manufactured'){// Validation for manufactured products\nif(!currentItem.inner_diameter||!currentItem.outer_diameter||!currentItem.height||!currentItem.unit_price){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');return;}const item=_objectSpread(_objectSpread({},currentItem),{},{inner_diameter:parseFloat(currentItem.inner_diameter),outer_diameter:parseFloat(currentItem.outer_diameter),height:parseFloat(currentItem.height),quantity:parseInt(currentItem.quantity),unit_price:parseFloat(currentItem.unit_price),total_price:parseFloat(currentItem.unit_price)*parseInt(currentItem.quantity),material_used:selectedMaterial?selectedMaterial.unit_code:null,material_details:selectedMaterial?{unit_code:selectedMaterial.unit_code,inner_diameter:selectedMaterial.inner_diameter,outer_diameter:selectedMaterial.outer_diameter,height:selectedMaterial.height,material_type:selectedMaterial.material_type,is_finished_product:selectedMaterial.is_finished_product||false}:null});setItems([...items,item]);setCurrentItem({seal_type:'RSL',material_type:'NBR',inner_diameter:'',outer_diameter:'',height:'',quantity:1,unit_price:'',product_type:'manufactured'});}else{// Validation for local products\nif(!localProduct.product_size||!localProduct.product_type||!localProduct.selling_price||!localProduct.supplier||!localProduct.purchase_price){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø­Ù„ÙŠ');return;}const product_name=\"\".concat(localProduct.product_size,\" - \").concat(localProduct.product_type);const item={// Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©ØŒ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØµÙ†Ø¹Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† null\nseal_type:null,material_type:null,inner_diameter:null,outer_diameter:null,height:null,product_type:'local',product_name:product_name,product_size:localProduct.product_size,product_type_name:localProduct.product_type,supplier:localProduct.supplier,purchase_price:parseFloat(localProduct.purchase_price),selling_price:parseFloat(localProduct.selling_price),quantity:parseInt(currentItem.quantity),unit_price:parseFloat(localProduct.selling_price),// Use selling price as unit price\ntotal_price:parseFloat(localProduct.selling_price)*parseInt(currentItem.quantity),// Store local product details\nlocal_product_details:{product_size:localProduct.product_size,product_type:localProduct.product_type,supplier:localProduct.supplier,purchase_price:parseFloat(localProduct.purchase_price),selling_price:parseFloat(localProduct.selling_price)}};setItems([...items,item]);setLocalProduct({product_size:'',product_type:'',purchase_price:'',selling_price:'',supplier:''});setCurrentItem({seal_type:'RSL',material_type:'NBR',inner_diameter:'',outer_diameter:'',height:'',quantity:1,unit_price:'',product_type:'manufactured'});}setCompatibilityResults(null);setSelectedMaterial(null);};const createInvoice=async()=>{if(!selectedCustomer&&!newCustomer){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø£Ùˆ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯');return;}if(items.length===0){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„ÙØ§ØªÙˆØ±Ø©');return;}try{let customerId=selectedCustomer;let customerName='';// Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±\nif(!selectedCustomer&&newCustomer){const customerResponse=await axios.post(\"\".concat(API,\"/customers\"),{name:newCustomer,phone:'',address:''});customerId=customerResponse.data.id;customerName=newCustomer;// ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\nfetchCustomers();}else{const customer=customers.find(c=>c.id===customerId);customerName=customer?customer.name:'';}// Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆØ§Ù„Ø®ØµÙ…\nconst subtotal=items.reduce((sum,item)=>sum+item.total_price,0);const discountAmount=discountType==='percentage'?subtotal*parseFloat(discount||0)/100:parseFloat(discount||0);const totalAfterDiscount=subtotal-discountAmount;// Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©\nconst invoiceData={customer_id:customerId,customer_name:customerName,invoice_title:invoiceTitle,// Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©\nsupervisor_name:supervisorName,// Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù\nitems:items,payment_method:paymentMethod,subtotal:subtotal,discount:discountAmount,discount_type:discountType,discount_value:parseFloat(discount||0),total_after_discount:totalAfterDiscount,notes:''};const response=await axios.post(\"\".concat(API,\"/invoices?supervisor_name=\").concat(encodeURIComponent(supervisorName)),invoiceData);if(response.data){alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');// Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\nsetItems([]);setSelectedCustomer('');setNewCustomer('');setSupervisorName('');setInvoiceTitle('');// Ù…Ø³Ø­ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©\nsetPaymentMethod('Ù†Ù‚Ø¯ÙŠ');setDiscount(0);setDiscountType('amount');// Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©\nprintInvoice(response.data);}}catch(error){console.error('Error creating invoice:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©');}};const printInvoice=invoice=>{const printContent=\"\\n      <!DOCTYPE html>\\n      <html dir=\\\"rtl\\\">\\n      <head>\\n        <meta charset=\\\"UTF-8\\\">\\n        <style>\\n          body {\\n            font-family: Arial, sans-serif;\\n            margin: 0;\\n            padding: 20px;\\n            direction: rtl;\\n            font-size: 15px;\\n          }\\n          .header {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n            border-bottom: 3px solid #000;\\n            padding-bottom: 10px;\\n            margin-bottom: 20px;\\n          }\\n          .company-info {\\n            text-align: right;\\n          }\\n          .company-name {\\n            font-size: 32px;\\n            font-weight: bold;\\n            color: #000;\\n            margin: 0;\\n          }\\n          .company-subtitle {\\n            font-size: 20px;\\n            margin: 5px 0;\\n            color: #666;\\n          }\\n          .company-details {\\n            font-size: 16px;\\n            margin: 2px 0;\\n            color: #333;\\n          }\\n          .logo-section {\\n            text-align: center;\\n            flex: 1;\\n          }\\n          .invoice-title {\\n            font-size: 20px;\\n            font-weight: bold;\\n            background-color: #ff4444;\\n            color: white;\\n            padding: 8px 20px;\\n            border-radius: 5px;\\n            display: inline-block;\\n            margin-bottom: 10px;\\n          }\\n          .invoice-number {\\n            font-size: 18px;\\n            font-weight: bold;\\n            color: #ff4444;\\n          }\\n          .customer-info {\\n            display: flex;\\n            justify-content: space-between;\\n            margin: 20px 0;\\n          }\\n          .customer-details {\\n            text-align: right;\\n          }\\n          .date-info {\\n            text-align: left;\\n          }\\n          .products-table {\\n            width: 100%;\\n            border-collapse: collapse;\\n            border: 2px solid #000;\\n            margin: 20px 0;\\n          }\\n          .products-table th,\\n          .products-table td {\\n            border: 1px solid #000;\\n            padding: 8px;\\n            text-align: center;\\n          }\\n          .products-table th {\\n            background-color: #f0f0f0;\\n            font-weight: bold;\\n          }\\n          .footer {\\n            margin-top: 30px;\\n            border-top: 1px solid #ccc;\\n            padding-top: 15px;\\n            display: flex;\\n            justify-content: space-between;\\n            font-size: 12px;\\n            color: #666;\\n          }\\n          .total-section {\\n            text-align: left;\\n            margin-top: 10px;\\n          }\\n          .total-amount {\\n            font-size: 18px;\\n            font-weight: bold;\\n            border: 2px solid #000;\\n            padding: 10px;\\n            display: inline-block;\\n            background-color: #f9f9f9;\\n          }\\n          @media print {\\n            body { margin: 0; padding: 10px; }\\n          }\\n        </style>\\n      </head>\\n      <body>\\n        <!-- Header Section -->\\n        <div class=\\\"header\\\">\\n          <div class=\\\"company-info\\\">\\n            <h1 class=\\\"company-name\\\">\\u0634\\u0631\\u0643\\u0629 \\u0645\\u0627\\u0633\\u062A\\u0631 \\u0633\\u064A\\u0644</h1>\\n            <p class=\\\"company-subtitle\\\">\\u062A\\u0635\\u0646\\u064A\\u0639 \\u062C\\u0645\\u064A\\u0639 \\u0623\\u0646\\u0648\\u0627\\u0639 \\u0627\\u0644\\u0623\\u0648\\u064A\\u0644 \\u0633\\u064A\\u0644</p>\\n            <p class=\\\"company-details\\\">\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0623\\u0642\\u0637\\u0627\\u0631 \\u062D\\u062A\\u0649 \\u0665\\u0660\\u0660\\u0645\\u0644</p>\\n            <p class=\\\"company-details\\\">\\u0647\\u064A\\u062F\\u0631\\u0648\\u0644\\u064A\\u0643 - \\u0646\\u064A\\u0648\\u0645\\u0627\\u062A\\u064A\\u0643</p>\\n          </div>\\n          \\n          <div class=\\\"logo-section\\\">\\n            <img src=\\\"https://customer-assets.emergentagent.com/job_oilseal-mgmt/artifacts/42i3e7yn_WhatsApp%20Image%202025-07-31%20at%2015.14.10_e8c55120.jpg\\\" \\n                 alt=\\\"Master Seal Logo\\\" \\n                 style=\\\"max-width: 120px; max-height: 80px; margin-bottom: 10px;\\\">\\n            <div class=\\\"invoice-title\\\">\".concat(invoice.invoice_title||'Ø¹Ø±Ø¶ Ø³Ø¹Ø±',\"</div>\\n            <div class=\\\"invoice-number\\\">\").concat(invoice.invoice_number,\"</div>\\n          </div>\\n        </div>\\n\\n        <!-- Customer and Date Info -->\\n        <div class=\\\"customer-info\\\">\\n          <div class=\\\"customer-details\\\">\\n            <p><strong>\\u0627\\u0644\\u0633\\u0627\\u062F\\u0629:</strong> \").concat(invoice.customer_name,\"</p>\\n            <p><strong>\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646:</strong> \").concat(invoice.customer_address||'........................',\"</p>\\n          </div>\\n          <div class=\\\"date-info\\\">\\n            <p><strong>\\u062A\\u062D\\u0631\\u064A\\u0631 \\u0641\\u064A:</strong> \").concat(new Date(invoice.date).toLocaleDateString('ar-EG'),\"</p>\\n            <p><strong>Date:</strong> \").concat(new Date(invoice.date).toLocaleDateString('en-GB'),\"</p>\\n          </div>\\n        </div>\\n\\n        <!-- Products Table -->\\n        <table class=\\\"products-table\\\">\\n          <thead>\\n            <tr>\\n              <th style=\\\"width: 60px;\\\">\\u0627\\u0644\\u0645\\u0633\\u0644\\u0633\\u0644<br>Item</th>\\n              <th style=\\\"width: 80px;\\\">\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629<br>QTY</th>\\n              <th style=\\\"width: 200px;\\\">Description<br>\\u0627\\u0644\\u0645\\u0648\\u0627\\u0635\\u0641\\u0627\\u062A</th>\\n              <th style=\\\"width: 100px;\\\">\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629<br>Unit Price</th>\\n              <th style=\\\"width: 100px;\\\">\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A<br>Total</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            \").concat(invoice.items.map((item,index)=>\"\\n              <tr>\\n                <td>\".concat(index+1,\"</td>\\n                <td>\").concat(item.quantity,\"</td>\\n                <td style=\\\"text-align: right;\\\">\\n                  \").concat(item.local_product_details?\"\".concat(item.local_product_details.product_size,\" - \").concat(item.local_product_details.product_type):\"\".concat(item.seal_type,\" - \").concat(item.material_type,\"<br>\\n                    <small>\").concat(item.inner_diameter,\" \\xD7 \").concat(item.outer_diameter,\" \\xD7 \").concat(item.height,\" \\u0645\\u0645\").concat(item.wall_height?\" (\\u0627\\u0631\\u062A\\u0641\\u0627\\u0639 \\u0627\\u0644\\u062D\\u064A\\u0637\\u0629: \".concat(item.wall_height,\" \\u0645\\u0645)\"):\"\",\"</small>\"),\"\\n                </td>\\n                <td>\\u062C.\\u0645 \").concat(item.unit_price.toFixed(2),\"</td>\\n                <td>\\u062C.\\u0645 \").concat(item.total_price.toFixed(2),\"</td>\\n              </tr>\\n            \")).join(''),\"\\n            <!-- Empty rows for additional items -->\\n            \").concat(Array.from({length:Math.max(0,8-invoice.items.length)},(_,i)=>\"\\n              <tr style=\\\"height: 40px;\\\">\\n                <td></td>\\n                <td></td>\\n                <td></td>\\n                <td></td>\\n                <td></td>\\n              </tr>\\n            \").join(''),\"\\n          </tbody>\\n        </table>\\n\\n        <!-- Total Section -->\\n        <div class=\\\"total-section\\\">\\n          <div style=\\\"text-align: left; margin-bottom: 10px;\\\">\\n            \").concat(invoice.subtotal?\"\\n              <div style=\\\"margin-bottom: 5px;\\\">\\n                <span>\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639 \\u0627\\u0644\\u0641\\u0631\\u0639\\u064A: \\u062C.\\u0645 \".concat(invoice.subtotal.toFixed(2),\"</span>\\n              </div>\\n            \"):'',\"\\n            \").concat(invoice.discount&&invoice.discount>0?\"\\n              <div style=\\\"margin-bottom: 5px; color: #d32f2f;\\\">\\n                <span>\\u0627\\u0644\\u062E\\u0635\\u0645: - \\u062C.\\u0645 \".concat(invoice.discount.toFixed(2),\"</span>\\n                \").concat(invoice.discount_type==='percentage'&&invoice.discount_value?\" <small>(\".concat(invoice.discount_value,\"%)</small>\"):'',\"\\n              </div>\\n              <hr style=\\\"margin: 5px 0; border: 1px solid #000;\\\">\\n            \"):'',\"\\n          </div>\\n          <div class=\\\"total-amount\\\">\\n            \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0646\\u0647\\u0627\\u0626\\u064A: \\u062C.\\u0645 \").concat((invoice.total_after_discount||invoice.total_amount).toFixed(2),\"\\n          </div>\\n        </div>\\n\\n        <!-- Additional Info -->\\n        <div style=\\\"margin-top: 20px; text-align: center; font-size: 12px;\\\">\\n          <p><strong>\\u0645\\u0644\\u062D\\u0648\\u0638\\u0629:</strong> \\u0641\\u0642\\u0637 \\u0648\\u0642\\u062F\\u0631\\u0647</p>\\n          <div style=\\\"height: 30px; border-bottom: 1px solid #000; margin: 10px 40px;\\\"></div>\\n        </div>\\n\\n        <!-- Footer -->\\n        <div class=\\\"footer\\\">\\n          <div>\\n            <p><strong>\\u0627\\u0644\\u062A\\u0648\\u0642\\u064A\\u0639:</strong></p>\\n            <p>\\u0645\\u0648\\u0628\\u0627\\u064A\\u0644: \\u0660\\u0661\\u0660\\u0662\\u0660\\u0666\\u0663\\u0660\\u0666\\u0667\\u0667 - \\u0660\\u0661\\u0660\\u0666\\u0662\\u0663\\u0669\\u0660\\u0668\\u0667\\u0660</p>\\n            <p>\\u062A\\u0644\\u064A\\u0641\\u0648\\u0646: \\u0660\\u0661\\u0660\\u0662\\u0660\\u0666\\u0663\\u0660\\u0666\\u0667\\u0667</p>\\n          </div>\\n          <div style=\\\"text-align: left;\\\">\\n            <p><strong>\\u0627\\u0644\\u0645\\u0633\\u062A\\u0644\\u0645:</strong></p>\\n            <p>\\u0627\\u0644\\u062D\\u0631\\u0641\\u064A\\u064A\\u0646 - \\u0627\\u0644\\u0633\\u0644\\u0627\\u0645 - \\u0623\\u0645\\u0627\\u0645 \\u0627\\u0644\\u0633\\u0648\\u0628\\u0631 \\u062C\\u064A\\u062A</p>\\n            <p>\\u0645\\u0648\\u0628\\u0627\\u064A\\u0644: \\u0660\\u0661\\u0660\\u0662\\u0660\\u0666\\u0663\\u0660\\u0666\\u0667\\u0667 - \\u0660\\u0661\\u0660\\u0666\\u0662\\u0663\\u0669\\u0660\\u0668\\u0667\\u0660</p>\\n          </div>\\n        </div>\\n\\n        <!-- Note -->\\n        <div style=\\\"text-align: center; margin-top: 20px; font-size: 11px; color: #666;\\\">\\n          <p>\\u064A\\u0642\\u0631 \\u0627\\u0644\\u0645\\u0634\\u062A\\u0631\\u064A \\u0628\\u0623\\u0646\\u0647 \\u0642\\u0627\\u0645 \\u0628\\u0645\\u0639\\u0627\\u064A\\u0646\\u0629 \\u0627\\u0644\\u0628\\u0636\\u0627\\u0639\\u0629 \\u0648\\u0642\\u0628\\u0648\\u0644\\u0647\\u0627</p>\\n        </div>\\n      </body>\\n      </html>\\n    \");const printWindow=window.open('','_blank');printWindow.document.write(printContent);printWindow.document.close();printWindow.print();};const clearAllInvoices=async()=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.'))return;try{setItems([]);alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±');}catch(error){alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-600 mb-6\",children:\"\\u0627\\u0644\\u0645\\u0628\\u064A\\u0639\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:selectedCustomer,onChange:e=>setSelectedCustomer(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"}),customers.map(customer=>/*#__PURE__*/_jsx(\"option\",{value:customer.id,children:customer.name},customer.id))]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCustomer,onChange:e=>setNewCustomer(e.target.value),placeholder:\"\\u0627\\u0633\\u0645 \\u0639\\u0645\\u064A\\u0644 \\u062C\\u062F\\u064A\\u062F\",className:\"flex-1 p-2 border border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0639\\u0645\\u064A\\u0644 \\u062C\\u062F\\u064A\\u062F\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0634\\u0631\\u0641 \\u0639\\u0644\\u0649 \\u0627\\u0644\\u062A\\u0635\\u0646\\u064A\\u0639\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:supervisorName,onChange:e=>setSupervisorName(e.target.value),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0634\\u0631\\u0641 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\",className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:invoiceTitle,onChange:e=>setInvoiceTitle(e.target.value),placeholder:\"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\",className:\"w-full p-2 border border-gray-300 rounded\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsxs(\"select\",{value:currentItem.product_type,onChange:e=>setCurrentItem(_objectSpread(_objectSpread({},currentItem),{},{product_type:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"manufactured\",children:\"\\u0645\\u0646\\u062A\\u062C \\u062A\\u0635\\u0646\\u064A\\u0639\"}),/*#__PURE__*/_jsx(\"option\",{value:\"local\",children:\"\\u0645\\u0646\\u062A\\u062C \\u0645\\u062D\\u0644\\u064A\"})]})]}),currentItem.product_type==='manufactured'?/*#__PURE__*/// Manufacturing Product Form\n_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"select\",{value:currentItem.seal_type,onChange:e=>setCurrentItem(_objectSpread(_objectSpread({},currentItem),{},{seal_type:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:sealTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"select\",{value:currentItem.material_type,onChange:e=>setCurrentItem(_objectSpread(_objectSpread({},currentItem),{},{material_type:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:materialTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:currentItem.inner_diameter,onChange:e=>setCurrentItem(_objectSpread(_objectSpread({},currentItem),{},{inner_diameter:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0631\\u062C\\u064A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:currentItem.outer_diameter,onChange:e=>setCurrentItem(_objectSpread(_objectSpread({},currentItem),{},{outer_diameter:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0631\\u062A\\u0641\\u0627\\u0639 \\u0627\\u0644\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:currentItem.height,onChange:e=>setCurrentItem(_objectSpread(_objectSpread({},currentItem),{},{height:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),currentItem.seal_type&&currentItem.seal_type.startsWith('W')&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0631\\u062A\\u0641\\u0627\\u0639 \\u0627\\u0644\\u062D\\u064A\\u0637\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:wallHeight,onChange:e=>setWallHeight(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0627\\u0631\\u062A\\u0641\\u0627\\u0639 \\u0627\\u0644\\u062D\\u064A\\u0637\\u0629 \\u0644\\u0644\\u0633\\u064A\\u0644 \\u0646\\u0648\\u0639 W\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0648\\u062D\\u062F\\u0629 \\u0627\\u0644\\u0642\\u064A\\u0627\\u0633\"}),/*#__PURE__*/_jsxs(\"select\",{value:measurementUnit,onChange:e=>setMeasurementUnit(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u0645\\u0645\",children:\"\\u0645\\u0644\\u064A\\u0645\\u062A\\u0631 (\\u0645\\u0645)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0628\\u0648\\u0635\\u0629\",children:\"\\u0628\\u0648\\u0635\\u0629\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:currentItem.quantity,onChange:e=>setCurrentItem(_objectSpread(_objectSpread({},currentItem),{},{quantity:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0633\\u064A\\u0644 \\u0627\\u0644\\u0648\\u0627\\u062D\\u062F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:currentItem.unit_price,onChange:e=>setCurrentItem(_objectSpread(_objectSpread({},currentItem),{},{unit_price:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:checkCompatibility,className:\"w-full bg-yellow-500 text-white p-2 rounded hover:bg-yellow-600\",children:\"\\u0641\\u062D\\u0635 \\u0627\\u0644\\u062A\\u0648\\u0627\\u0641\\u0642\"})})]})}):/*#__PURE__*/// Local Product Form\n_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0645\\u0642\\u0627\\u0633 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:localProduct.product_size,onChange:e=>setLocalProduct(_objectSpread(_objectSpread({},localProduct),{},{product_size:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0645\\u0642\\u0627\\u0633 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:localProduct.product_type,onChange:e=>setLocalProduct(_objectSpread(_objectSpread({},localProduct),{},{product_type:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:localProduct.supplier,onChange:e=>setLocalProduct(_objectSpread(_objectSpread({},localProduct),{},{supplier:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0648\\u0631\\u062F\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0634\\u0631\\u0627\\u0621\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:localProduct.purchase_price,onChange:e=>setLocalProduct(_objectSpread(_objectSpread({},localProduct),{},{purchase_price:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0634\\u0631\\u0627\\u0621\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:localProduct.selling_price,onChange:e=>setLocalProduct(_objectSpread(_objectSpread({},localProduct),{},{selling_price:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:currentItem.quantity,onChange:e=>setCurrentItem(_objectSpread(_objectSpread({},currentItem),{},{quantity:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:addItem,className:\"w-full bg-green-500 text-white p-2 rounded hover:bg-green-600 mt-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"})]})]}),compatibilityResults&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0646\\u062A\\u0627\\u0626\\u062C \\u0641\\u062D\\u0635 \\u0627\\u0644\\u062A\\u0648\\u0627\\u0641\\u0642\"}),compatibilityResults.compatible_materials.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\u0627\\u0644\\u062E\\u0627\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u062A\\u0648\\u0627\\u0641\\u0642\\u0629:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:compatibilityResults.compatible_materials.map((material,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border rounded cursor-pointer transition-colors \".concat((selectedMaterial===null||selectedMaterial===void 0?void 0:selectedMaterial.unit_code)===material.unit_code&&(selectedMaterial===null||selectedMaterial===void 0?void 0:selectedMaterial.inner_diameter)===material.inner_diameter&&(selectedMaterial===null||selectedMaterial===void 0?void 0:selectedMaterial.outer_diameter)===material.outer_diameter&&(selectedMaterial===null||selectedMaterial===void 0?void 0:selectedMaterial.height)===material.height?'border-blue-500 bg-blue-50':material.low_stock?'border-red-300 bg-red-50 hover:bg-red-100':'border-green-300 bg-green-50 hover:bg-green-100'),onClick:()=>setSelectedMaterial(material),children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0646\\u0648\\u0639:\"}),\" \",material.material_type]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0643\\u0648\\u062F:\"}),\" \",material.unit_code]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0645\\u0642\\u0627\\u0633:\"}),\" \",material.inner_diameter,\" \\xD7 \",material.outer_diameter,\" \\xD7 \",material.height]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0642\\u0637\\u0639:\"}),\" \",material.pieces_count]}),material.warning&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm\",children:material.warning}),(selectedMaterial===null||selectedMaterial===void 0?void 0:selectedMaterial.unit_code)===material.unit_code&&(selectedMaterial===null||selectedMaterial===void 0?void 0:selectedMaterial.inner_diameter)===material.inner_diameter&&(selectedMaterial===null||selectedMaterial===void 0?void 0:selectedMaterial.outer_diameter)===material.outer_diameter&&(selectedMaterial===null||selectedMaterial===void 0?void 0:selectedMaterial.height)===material.height&&/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-600 font-semibold text-sm mt-2\",children:\"\\u2713 \\u0645\\u062D\\u062F\\u062F \\u0644\\u0644\\u0627\\u0633\\u062A\\u062E\\u062F\\u0627\\u0645\"})]},index))})]}),compatibilityResults.compatible_products.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A \\u0627\\u0644\\u062C\\u0627\\u0647\\u0632\\u0629:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:compatibilityResults.compatible_products.map((product,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border border-blue-300 bg-blue-50 rounded cursor-pointer hover:bg-blue-100\",onClick:()=>setSelectedMaterial({unit_code:\"FINISHED-\".concat(product.id),material_type:product.material_type,seal_type:product.seal_type,inner_diameter:product.inner_diameter,outer_diameter:product.outer_diameter,height:product.height,is_finished_product:true}),children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0646\\u0648\\u0639:\"}),\" \",product.seal_type,\" - \",product.material_type]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0645\\u0642\\u0627\\u0633:\"}),\" \",product.inner_diameter,\" \\xD7 \",product.outer_diameter,\" \\xD7 \",product.height]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629:\"}),\" \",product.quantity]})]},index))})]}),selectedMaterial&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-blue-100 rounded\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-blue-800\",children:[\"\\u062A\\u0645 \\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629: \",selectedMaterial.unit_code,\" (\",selectedMaterial.material_type,\")\"]})})]}),items.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u0627\\u0644\\u0623\\u062E\\u064A\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0642\\u0627\\u0633\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0633\\u0639\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.seal_type}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.material_type}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[item.inner_diameter,\" \\xD7 \",item.outer_diameter,\" \\xD7 \",item.height]}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.quantity}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[\"\\u062C.\\u0645 \",item.unit_price]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[\"\\u062C.\\u0645 \",item.total_price]})]},index))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"}),/*#__PURE__*/_jsxs(\"select\",{value:paymentMethod,onChange:e=>setPaymentMethod(e.target.value),className:\"p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u0646\\u0642\\u062F\\u064A\",children:\"\\u0646\\u0642\\u062F\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0622\\u062C\\u0644\",children:\"\\u0622\\u062C\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0645\\u062D\\u0645\\u062F \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\",children:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0645\\u062D\\u0645\\u062F \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0648\\u0627\\u0626\\u0644 \\u0645\\u062D\\u0645\\u062F\",children:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0648\\u0627\\u0626\\u0644 \\u0645\\u062D\\u0645\\u062F\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0627\\u0646\\u0633\\u062A\\u0627\\u0628\\u0627\\u064A\",children:\"\\u0627\\u0646\\u0633\\u062A\\u0627\\u0628\\u0627\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u064A\\u062F \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\",children:\"\\u064A\\u062F \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0635\\u0645\"}),/*#__PURE__*/_jsxs(\"select\",{value:discountType,onChange:e=>setDiscountType(e.target.value),className:\"p-2 border border-gray-300 rounded w-full\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"amount\",children:\"\\u0645\\u0628\\u0644\\u063A \\u062B\\u0627\\u0628\\u062A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"percentage\",children:\"\\u0646\\u0633\\u0628\\u0629 \\u0645\\u0626\\u0648\\u064A\\u0629\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium mb-1\",children:[\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u062E\\u0635\\u0645 \",discountType==='percentage'?'(%)':'(Ø¬.Ù…)']}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:discount,onChange:e=>setDiscount(e.target.value),className:\"p-2 border border-gray-300 rounded w-full\",placeholder:\"0\",min:\"0\",step:discountType==='percentage'?'0.1':'0.01'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u062E\\u0635\\u0645\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-white border border-gray-300 rounded w-full\",children:[\"\\u062C.\\u0645 \",(()=>{const subtotal=items.reduce((sum,item)=>sum+item.total_price,0);const discountAmount=discountType==='percentage'?subtotal*parseFloat(discount||0)/100:parseFloat(discount||0);return discountAmount.toFixed(2);})()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639 \\u0627\\u0644\\u0641\\u0631\\u0639\\u064A:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-semibold\",children:[\"\\u062C.\\u0645 \",items.reduce((sum,item)=>sum+item.total_price,0).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"\\u0627\\u0644\\u062E\\u0635\\u0645:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-semibold text-red-600\",children:[\"- \\u062C.\\u0645 \",(()=>{const subtotal=items.reduce((sum,item)=>sum+item.total_price,0);const discountAmount=discountType==='percentage'?subtotal*parseFloat(discount||0)/100:parseFloat(discount||0);return discountAmount.toFixed(2);})()]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0646\\u0647\\u0627\\u0626\\u064A:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold text-green-600\",children:[\"\\u062C.\\u0645 \",(()=>{const subtotal=items.reduce((sum,item)=>sum+item.total_price,0);const discountAmount=discountType==='percentage'?subtotal*parseFloat(discount||0)/100:parseFloat(discount||0);return(subtotal-discountAmount).toFixed(2);})()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold\",style:{display:'none'},children:[\"\\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A: \\u062C.\\u0645 \",items.reduce((sum,item)=>sum+item.total_price,0).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createInvoice,className:\"w-full bg-green-500 text-white p-3 rounded hover:bg-green-600 mt-4 text-lg font-semibold\",children:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"})]})]});};// Simple placeholder components for other pages\n// Inventory Component will be replaced with new advanced version above\n// Stock Component (Old Inventory functionality for Raw Materials and Finished Products)\nconst Stock=()=>{const[rawMaterials,setRawMaterials]=useState([]);const[finishedProducts,setFinishedProducts]=useState([]);const[searchTerm,setSearchTerm]=useState('');// Ù„Ù„Ø¨Ø­Ø«\nconst[newRawMaterial,setNewRawMaterial]=useState({material_type:'NBR',inner_diameter:'',outer_diameter:'',height:'',pieces_count:'',cost_per_mm:''});const[newFinishedProduct,setNewFinishedProduct]=useState({seal_type:'RSL',material_type:'NBR',inner_diameter:'',outer_diameter:'',height:'',quantity:'',unit_price:''});const materialTypes=['NBR','BUR','BT','VT','BOOM'];const sealTypes=['RSL','RS','RSE','B17','B3','B14','B1','R15','R17','W1','W4','W5','W11','WBT','XR','CH','VR'];// Ø¯Ø§Ù„Ø© ØªØµÙÙŠØ© Ø§Ù„Ø¨Ø­Ø«\nconst filteredRawMaterials=rawMaterials.filter(material=>material.material_type.toLowerCase().includes(searchTerm.toLowerCase())||material.unit_code.toLowerCase().includes(searchTerm.toLowerCase())||material.inner_diameter.toString().includes(searchTerm)||material.outer_diameter.toString().includes(searchTerm)||material.height.toString().includes(searchTerm)).sort((a,b)=>{// ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ù…Ø©: BUR-NBR-BT-BOOM-VT\nconst materialPriority={'BUR':1,'NBR':2,'BT':3,'BOOM':4,'VT':5};const aPriority=materialPriority[a.material_type]||6;const bPriority=materialPriority[b.material_type]||6;if(aPriority!==bPriority){return aPriority-bPriority;}// Ø«Ù… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø«Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ)\nif(a.inner_diameter!==b.inner_diameter){return a.inner_diameter-b.inner_diameter;}return a.outer_diameter-b.outer_diameter;});const filteredFinishedProducts=finishedProducts.filter(product=>product.seal_type.toLowerCase().includes(searchTerm.toLowerCase())||product.material_type.toLowerCase().includes(searchTerm.toLowerCase())||product.inner_diameter.toString().includes(searchTerm)||product.outer_diameter.toString().includes(searchTerm)||product.height.toString().includes(searchTerm)).sort((a,b)=>{// ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ù…Ø©: BUR-NBR-BT-BOOM-VT\nconst materialPriority={'BUR':1,'NBR':2,'BT':3,'BOOM':4,'VT':5};const aPriority=materialPriority[a.material_type]||6;const bPriority=materialPriority[b.material_type]||6;if(aPriority!==bPriority){return aPriority-bPriority;}// Ø«Ù… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø«Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ)\nif(a.inner_diameter!==b.inner_diameter){return a.inner_diameter-b.inner_diameter;}return a.outer_diameter-b.outer_diameter;});useEffect(()=>{fetchRawMaterials();fetchFinishedProducts();},[]);const fetchRawMaterials=async()=>{try{const response=await axios.get(\"\".concat(API,\"/raw-materials\"));setRawMaterials(response.data);}catch(error){console.error('Error fetching raw materials:',error);}};const fetchFinishedProducts=async()=>{try{const response=await axios.get(\"\".concat(API,\"/finished-products\"));setFinishedProducts(response.data);}catch(error){console.error('Error fetching finished products:',error);}};const addRawMaterial=async()=>{if(!newRawMaterial.inner_diameter||!newRawMaterial.outer_diameter||!newRawMaterial.height||!newRawMaterial.pieces_count||!newRawMaterial.cost_per_mm){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');return;}try{const rawMaterial={material_type:newRawMaterial.material_type,inner_diameter:parseFloat(newRawMaterial.inner_diameter),outer_diameter:parseFloat(newRawMaterial.outer_diameter),height:parseFloat(newRawMaterial.height),pieces_count:parseInt(newRawMaterial.pieces_count),cost_per_mm:parseFloat(newRawMaterial.cost_per_mm)// unit_code will be generated automatically by backend\n};const response=await axios.post(\"\".concat(API,\"/raw-materials\"),rawMaterial);alert(\"\\u062A\\u0645 \\u0625\\u0636\\u0627\\u0641\\u0629 \\u0627\\u0644\\u0645\\u0627\\u062F\\u0629 \\u0627\\u0644\\u062E\\u0627\\u0645 \\u0628\\u0646\\u062C\\u0627\\u062D. \\u0643\\u0648\\u062F \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629: \".concat(response.data.unit_code));fetchRawMaterials();setNewRawMaterial({material_type:'NBR',inner_diameter:'',outer_diameter:'',height:'',pieces_count:'',cost_per_mm:''});}catch(error){var _error$response3,_error$response3$data;console.error('Error adding raw material:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù…: '+(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||error.message));}};const clearAllRawMaterials=async()=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…ØŸ')){return;}try{await axios.delete(\"\".concat(API,\"/raw-materials/clear-all\"));fetchRawMaterials();alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…');}catch(error){console.error('Error clearing raw materials:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…');}};const deleteRawMaterial=async materialId=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù…ØŸ')){return;}try{await axios.delete(\"\".concat(API,\"/raw-materials/\").concat(materialId));fetchRawMaterials();alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù…');}catch(error){console.error('Error deleting raw material:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù…');}};const addFinishedProduct=async()=>{if(!newFinishedProduct.inner_diameter||!newFinishedProduct.outer_diameter||!newFinishedProduct.height||!newFinishedProduct.quantity||!newFinishedProduct.unit_price){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');return;}try{const finishedProduct={seal_type:newFinishedProduct.seal_type,material_type:newFinishedProduct.material_type,inner_diameter:parseFloat(newFinishedProduct.inner_diameter),outer_diameter:parseFloat(newFinishedProduct.outer_diameter),height:parseFloat(newFinishedProduct.height),quantity:parseInt(newFinishedProduct.quantity),unit_price:parseFloat(newFinishedProduct.unit_price)};await axios.post(\"\".concat(API,\"/finished-products\"),finishedProduct);fetchFinishedProducts();setNewFinishedProduct({seal_type:'RSL',material_type:'NBR',inner_diameter:'',outer_diameter:'',height:'',quantity:'',unit_price:''});alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error adding finished product:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ');}};const deleteFinishedProduct=async productId=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØŸ')){return;}try{await axios.delete(\"\".concat(API,\"/finished-products/\").concat(productId));fetchFinishedProducts();alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ');}catch(error){console.error('Error deleting finished product:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062E\\u0632\\u0648\\u0646\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"\\u0645\\u062E\\u0632\\u0648\\u0646 \\u0627\\u0644\\u0645\\u0648\\u0627\\u062F \\u0627\\u0644\\u062E\\u0627\\u0645\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearAllRawMaterials,className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u0643\\u0644\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"select\",{value:newRawMaterial.material_type,onChange:e=>setNewRawMaterial(_objectSpread(_objectSpread({},newRawMaterial),{},{material_type:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:materialTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newRawMaterial.inner_diameter,onChange:e=>setNewRawMaterial(_objectSpread(_objectSpread({},newRawMaterial),{},{inner_diameter:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0631\\u062C\\u064A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newRawMaterial.outer_diameter,onChange:e=>setNewRawMaterial(_objectSpread(_objectSpread({},newRawMaterial),{},{outer_diameter:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0627\\u0631\\u062A\\u0641\\u0627\\u0639 (\\u0645\\u0645)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newRawMaterial.height,onChange:e=>setNewRawMaterial(_objectSpread(_objectSpread({},newRawMaterial),{},{height:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0642\\u0637\\u0639\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newRawMaterial.pieces_count,onChange:e=>setNewRawMaterial(_objectSpread(_objectSpread({},newRawMaterial),{},{pieces_count:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u062A\\u0643\\u0644\\u0641\\u0629 \\u0627\\u0644\\u0645\\u0644\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newRawMaterial.cost_per_mm,onChange:e=>setNewRawMaterial(_objectSpread(_objectSpread({},newRawMaterial),{},{cost_per_mm:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-4\",children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0629: \\u0633\\u064A\\u062A\\u0645 \\u062A\\u0648\\u0644\\u064A\\u062F \\u0643\\u0648\\u062F \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629 \\u062A\\u0644\\u0642\\u0627\\u0626\\u064A\\u0627\\u064B \\u062D\\u0633\\u0628 \\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629 \\u0648\\u0627\\u0644\\u0645\\u0648\\u0627\\u0635\\u0641\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addRawMaterial,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mb-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0627\\u062F\\u0629 \\u062E\\u0627\\u0645\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"\\u0628\\u062D\\u062B \\u0641\\u064A \\u0627\\u0644\\u0645\\u0648\\u0627\\u062F \\u0627\\u0644\\u062E\\u0627\\u0645 (\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629\\u060C \\u0643\\u0648\\u062F \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629\\u060C \\u0627\\u0644\\u0645\\u0642\\u0627\\u0633\\u0627\\u062A...)\",className:\"w-full p-3 border border-gray-300 rounded-lg\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0631\\u062C\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0627\\u0631\\u062A\\u0641\\u0627\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0642\\u0637\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u062A\\u0643\\u0644\\u0641\\u0629 \\u0627\\u0644\\u0645\\u0644\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredRawMaterials.map(material=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:material.material_type}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:material.inner_diameter}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:material.outer_diameter}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:material.height}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:material.pieces_count}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:material.unit_code}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:material.cost_per_mm}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteRawMaterial(material.id),className:\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641\"})})]},material.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0645\\u062E\\u0632\\u0648\\u0646 \\u0627\\u0644\\u0625\\u0646\\u062A\\u0627\\u062C \\u0627\\u0644\\u062A\\u0627\\u0645\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"select\",{value:newFinishedProduct.seal_type,onChange:e=>setNewFinishedProduct(_objectSpread(_objectSpread({},newFinishedProduct),{},{seal_type:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:sealTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"select\",{value:newFinishedProduct.material_type,onChange:e=>setNewFinishedProduct(_objectSpread(_objectSpread({},newFinishedProduct),{},{material_type:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:materialTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newFinishedProduct.inner_diameter,onChange:e=>setNewFinishedProduct(_objectSpread(_objectSpread({},newFinishedProduct),{},{inner_diameter:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0631\\u062C\\u064A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newFinishedProduct.outer_diameter,onChange:e=>setNewFinishedProduct(_objectSpread(_objectSpread({},newFinishedProduct),{},{outer_diameter:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0631\\u062A\\u0641\\u0627\\u0639 \\u0627\\u0644\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newFinishedProduct.height,onChange:e=>setNewFinishedProduct(_objectSpread(_objectSpread({},newFinishedProduct),{},{height:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newFinishedProduct.quantity,onChange:e=>setNewFinishedProduct(_objectSpread(_objectSpread({},newFinishedProduct),{},{quantity:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newFinishedProduct.unit_price,onChange:e=>setNewFinishedProduct(_objectSpread(_objectSpread({},newFinishedProduct),{},{unit_price:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addFinishedProduct,className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 mb-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0646\\u062A\\u062C \\u0646\\u0647\\u0627\\u0626\\u064A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062F\\u0627\\u062E\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0642\\u0637\\u0631 \\u0627\\u0644\\u062E\\u0627\\u0631\\u062C\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0627\\u0631\\u062A\\u0641\\u0627\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredFinishedProducts.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.seal_type}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.material_type}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.inner_diameter}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.outer_diameter}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.height}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.quantity}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:product.unit_price}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteFinishedProduct(product.id),className:\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641\"})})]},product.id))})]})})]})]});};// Deferred Payments Component\nconst Deferred=()=>{var _selectedInvoice$rema;const[unpaidInvoices,setUnpaidInvoices]=useState([]);const[customers,setCustomers]=useState([]);const[paymentAmount,setPaymentAmount]=useState('');const[paymentMethod,setPaymentMethod]=useState('Ù†Ù‚Ø¯ÙŠ');const[paymentNotes,setPaymentNotes]=useState('');const[selectedInvoice,setSelectedInvoice]=useState(null);useEffect(()=>{fetchUnpaidInvoices();fetchCustomers();},[]);const fetchUnpaidInvoices=async()=>{try{const response=await axios.get(\"\".concat(API,\"/invoices\"));const invoices=response.data.filter(invoice=>invoice.status==='ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©'||invoice.status==='Ù…Ø¯ÙÙˆØ¹Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹'||invoice.status==='Ø§Ù†ØªØ¸Ø§Ø±'||invoice.remaining_amount>0);setUnpaidInvoices(invoices);}catch(error){console.error('Error fetching unpaid invoices:',error);}};const fetchCustomers=async()=>{try{const response=await axios.get(\"\".concat(API,\"/customers\"));setCustomers(response.data);}catch(error){console.error('Error fetching customers:',error);}};const getCustomerName=customerId=>{const customer=customers.find(c=>c.id===customerId);return customer?customer.name:'Ø¹Ù…ÙŠÙ„ ØºÙŠØ± Ù…Ø­Ø¯Ø¯';};const makePayment=async()=>{if(!selectedInvoice||!paymentAmount){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø¨Ù„Øº');return;}if(parseFloat(paymentAmount)>selectedInvoice.remaining_amount){alert('Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯Ø®Ù„ Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚');return;}try{await axios.post(\"\".concat(API,\"/payments\"),{invoice_id:selectedInvoice.id,amount:parseFloat(paymentAmount),payment_method:paymentMethod,notes:paymentNotes});setPaymentAmount('');setPaymentNotes('');setSelectedInvoice(null);fetchUnpaidInvoices();alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹Ø© Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error making payment:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹Ø©');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-600 mb-4\",children:\"\\u0627\\u0644\\u0622\\u062C\\u0644 - \\u0645\\u062A\\u0627\\u0628\\u0639\\u0629 \\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchUnpaidInvoices,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u062D\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u062A\\u0642\\u0631\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"border border-gray-300 rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u064A\\u0648\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0623\\u0633\\u0628\\u0648\\u0639\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0634\\u0647\\u0631\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0633\\u0646\\u0648\\u064A\"})]})]})]}),selectedInvoice&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u062F\\u0641\\u0639\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:selectedInvoice.invoice_number,disabled:true,className:\"w-full p-2 border border-gray-300 rounded bg-gray-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:selectedInvoice.customer_name,disabled:true,className:\"w-full p-2 border border-gray-300 rounded bg-gray-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0645\\u0633\\u062A\\u062D\\u0642\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:\"\\u062C.\\u0645 \".concat(((_selectedInvoice$rema=selectedInvoice.remaining_amount)===null||_selectedInvoice$rema===void 0?void 0:_selectedInvoice$rema.toFixed(2))||'0.00'),disabled:true,className:\"w-full p-2 border border-gray-300 rounded bg-gray-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u062F\\u0641\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:paymentAmount,onChange:e=>setPaymentAmount(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"}),/*#__PURE__*/_jsxs(\"select\",{value:paymentMethod,onChange:e=>setPaymentMethod(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u0646\\u0642\\u062F\\u064A\",children:\"\\u0646\\u0642\\u062F\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0645\\u062D\\u0645\\u062F \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\",children:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0645\\u062D\\u0645\\u062F \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0648\\u0627\\u0626\\u0644 \\u0645\\u062D\\u0645\\u062F\",children:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0648\\u0627\\u0626\\u0644 \\u0645\\u062D\\u0645\\u062F\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0627\\u0646\\u0633\\u062A\\u0627\\u0628\\u0627\\u064A\",children:\"\\u0627\\u0646\\u0633\\u062A\\u0627\\u0628\\u0627\\u064A\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:paymentNotes,onChange:e=>setPaymentNotes(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:makePayment,className:\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u0641\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedInvoice(null),className:\"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u063A\\u064A\\u0631 \\u0627\\u0644\\u0645\\u0633\\u062F\\u062F\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0633\\u062A\\u062D\\u0642\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:unpaidInvoices.map(invoice=>{var _invoice$total_amount,_invoice$paid_amount,_invoice$remaining_am;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:invoice.invoice_number}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:invoice.customer_name}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:new Date(invoice.date).toLocaleDateString('ar-EG')}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[\"\\u062C.\\u0645 \",((_invoice$total_amount=invoice.total_amount)===null||_invoice$total_amount===void 0?void 0:_invoice$total_amount.toFixed(2))||'0.00']}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[\"\\u062C.\\u0645 \",((_invoice$paid_amount=invoice.paid_amount)===null||_invoice$paid_amount===void 0?void 0:_invoice$paid_amount.toFixed(2))||'0.00']}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-red-600\",children:[\"\\u062C.\\u0645 \",((_invoice$remaining_am=invoice.remaining_amount)===null||_invoice$remaining_am===void 0?void 0:_invoice$remaining_am.toFixed(2))||'0.00']})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-sm \".concat(invoice.status==='ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©'?'bg-red-100 text-red-800':invoice.status==='Ù…Ø¯ÙÙˆØ¹Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹'?'bg-yellow-100 text-yellow-800':'bg-green-100 text-green-800'),children:invoice.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedInvoice(invoice),className:\"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600\",children:\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062F\\u0641\\u0639\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedInvoice(invoice),className:\"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600\",children:\"\\u062F\\u0641\\u0639\"})]})})]},invoice.id);})})]}),unpaidInvoices.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u063A\\u064A\\u0631 \\u0645\\u0633\\u062F\\u062F\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-4 rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-red-800\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u0627\\u0644\\u063A \\u0627\\u0644\\u0645\\u0633\\u062A\\u062D\\u0642\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-red-600\",children:[\"\\u062C.\\u0645 \",unpaidInvoices.reduce((sum,inv)=>sum+(inv.remaining_amount||0),0).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-yellow-800\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u0627\\u0644\\u0645\\u0639\\u0644\\u0642\\u0629\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-yellow-600\",children:unpaidInvoices.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-800\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0623\\u0635\\u0644\\u064A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:[\"\\u062C.\\u0645 \",unpaidInvoices.reduce((sum,inv)=>sum+(inv.total_amount||0),0).toFixed(2)]})]})]})]})]});};// Expenses Component\nconst Expenses=()=>{const[expenses,setExpenses]=useState([]);const[newExpense,setNewExpense]=useState({description:'',amount:'',category:'Ø®Ø§Ù…Ø§Øª'});const expenseCategories=['Ø®Ø§Ù…Ø§Øª','Ø±ÙˆØ§ØªØ¨','ÙƒÙ‡Ø±Ø¨Ø§Ø¡','ØµÙŠØ§Ù†Ø©','Ø£Ø®Ø±Ù‰'];useEffect(()=>{fetchExpenses();},[]);const fetchExpenses=async()=>{try{const response=await axios.get(\"\".concat(API,\"/expenses\"));setExpenses(response.data);}catch(error){console.error('Error fetching expenses:',error);}};const addExpense=async()=>{if(!newExpense.description||!newExpense.amount){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');return;}try{await axios.post(\"\".concat(API,\"/expenses\"),_objectSpread(_objectSpread({},newExpense),{},{amount:parseFloat(newExpense.amount)}));setNewExpense({description:'',amount:'',category:'Ø®Ø§Ù…Ø§Øª'});fetchExpenses();alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØµØ±ÙˆÙ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error adding expense:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØµØ±ÙˆÙ');}};const deleteExpense=async expenseId=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…ØµØ±ÙˆÙØŸ'))return;try{await axios.delete(\"\".concat(API,\"/expenses/\").concat(expenseId));fetchExpenses();alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…ØµØ±ÙˆÙ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error deleting expense:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…ØµØ±ÙˆÙ');}};const getTotalExpenses=()=>{return expenses.reduce((sum,expense)=>sum+expense.amount,0);};const getExpensesByCategory=()=>{const byCategory={};expenseCategories.forEach(cat=>{byCategory[cat]=expenses.filter(exp=>exp.category===cat).reduce((sum,exp)=>sum+exp.amount,0);});return byCategory;};const clearAllExpenses=async()=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§ØªØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.'))return;try{await axios.delete(\"\".concat(API,\"/expenses/clear-all\"));fetchExpenses();alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª');}catch(error){console.error('Error clearing expenses:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-600 mb-4\",children:\"\\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:clearAllExpenses,className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchExpenses,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u062D\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u062A\\u0642\\u0631\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"border border-gray-300 rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u064A\\u0648\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0623\\u0633\\u0628\\u0648\\u0639\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0634\\u0647\\u0631\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0633\\u0646\\u0648\\u064A\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0635\\u0631\\u0648\\u0641 \\u062C\\u062F\\u064A\\u062F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newExpense.description,onChange:e=>setNewExpense(_objectSpread(_objectSpread({},newExpense),{},{description:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0645\\u062B\\u0627\\u0644: \\u0634\\u0631\\u0627\\u0621 \\u062E\\u0627\\u0645\\u0627\\u062A\\u060C \\u0643\\u0647\\u0631\\u0628\\u0627\\u0621 \\u0627\\u0644\\u0645\\u0635\\u0646\\u0639\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newExpense.amount,onChange:e=>setNewExpense(_objectSpread(_objectSpread({},newExpense),{},{amount:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0641\\u0626\\u0629\"}),/*#__PURE__*/_jsx(\"select\",{value:newExpense.category,onChange:e=>setNewExpense(_objectSpread(_objectSpread({},newExpense),{},{category:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:expenseCategories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addExpense,className:\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-800 mb-2\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-red-600\",children:[\"\\u062C.\\u0645 \",getTotalExpenses().toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-800 mb-2\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-600\",children:expenses.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-yellow-800 mb-2\",children:\"\\u0645\\u062A\\u0648\\u0633\\u0637 \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-yellow-600\",children:[\"\\u062C.\\u0645 \",expenses.length>0?(getTotalExpenses()/expenses.length).toFixed(2):'0.00']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u062D\\u0633\\u0628 \\u0627\\u0644\\u0641\\u0626\\u0629\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\",children:Object.entries(getExpensesByCategory()).map(_ref3=>{let[category,amount]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 border rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-700\",children:category}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-blue-600\",children:[\"\\u062C.\\u0645 \",amount.toFixed(2)]})]},category);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0648\\u0635\\u0641\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0641\\u0626\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:expenses.map(expense=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:expense.description}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-red-600\",children:[\"\\u062C.\\u0645 \",expense.amount.toFixed(2)]})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-sm \".concat(expense.category==='Ø®Ø§Ù…Ø§Øª'?'bg-blue-100 text-blue-800':expense.category==='Ø±ÙˆØ§ØªØ¨'?'bg-green-100 text-green-800':expense.category==='ÙƒÙ‡Ø±Ø¨Ø§Ø¡'?'bg-yellow-100 text-yellow-800':expense.category==='ØµÙŠØ§Ù†Ø©'?'bg-purple-100 text-purple-800':'bg-gray-100 text-gray-800'),children:expense.category})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:new Date(expense.date).toLocaleDateString('ar-EG')}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteExpense(expense.id),className:\"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641\"})})]},expense.id))})]}),expenses.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u0645\\u0633\\u062C\\u0644\\u0629\"})]})]})]});};// Revenue Component\nconst Revenue=()=>{var _revenueData$total_re,_revenueData$total_ex,_revenueData$material,_revenueData$profit,_revenueData$total_re2,_revenueData$material2,_revenueData$profit2;const[revenueData,setRevenueData]=useState({total_revenue:0,total_expenses:0,material_cost:0,profit:0});const[period,setPeriod]=useState('daily');useEffect(()=>{fetchRevenueData();},[period]);const fetchRevenueData=async()=>{try{const response=await axios.get(\"\".concat(API,\"/reports/revenue?period=\").concat(period));setRevenueData(response.data);}catch(error){console.error('Error fetching revenue data:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-600 mb-4\",children:\"\\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchRevenueData,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u062D\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u062A\\u0642\\u0631\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"select\",{value:period,onChange:e=>setPeriod(e.target.value),className:\"border border-gray-300 rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:\"\\u0627\\u0644\\u064A\\u0648\\u0645\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:\"\\u0627\\u0644\\u0623\\u0633\\u0628\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monthly\",children:\"\\u0627\\u0644\\u0634\\u0647\\u0631\"}),/*#__PURE__*/_jsx(\"option\",{value:\"yearly\",children:\"\\u0627\\u0644\\u0633\\u0646\\u0629\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-green-800 text-center mb-2\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-green-600 text-center\",children:[\"\\u062C.\\u0645 \",((_revenueData$total_re=revenueData.total_revenue)===null||_revenueData$total_re===void 0?void 0:_revenueData$total_re.toFixed(2))||'0.00']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-800 text-center mb-2\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-red-600 text-center\",children:[\"\\u062C.\\u0645 \",((_revenueData$total_ex=revenueData.total_expenses)===null||_revenueData$total_ex===void 0?void 0:_revenueData$total_ex.toFixed(2))||'0.00']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-yellow-800 text-center mb-2\",children:\"\\u062A\\u0643\\u0644\\u0641\\u0629 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-yellow-600 text-center\",children:[\"\\u062C.\\u0645 \",((_revenueData$material=revenueData.material_cost)===null||_revenueData$material===void 0?void 0:_revenueData$material.toFixed(2))||'0.00']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-blue-800 text-center mb-2\",children:\"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u0631\\u0628\\u062D\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-center \".concat((revenueData.profit||0)>=0?'text-blue-600':'text-red-600'),children:[\"\\u062C.\\u0645 \",((_revenueData$profit=revenueData.profit)===null||_revenueData$profit===void 0?void 0:_revenueData$profit.toFixed(2))||'0.00']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mt-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4\",children:[\"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A - \",period==='daily'?'ÙŠÙˆÙ…ÙŠ':period==='weekly'?'Ø£Ø³Ø¨ÙˆØ¹ÙŠ':period==='monthly'?'Ø´Ù‡Ø±ÙŠ':'Ø³Ù†ÙˆÙŠ']}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-3\",children:\"\\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-3\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A (\\u062C.\\u0645)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-3\",children:\"\\u0627\\u0644\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u0645\\u0626\\u0648\\u064A\\u0629\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-3 font-semibold\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-3 text-green-600 font-bold\",children:((_revenueData$total_re2=revenueData.total_revenue)===null||_revenueData$total_re2===void 0?void 0:_revenueData$total_re2.toFixed(2))||'0.00'}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-3\",children:\"100%\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-3\",children:\"\\u062A\\u0643\\u0644\\u0641\\u0629 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-3 text-yellow-600 font-semibold\",children:[\"-\",((_revenueData$material2=revenueData.material_cost)===null||_revenueData$material2===void 0?void 0:_revenueData$material2.toFixed(2))||'0.00']}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-3\",children:[revenueData.total_revenue>0?(revenueData.material_cost/revenueData.total_revenue*100).toFixed(1):'0.0',\"%\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-3\",children:\"\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u0623\\u062E\\u0631\\u0649\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-3 text-red-600 font-semibold\",children:[\"-\",((revenueData.total_expenses||0)-(revenueData.material_cost||0)).toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-3\",children:[revenueData.total_revenue>0?((revenueData.total_expenses-revenueData.material_cost)/revenueData.total_revenue*100).toFixed(1):'0.0',\"%\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-blue-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-3 font-bold\",children:\"\\u0635\\u0627\\u0641\\u064A \\u0627\\u0644\\u0631\\u0628\\u062D\"}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-3 font-bold \".concat((revenueData.profit||0)>=0?'text-blue-600':'text-red-600'),children:((_revenueData$profit2=revenueData.profit)===null||_revenueData$profit2===void 0?void 0:_revenueData$profit2.toFixed(2))||'0.00'}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-3 font-bold\",children:[revenueData.total_revenue>0?(revenueData.profit/revenueData.total_revenue*100).toFixed(1):'0.0',\"%\"]})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0645\\u0624\\u0634\\u0631\\u0627\\u062A \\u0627\\u0644\\u0623\\u062F\\u0627\\u0621\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 border rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-700 mb-2\",children:\"\\u0647\\u0627\\u0645\\u0634 \\u0627\\u0644\\u0631\\u0628\\u062D\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat((revenueData.profit||0)>=0?'text-green-600':'text-red-600'),children:[revenueData.total_revenue>0?(revenueData.profit/revenueData.total_revenue*100).toFixed(1):'0.0',\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 border rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-700 mb-2\",children:\"\\u0646\\u0633\\u0628\\u0629 \\u062A\\u0643\\u0644\\u0641\\u0629 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-yellow-600\",children:[revenueData.total_revenue>0?(revenueData.material_cost/revenueData.total_revenue*100).toFixed(1):'0.0',\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 border rounded\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-700 mb-2\",children:\"\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u0645\\u0635\\u0631\\u0648\\u0641\\u0627\\u062A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-red-600\",children:[revenueData.total_revenue>0?(revenueData.total_expenses/revenueData.total_revenue*100).toFixed(1):'0.0',\"%\"]})]})]})]})]});};// Invoices Component\nconst Invoices=()=>{const[invoices,setInvoices]=useState([]);const[customers,setCustomers]=useState([]);const[filterStatus,setFilterStatus]=useState('');const[searchTerm,setSearchTerm]=useState('');const[editingInvoice,setEditingInvoice]=useState(null);const[editForm,setEditForm]=useState({invoice_title:'',supervisor_name:'',customer_name:'',payment_method:'Ù†Ù‚Ø¯ÙŠ',discount_type:'amount',discount_value:0,items:[],notes:''});useEffect(()=>{fetchInvoices();fetchCustomers();},[]);const fetchInvoices=async()=>{try{const response=await axios.get(\"\".concat(API,\"/invoices\"));setInvoices(response.data);}catch(error){console.error('Error fetching invoices:',error);}};const fetchCustomers=async()=>{try{const response=await axios.get(\"\".concat(API,\"/customers\"));setCustomers(response.data);}catch(error){console.error('Error fetching customers:',error);}};const deleteInvoice=async invoiceId=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©ØŸ'))return;try{await axios.delete(\"\".concat(API,\"/invoices/\").concat(invoiceId));fetchInvoices();alert('ØªÙ… Ø­Ø°Ù Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error deleting invoice:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ÙØ§ØªÙˆØ±Ø©');}};const startEditInvoice=invoice=>{setEditingInvoice(invoice.id);setEditForm({invoice_title:invoice.invoice_title||'',supervisor_name:invoice.supervisor_name||'',customer_name:invoice.customer_name||'',payment_method:invoice.payment_method||'Ù†Ù‚Ø¯ÙŠ',discount_type:invoice.discount_type||'amount',discount_value:invoice.discount_value||0,items:invoice.items||[],notes:invoice.notes||''});};const cancelEdit=()=>{setEditingInvoice(null);setEditForm({invoice_title:'',supervisor_name:'',customer_name:'',payment_method:'Ù†Ù‚Ø¯ÙŠ',discount_type:'amount',discount_value:0,items:[],notes:''});};const saveInvoiceEdit=async()=>{if(!editForm.customer_name.trim()){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„');return;}try{// Calculate totals\nconst subtotal=editForm.items.reduce((sum,item)=>sum+(item.total_price||0),0);let discountAmount=0;if(editForm.discount_type==='percentage'){discountAmount=subtotal*parseFloat(editForm.discount_value||0)/100;}else{discountAmount=parseFloat(editForm.discount_value||0);}const totalAfterDiscount=subtotal-discountAmount;const updatedInvoice=_objectSpread(_objectSpread({},editForm),{},{subtotal:subtotal,discount:discountAmount,total_after_discount:totalAfterDiscount,total_amount:totalAfterDiscount});await axios.put(\"\".concat(API,\"/invoices/\").concat(editingInvoice),updatedInvoice);fetchInvoices();cancelEdit();alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');}catch(error){var _error$response4,_error$response4$data;console.error('Error updating invoice:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ§ØªÙˆØ±Ø©: '+(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||error.message));}};const updateInvoiceStatus=async(invoiceId,newStatus)=>{try{await axios.put(\"\".concat(API,\"/invoices/\").concat(invoiceId,\"/status\"),{status:newStatus},{headers:{'Content-Type':'application/json'}});fetchInvoices();alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©');}catch(error){console.error('Error updating invoice status:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©');}};const printInvoice=invoice=>{const printContent=\"\\n      <!DOCTYPE html>\\n      <html dir=\\\"rtl\\\">\\n      <head>\\n        <meta charset=\\\"UTF-8\\\">\\n        <style>\\n          body {\\n            font-family: Arial, sans-serif;\\n            margin: 0;\\n            padding: 20px;\\n            direction: rtl;\\n            font-size: 15px;\\n          }\\n          .header {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n            border-bottom: 3px solid #000;\\n            padding-bottom: 10px;\\n            margin-bottom: 20px;\\n          }\\n          .company-info {\\n            text-align: right;\\n          }\\n          .company-name {\\n            font-size: 32px;\\n            font-weight: bold;\\n            color: #000;\\n            margin: 0;\\n          }\\n          .company-subtitle {\\n            font-size: 20px;\\n            margin: 5px 0;\\n            color: #666;\\n          }\\n          .company-details {\\n            font-size: 16px;\\n            margin: 2px 0;\\n            color: #333;\\n          }\\n          .logo-section {\\n            text-align: center;\\n            flex: 1;\\n          }\\n          .invoice-title {\\n            font-size: 22px;\\n            font-weight: bold;\\n            background-color: #ff4444;\\n            color: white;\\n            padding: 8px 20px;\\n            border-radius: 5px;\\n            display: inline-block;\\n            margin-bottom: 10px;\\n          }\\n          .invoice-number {\\n            font-size: 20px;\\n            font-weight: bold;\\n            color: #ff4444;\\n          }\\n          .customer-info {\\n            display: flex;\\n            justify-content: space-between;\\n            margin: 20px 0;\\n          }\\n          .customer-details {\\n            text-align: right;\\n          }\\n          .date-info {\\n            text-align: left;\\n          }\\n          .products-table {\\n            width: 100%;\\n            border-collapse: collapse;\\n            border: 2px solid #000;\\n            margin: 20px 0;\\n          }\\n          .products-table th,\\n          .products-table td {\\n            border: 1px solid #000;\\n            padding: 8px;\\n            text-align: center;\\n          }\\n          .products-table th {\\n            background-color: #f0f0f0;\\n            font-weight: bold;\\n          }\\n          .footer {\\n            margin-top: 30px;\\n            border-top: 1px solid #ccc;\\n            padding-top: 15px;\\n            display: flex;\\n            justify-content: space-between;\\n            font-size: 13px;\\n            color: #666;\\n          }\\n          .total-section {\\n            text-align: left;\\n            margin-top: 10px;\\n          }\\n          .total-amount {\\n            font-size: 20px;\\n            font-weight: bold;\\n            border: 2px solid #000;\\n            padding: 10px;\\n            display: inline-block;\\n            background-color: #f9f9f9;\\n          }\\n          @media print {\\n            body { margin: 0; padding: 10px; }\\n          }\\n        </style>\\n      </head>\\n      <body>\\n        <!-- Header Section -->\\n        <div class=\\\"header\\\">\\n          <div class=\\\"company-info\\\">\\n            <h1 class=\\\"company-name\\\">\\u0634\\u0631\\u0643\\u0629 \\u0645\\u0627\\u0633\\u062A\\u0631 \\u0633\\u064A\\u0644</h1>\\n            <p class=\\\"company-subtitle\\\">\\u062A\\u0635\\u0646\\u064A\\u0639 \\u062C\\u0645\\u064A\\u0639 \\u0623\\u0646\\u0648\\u0627\\u0639 \\u0627\\u0644\\u0623\\u0648\\u064A\\u0644 \\u0633\\u064A\\u0644</p>\\n            <p class=\\\"company-details\\\">\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0623\\u0642\\u0637\\u0627\\u0631 \\u062D\\u062A\\u0649 \\u0665\\u0660\\u0660\\u0645\\u0644</p>\\n            <p class=\\\"company-details\\\">\\u0647\\u064A\\u062F\\u0631\\u0648\\u0644\\u064A\\u0643 - \\u0646\\u064A\\u0648\\u0645\\u0627\\u062A\\u064A\\u0643</p>\\n          </div>\\n          \\n          <div class=\\\"logo-section\\\">\\n            <img src=\\\"https://customer-assets.emergentagent.com/job_oilseal-mgmt/artifacts/42i3e7yn_WhatsApp%20Image%202025-07-31%20at%2015.14.10_e8c55120.jpg\\\" \\n                 alt=\\\"Master Seal Logo\\\" \\n                 style=\\\"max-width: 120px; max-height: 80px; margin-bottom: 10px;\\\">\\n            <div class=\\\"invoice-title\\\">\".concat(invoice.invoice_title||'Ø¹Ø±Ø¶ Ø³Ø¹Ø±',\"</div>\\n            <div class=\\\"invoice-number\\\">\").concat(invoice.invoice_number,\"</div>\\n          </div>\\n        </div>\\n\\n        <!-- Customer and Date Info -->\\n        <div class=\\\"customer-info\\\">\\n          <div class=\\\"customer-details\\\">\\n            <p><strong>\\u0627\\u0644\\u0633\\u0627\\u062F\\u0629:</strong> \").concat(invoice.customer_name,\"</p>\\n            <p><strong>\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646:</strong> \").concat(invoice.customer_address||'........................',\"</p>\\n          </div>\\n          <div class=\\\"date-info\\\">\\n            <p><strong>\\u062A\\u062D\\u0631\\u064A\\u0631 \\u0641\\u064A:</strong> \").concat(new Date(invoice.date).toLocaleDateString('ar-EG'),\"</p>\\n            <p><strong>Date:</strong> \").concat(new Date(invoice.date).toLocaleDateString('en-GB'),\"</p>\\n          </div>\\n        </div>\\n\\n        <!-- Products Table -->\\n        <table class=\\\"products-table\\\">\\n          <thead>\\n            <tr>\\n              <th style=\\\"width: 60px;\\\">\\u0627\\u0644\\u0645\\u0633\\u0644\\u0633\\u0644<br>Item</th>\\n              <th style=\\\"width: 80px;\\\">\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629<br>QTY</th>\\n              <th style=\\\"width: 200px;\\\">Description<br>\\u0627\\u0644\\u0645\\u0648\\u0627\\u0635\\u0641\\u0627\\u062A</th>\\n              <th style=\\\"width: 100px;\\\">\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629<br>Unit Price</th>\\n              <th style=\\\"width: 100px;\\\">\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A<br>Total</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            \").concat(invoice.items.map((item,index)=>\"\\n              <tr>\\n                <td>\".concat(index+1,\"</td>\\n                <td>\").concat(item.quantity,\"</td>\\n                <td style=\\\"text-align: right;\\\">\\n                  \").concat(item.local_product_details?\"\".concat(item.local_product_details.product_size,\" - \").concat(item.local_product_details.product_type):\"\".concat(item.seal_type,\" - \").concat(item.material_type,\"<br>\\n                    <small>\").concat(item.inner_diameter,\" \\xD7 \").concat(item.outer_diameter,\" \\xD7 \").concat(item.height,\" \\u0645\\u0645\").concat(item.wall_height?\" (\\u0627\\u0631\\u062A\\u0641\\u0627\\u0639 \\u0627\\u0644\\u062D\\u064A\\u0637\\u0629: \".concat(item.wall_height,\" \\u0645\\u0645)\"):\"\",\"</small>\"),\"\\n                </td>\\n                <td>\\u062C.\\u0645 \").concat(item.unit_price.toFixed(2),\"</td>\\n                <td>\\u062C.\\u0645 \").concat(item.total_price.toFixed(2),\"</td>\\n              </tr>\\n            \")).join(''),\"\\n            <!-- Empty rows for additional items -->\\n            \").concat(Array.from({length:Math.max(0,8-invoice.items.length)},(_,i)=>\"\\n              <tr style=\\\"height: 40px;\\\">\\n                <td></td>\\n                <td></td>\\n                <td></td>\\n                <td></td>\\n                <td></td>\\n              </tr>\\n            \").join(''),\"\\n          </tbody>\\n        </table>\\n\\n        <!-- Total Section -->\\n        <div class=\\\"total-section\\\">\\n          <div style=\\\"text-align: left; margin-bottom: 10px;\\\">\\n            \").concat(invoice.subtotal?\"\\n              <div style=\\\"margin-bottom: 5px;\\\">\\n                <span>\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639 \\u0627\\u0644\\u0641\\u0631\\u0639\\u064A: \\u062C.\\u0645 \".concat(invoice.subtotal.toFixed(2),\"</span>\\n              </div>\\n            \"):'',\"\\n            \").concat(invoice.discount&&invoice.discount>0?\"\\n              <div style=\\\"margin-bottom: 5px; color: #d32f2f;\\\">\\n                <span>\\u0627\\u0644\\u062E\\u0635\\u0645: - \\u062C.\\u0645 \".concat(invoice.discount.toFixed(2),\"</span>\\n                \").concat(invoice.discount_type==='percentage'&&invoice.discount_value?\" <small>(\".concat(invoice.discount_value,\"%)</small>\"):'',\"\\n              </div>\\n              <hr style=\\\"margin: 5px 0; border: 1px solid #000;\\\">\\n            \"):'',\"\\n          </div>\\n          <div class=\\\"total-amount\\\">\\n            \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0646\\u0647\\u0627\\u0626\\u064A: \\u062C.\\u0645 \").concat((invoice.total_after_discount||invoice.total_amount).toFixed(2),\"\\n          </div>\\n        </div>\\n\\n        <!-- Additional Info -->\\n        <div style=\\\"margin-top: 20px; text-align: center; font-size: 13px;\\\">\\n          <p><strong>\\u0645\\u0644\\u062D\\u0648\\u0638\\u0629:</strong> \\u0641\\u0642\\u0637 \\u0648\\u0642\\u062F\\u0631\\u0647</p>\\n          <div style=\\\"height: 30px; border-bottom: 1px solid #000; margin: 10px 40px;\\\"></div>\\n        </div>\\n\\n        <!-- Footer -->\\n        <div class=\\\"footer\\\">\\n          <div>\\n            <p><strong>\\u0627\\u0644\\u062A\\u0648\\u0642\\u064A\\u0639:</strong></p>\\n            <p>\\u0645\\u0648\\u0628\\u0627\\u064A\\u0644: \\u0660\\u0661\\u0660\\u0662\\u0660\\u0666\\u0663\\u0660\\u0666\\u0667\\u0667 - \\u0660\\u0661\\u0660\\u0666\\u0662\\u0663\\u0669\\u0660\\u0668\\u0667\\u0660</p>\\n            <p>\\u062A\\u0644\\u064A\\u0641\\u0648\\u0646: \\u0660\\u0661\\u0660\\u0662\\u0660\\u0666\\u0663\\u0660\\u0666\\u0667\\u0667</p>\\n          </div>\\n          <div style=\\\"text-align: left;\\\">\\n            <p><strong>\\u0627\\u0644\\u0645\\u0633\\u062A\\u0644\\u0645:</strong></p>\\n            <p>\\u0627\\u0644\\u062D\\u0631\\u0641\\u064A\\u064A\\u0646 - \\u0627\\u0644\\u0633\\u0644\\u0627\\u0645 - \\u0623\\u0645\\u0627\\u0645 \\u0627\\u0644\\u0633\\u0648\\u0628\\u0631 \\u062C\\u064A\\u062A</p>\\n            <p>\\u0645\\u0648\\u0628\\u0627\\u064A\\u0644: \\u0660\\u0661\\u0660\\u0662\\u0660\\u0666\\u0663\\u0660\\u0666\\u0667\\u0667 - \\u0660\\u0661\\u0660\\u0666\\u0662\\u0663\\u0669\\u0660\\u0668\\u0667\\u0660</p>\\n          </div>\\n        </div>\\n\\n        <!-- Note -->\\n        <div style=\\\"text-align: center; margin-top: 20px; font-size: 12px; color: #666;\\\">\\n          <p>\\u064A\\u0642\\u0631 \\u0627\\u0644\\u0645\\u0634\\u062A\\u0631\\u064A \\u0628\\u0623\\u0646\\u0647 \\u0642\\u0627\\u0645 \\u0628\\u0645\\u0639\\u0627\\u064A\\u0646\\u0629 \\u0627\\u0644\\u0628\\u0636\\u0627\\u0639\\u0629 \\u0648\\u0642\\u0628\\u0648\\u0644\\u0647\\u0627</p>\\n        </div>\\n      </body>\\n      </html>\\n    \");const printWindow=window.open('','_blank');printWindow.document.write(printContent);printWindow.document.close();printWindow.print();};const clearAllInvoices=async()=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ±ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.'))return;try{await axios.delete(\"\".concat(API,\"/invoices/clear-all\"));fetchInvoices();alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ±');}catch(error){console.error('Error clearing invoices:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');}};const filteredInvoices=invoices.filter(invoice=>{const matchesStatus=filterStatus===''||invoice.status===filterStatus;const matchesSearch=searchTerm===''||invoice.invoice_number.toLowerCase().includes(searchTerm.toLowerCase())||invoice.customer_name.toLowerCase().includes(searchTerm.toLowerCase());return matchesStatus&&matchesSearch;});return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-600 mb-4\",children:\"\\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:clearAllInvoices,className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchInvoices,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u062D\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u062A\\u0642\\u0631\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"border border-gray-300 rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u064A\\u0648\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0623\\u0633\\u0628\\u0648\\u0639\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0634\\u0647\\u0631\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0633\\u0646\\u0648\\u064A\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-4 rounded-lg shadow-md mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0628\\u062D\\u062B\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629 \\u0623\\u0648 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\",className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0641\\u0644\\u062A\\u0631\\u0629 \\u062D\\u0633\\u0628 \\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u062D\\u0627\\u0644\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0645\\u062F\\u0641\\u0648\\u0639\\u0629\",children:\"\\u0645\\u062F\\u0641\\u0648\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u063A\\u064A\\u0631 \\u0645\\u062F\\u0641\\u0648\\u0639\\u0629\",children:\"\\u063A\\u064A\\u0631 \\u0645\\u062F\\u0641\\u0648\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0645\\u062F\\u0641\\u0648\\u0639\\u0629 \\u062C\\u0632\\u0626\\u064A\\u0627\\u064B\",children:\"\\u0645\\u062F\\u0641\\u0648\\u0639\\u0629 \\u062C\\u0632\\u0626\\u064A\\u0627\\u064B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0627\\u0646\\u062A\\u0638\\u0627\\u0631\",children:\"\\u0627\\u0646\\u062A\\u0638\\u0627\\u0631\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u062A\\u0645 \\u0627\\u0644\\u062A\\u0646\\u0641\\u064A\\u0630\",children:\"\\u062A\\u0645 \\u0627\\u0644\\u062A\\u0646\\u0641\\u064A\\u0630\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm('');setFilterStatus('');},className:\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\",children:\"\\u0645\\u0633\\u062D \\u0627\\u0644\\u0641\\u0644\\u0627\\u062A\\u0631\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-blue-800\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:invoices.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-green-800\",children:\"\\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:invoices.filter(inv=>inv.status==='Ù…Ø¯ÙÙˆØ¹Ø©').length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-4 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-red-800\",children:\"\\u063A\\u064A\\u0631 \\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-red-600\",children:invoices.filter(inv=>inv.status==='ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©').length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-yellow-800\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-yellow-600\",children:[\"\\u062C.\\u0645 \",invoices.reduce((sum,inv)=>sum+(inv.total_amount||0),0).toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639 \\u0627\\u0644\\u0641\\u0631\\u0639\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062E\\u0635\\u0645\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0646\\u0647\\u0627\\u0626\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredInvoices.map(invoice=>{var _invoice$subtotal,_invoice$total_amount2,_ref4;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2 font-semibold\",children:invoice.invoice_number}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:invoice.customer_name}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:new Date(invoice.date).toLocaleDateString('ar-EG')}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:invoice.payment_method}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold\",children:[\"\\u062C.\\u0645 \",((_invoice$subtotal=invoice.subtotal)===null||_invoice$subtotal===void 0?void 0:_invoice$subtotal.toFixed(2))||((_invoice$total_amount2=invoice.total_amount)===null||_invoice$total_amount2===void 0?void 0:_invoice$total_amount2.toFixed(2))||'0.00']}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2 text-red-600\",children:invoice.discount&&invoice.discount>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u062C.\\u0645 \",invoice.discount.toFixed(2)]}),invoice.discount_type==='percentage'&&invoice.discount_value&&/*#__PURE__*/_jsxs(\"small\",{className:\"block text-xs\",children:[\"(%\",invoice.discount_value,\")\"]})]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold text-green-600\",children:[\"\\u062C.\\u0645 \",((_ref4=invoice.total_after_discount||invoice.total_amount)===null||_ref4===void 0?void 0:_ref4.toFixed(2))||'0.00']}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-sm cursor-pointer \".concat(invoice.status==='Ù…Ø¯ÙÙˆØ¹Ø©'?'bg-green-100 text-green-800':invoice.status==='ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©'?'bg-red-100 text-red-800':invoice.status==='Ù…Ø¯ÙÙˆØ¹Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹'?'bg-yellow-100 text-yellow-800':invoice.status==='Ø§Ù†ØªØ¸Ø§Ø±'?'bg-blue-100 text-blue-800':invoice.status==='ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°'?'bg-green-100 text-green-800':invoice.status==='ØªÙ… Ø§Ù„ØªØµÙ†ÙŠØ¹'?'bg-purple-100 text-purple-800':'bg-gray-100 text-gray-800'),children:invoice.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>printInvoice(invoice),className:\"bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600\",children:\"\\u0637\\u0628\\u0627\\u0639\\u0629\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditInvoice(invoice),className:\"bg-green-500 text-white px-2 py-1 rounded text-sm hover:bg-green-600\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteInvoice(invoice.id),className:\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641\"}),invoice.status==='Ø§Ù†ØªØ¸Ø§Ø±'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateInvoiceStatus(invoice.id,'ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°'),className:\"bg-green-500 text-white px-2 py-1 rounded text-sm hover:bg-green-600\",children:\"\\u062A\\u0645 \\u0627\\u0644\\u062A\\u0646\\u0641\\u064A\\u0630\"})]})})]},invoice.id);})})]}),filteredInvoices.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u062A\\u0637\\u0627\\u0628\\u0642 \\u0645\\u0639\\u0627\\u064A\\u064A\\u0631 \\u0627\\u0644\\u0628\\u062D\\u062B\"})]})]}),editingInvoice&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-lg w-full max-w-4xl max-h-screen overflow-y-auto\",dir:\"rtl\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.invoice_title,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{invoice_title:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0634\\u0631\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.supervisor_name,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{supervisor_name:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0634\\u0631\\u0641 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.customer_name,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{customer_name:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.payment_method,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{payment_method:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u0646\\u0642\\u062F\\u064A\",children:\"\\u0646\\u0642\\u062F\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\",children:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0648\\u0627\\u0626\\u0644\",children:\"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634 \\u0648\\u0627\\u0626\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0622\\u062C\\u0644\",children:\"\\u0622\\u062C\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0627\\u0646\\u0633\\u062A\\u0627 \\u0628\\u0627\\u064A\",children:\"\\u0627\\u0646\\u0633\\u062A\\u0627 \\u0628\\u0627\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Yad_Elsawy\",children:\"Yad Elsawy\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0635\\u0645\"}),/*#__PURE__*/_jsxs(\"select\",{value:editForm.discount_type,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{discount_type:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"amount\",children:\"\\u0645\\u0628\\u0644\\u063A \\u062B\\u0627\\u0628\\u062A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"percentage\",children:\"\\u0646\\u0633\\u0628\\u0629 \\u0645\\u0626\\u0648\\u064A\\u0629\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u062E\\u0635\\u0645\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:editForm.discount_value,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{discount_value:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:editForm.discount_type==='percentage'?'0-100':'0.00'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editForm.notes,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{notes:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",rows:\"3\",placeholder:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium mb-2\",children:\"\\u0639\\u0646\\u0627\\u0635\\u0631 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:editForm.items.map((item,index)=>{var _item$local_product_d,_item$local_product_d2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.product_type==='local'||item.local_product_details?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.product_name||\"\".concat(((_item$local_product_d=item.local_product_details)===null||_item$local_product_d===void 0?void 0:_item$local_product_d.product_size)||'',\" - \").concat(((_item$local_product_d2=item.local_product_details)===null||_item$local_product_d2===void 0?void 0:_item$local_product_d2.product_type)||''),onChange:e=>{const newItems=[...editForm.items];newItems[index].product_name=e.target.value;setEditForm(_objectSpread(_objectSpread({},editForm),{},{items:newItems}));},className:\"w-full p-1 border border-gray-300 rounded\",placeholder:\"\\u0645\\u0642\\u0627\\u0633 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C - \\u0646\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}):/*#__PURE__*/_jsx(\"span\",{children:\"\".concat(item.seal_type||'',\" - \").concat(item.material_type||'',\" (\").concat(item.inner_diameter,\"\\xD7\").concat(item.outer_diameter,\"\\xD7\").concat(item.height,\")\")})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.quantity,onChange:e=>{const newItems=[...editForm.items];newItems[index].quantity=parseInt(e.target.value)||0;newItems[index].total_price=newItems[index].unit_price*newItems[index].quantity;setEditForm(_objectSpread(_objectSpread({},editForm),{},{items:newItems}));},className:\"w-full p-1 border border-gray-300 rounded\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:item.unit_price,onChange:e=>{const newItems=[...editForm.items];newItems[index].unit_price=parseFloat(e.target.value)||0;newItems[index].total_price=newItems[index].unit_price*newItems[index].quantity;setEditForm(_objectSpread(_objectSpread({},editForm),{},{items:newItems}));},className:\"w-full p-1 border border-gray-300 rounded\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2 font-semibold\",children:[\"\\u062C.\\u0645 \",(item.total_price||0).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const newItems=editForm.items.filter((_,i)=>i!==index);setEditForm(_objectSpread(_objectSpread({},editForm),{},{items:newItems}));},className:\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641\"})})]},index);})})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{// Add a new empty item for editing\nconst newItem={seal_type:'',material_type:'',inner_diameter:'',outer_diameter:'',height:'',quantity:1,unit_price:0,total_price:0};setEditForm(_objectSpread(_objectSpread({},editForm),{},{items:[...editForm.items,newItem]}));},className:\"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0646\\u062A\\u062C \\u062C\\u062F\\u064A\\u062F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,className:\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveInvoiceEdit,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u062D\\u0641\\u0638 \\u0627\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644\\u0627\\u062A\"})]})]})})]});};// Work Orders Component\nconst WorkOrders=()=>{const[workOrders,setWorkOrders]=useState([]);const[invoices,setInvoices]=useState([]);const[selectedInvoices,setSelectedInvoices]=useState([]);const[newWorkOrder,setNewWorkOrder]=useState({title:'',description:'',priority:'Ø¹Ø§Ø¯ÙŠ'});const[showAddToExisting,setShowAddToExisting]=useState(false);const[selectedWorkOrderId,setSelectedWorkOrderId]=useState('');const[selectedInvoiceForAdd,setSelectedInvoiceForAdd]=useState('');useEffect(()=>{fetchWorkOrders();fetchInvoices();},[]);const fetchWorkOrders=async()=>{try{const response=await axios.get(\"\".concat(API,\"/work-orders\"));setWorkOrders(response.data);}catch(error){console.error('Error fetching work orders:',error);setWorkOrders([]);// Set empty array on error\n}};const fetchInvoices=async()=>{try{const response=await axios.get(\"\".concat(API,\"/invoices\"));setInvoices(response.data);}catch(error){console.error('Error fetching invoices:',error);}};const toggleInvoiceSelection=invoiceId=>{setSelectedInvoices(prev=>prev.includes(invoiceId)?prev.filter(id=>id!==invoiceId):[...prev,invoiceId]);};const createWorkOrderFromMultipleInvoices=async()=>{if(selectedInvoices.length===0){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ÙØ§ØªÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');return;}if(!newWorkOrder.title.trim()){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„');return;}try{// Get selected invoices data\nconst selectedInvoicesData=invoices.filter(inv=>selectedInvoices.includes(inv.id));// Clean invoices data (remove MongoDB ObjectIds)\nconst cleanInvoices=selectedInvoicesData.map(inv=>{const cleanInv=_objectSpread({},inv);if(cleanInv._id)delete cleanInv._id;return cleanInv;});// Create work order with multiple invoices\nconst workOrderData={title:newWorkOrder.title,description:newWorkOrder.description,priority:newWorkOrder.priority,invoices:cleanInvoices,total_amount:cleanInvoices.reduce((sum,inv)=>sum+(inv.total_amount||0),0),total_items:cleanInvoices.reduce((sum,inv)=>{var _inv$items;return sum+(((_inv$items=inv.items)===null||_inv$items===void 0?void 0:_inv$items.length)||0);},0)};const response=await axios.post(\"\".concat(API,\"/work-orders/multiple\"),workOrderData);if(response.data){alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ Ø¨Ù†Ø¬Ø§Ø­');// Reset form\nsetSelectedInvoices([]);setNewWorkOrder({title:'',description:'',priority:'Ø¹Ø§Ø¯ÙŠ'});// Refresh work orders list\nawait fetchWorkOrders();}}catch(error){var _error$response5,_error$response5$data;console.error('Error creating work order:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„: '+(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.detail)||error.message));}};const addInvoiceToExistingWorkOrder=async()=>{if(!selectedWorkOrderId||!selectedInvoiceForAdd){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ ÙˆØ§Ù„ÙØ§ØªÙˆØ±Ø©');return;}try{const response=await axios.put(\"\".concat(API,\"/work-orders/\").concat(selectedWorkOrderId,\"/add-invoice\"),null,{params:{invoice_id:selectedInvoiceForAdd}});if(response.data){alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¥Ù„Ù‰ Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ Ø¨Ù†Ø¬Ø§Ø­');// Reset form\nsetSelectedWorkOrderId('');setSelectedInvoiceForAdd('');setShowAddToExisting(false);// Refresh work orders list\nawait fetchWorkOrders();}}catch(error){var _error$response6,_error$response6$data;console.error('Error adding invoice to work order:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ§ØªÙˆØ±Ø©: '+(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.detail)||error.message));}};const getInvoiceDetails=invoiceId=>{return invoices.find(inv=>inv.id===invoiceId);};const getAvailableInvoices=()=>{// Show invoices that are \"ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°\" or \"Ø§Ù†ØªØ¸Ø§Ø±\"\nreturn invoices.filter(invoice=>invoice.status==='ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°'||invoice.status==='Ø§Ù†ØªØ¸Ø§Ø±');};const getAvailableInvoicesForAdd=()=>{var _selectedWorkOrder$in;// Get invoices not already in the selected work order\nif(!selectedWorkOrderId)return getAvailableInvoices();const selectedWorkOrder=workOrders.find(wo=>wo.id===selectedWorkOrderId);if(!selectedWorkOrder)return getAvailableInvoices();const usedInvoiceIds=((_selectedWorkOrder$in=selectedWorkOrder.invoices)===null||_selectedWorkOrder$in===void 0?void 0:_selectedWorkOrder$in.map(inv=>inv.id))||[];return getAvailableInvoices().filter(invoice=>!usedInvoiceIds.includes(invoice.id));};const printWorkOrder=workOrder=>{var _workOrder$invoices;const workOrderInvoices=((_workOrder$invoices=workOrder.invoices)===null||_workOrder$invoices===void 0?void 0:_workOrder$invoices.map(invoiceData=>invoices.find(inv=>inv.id===invoiceData.id)||invoiceData).filter(inv=>inv))||[];const totalAmount=workOrderInvoices.reduce((sum,inv)=>sum+(inv.total_amount||0),0);const totalItems=workOrderInvoices.reduce((sum,inv)=>{var _inv$items2;return sum+(((_inv$items2=inv.items)===null||_inv$items2===void 0?void 0:_inv$items2.length)||0);},0);const printContent=\"\\n      <div style=\\\"font-family: Arial, sans-serif; direction: rtl; text-align: right;\\\">\\n        <div style=\\\"text-align: center; margin-bottom: 20px;\\\">\\n          <h1>\\u0645\\u0627\\u0633\\u062A\\u0631 \\u0633\\u064A\\u0644</h1>\\n          <p>\\u0627\\u0644\\u062D\\u0631\\u0641\\u064A\\u0627\\u0646 \\u0634\\u0627\\u0631\\u0639 \\u0627\\u0644\\u0633\\u0648\\u0628\\u0631 \\u062C\\u064A\\u062A - 01020630677</p>\\n          <h2 style=\\\"color: #333; margin-top: 20px;\\\">\\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644</h2>\\n        </div>\\n        \\n        <div style=\\\"margin-bottom: 20px;\\\">\\n          <strong>\\u0631\\u0642\\u0645 \\u0623\\u0645\\u0631 \\u0627\\u0644\\u0634\\u063A\\u0644:</strong> \".concat(workOrder.id,\"<br>\\n          <strong>\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646:</strong> \").concat(workOrder.title||\"\\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644 #\".concat(workOrder.id.slice(-8)),\"<br>\\n          <strong>\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E:</strong> \").concat(new Date(workOrder.created_at).toLocaleDateString('ar-EG'),\"<br>\\n          <strong>\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629:</strong> \").concat(workOrder.status||'Ø¬Ø¯ÙŠØ¯',\"<br>\\n          <strong>\\u0639\\u062F\\u062F \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631:</strong> \").concat(workOrderInvoices.length,\"<br>\\n          <strong>\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u0644\\u063A:</strong> \\u062C.\\u0645 \").concat(totalAmount.toFixed(2),\"\\n          \").concat(workOrder.description?\"<br><strong>\\u0627\\u0644\\u0648\\u0635\\u0641:</strong> \".concat(workOrder.description):'',\"\\n          \").concat(workOrder.supervisor_name?\"<br><strong>\\u0627\\u0644\\u0645\\u0634\\u0631\\u0641 \\u0639\\u0644\\u0649 \\u0627\\u0644\\u062A\\u0635\\u0646\\u064A\\u0639:</strong> \".concat(workOrder.supervisor_name):'',\"\\n          \").concat(workOrder.is_daily?\"<br><strong>\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0623\\u0645\\u0631:</strong> \\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644 \\u064A\\u0648\\u0645\\u064A \\u062A\\u0644\\u0642\\u0627\\u0626\\u064A\":'',\"\\n        </div>\\n\\n        <h3 style=\\\"color: #333; margin-bottom: 10px;\\\">\\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u0627\\u0644\\u0645\\u062F\\u0631\\u062C\\u0629:</h3>\\n        <table style=\\\"width: 100%; border-collapse: collapse; margin-bottom: 20px;\\\">\\n          <thead>\\n            <tr style=\\\"background-color: #f0f0f0;\\\">\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0639\\u062F\\u062F \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            \").concat(workOrderInvoices.map(invoice=>{var _invoice$total_amount3,_invoice$items;return\"\\n              <tr>\\n                <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\".concat(invoice.invoice_number,\"</td>\\n                <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\").concat(invoice.customer_name,\"</td>\\n                <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\").concat(new Date(invoice.date).toLocaleDateString('ar-EG'),\"</td>\\n                <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u062C.\\u0645 \").concat(((_invoice$total_amount3=invoice.total_amount)===null||_invoice$total_amount3===void 0?void 0:_invoice$total_amount3.toFixed(2))||'0.00',\"</td>\\n                <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\").concat(((_invoice$items=invoice.items)===null||_invoice$items===void 0?void 0:_invoice$items.length)||0,\"</td>\\n              </tr>\\n            \");}).join(''),\"\\n          </tbody>\\n        </table>\\n\\n        <h3 style=\\\"color: #333; margin-bottom: 10px;\\\">\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A:</h3>\\n        <table style=\\\"width: 100%; border-collapse: collapse; margin-bottom: 20px;\\\">\\n          <thead>\\n            <tr style=\\\"background-color: #f0f0f0;\\\">\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0633\\u064A\\u0644</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0627\\u0644\\u0645\\u0642\\u0627\\u0633</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0627\\u0644\\u062E\\u0627\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\\u0629</th>\\n              <th style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\u0643\\u0648\\u062F \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            \").concat(workOrderInvoices.map(invoice=>{var _invoice$items2;return((_invoice$items2=invoice.items)===null||_invoice$items2===void 0?void 0:_invoice$items2.map(item=>\"\\n                <tr>\\n                  <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\".concat(invoice.invoice_number,\"</td>\\n                  <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\").concat(item.local_product_details?item.local_product_details.product_type:item.seal_type||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\"</td>\\n                  <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\").concat(item.local_product_details?'Ù…Ø­Ù„ÙŠ':item.material_type||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\"</td>\\n                  <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\").concat(item.local_product_details?\"\".concat(item.local_product_details.product_size,\" - \").concat(item.local_product_details.product_type):item.inner_diameter&&item.outer_diameter&&item.height?\"\".concat(item.inner_diameter,\" \\xD7 \").concat(item.outer_diameter,\" \\xD7 \").concat(item.height):'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\"</td>\\n                  <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\").concat(item.quantity,\"</td>\\n                  <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\").concat(item.local_product_details?'Ù…Ø­Ù„ÙŠ':item.material_used||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\"</td>\\n                  <td style=\\\"border: 1px solid #ddd; padding: 8px;\\\">\\n                    \").concat(item.local_product_details?'Ù…Ø­Ù„ÙŠ':item.material_details?item.material_details.is_finished_product?'Ù…Ø®Ø²Ù† Ø§Ù†ØªØ§Ø¬ ØªØ§Ù…':\"\".concat(item.material_details.unit_code,\" / \").concat(item.material_details.inner_diameter,\"-\").concat(item.material_details.outer_diameter):\"\".concat(item.material_used||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\" / \\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u063A\\u064A\\u0631 \\u0645\\u062A\\u0648\\u0641\\u0631\\u0629\"),\"\\n                  </td>\\n                </tr>\\n              \")).join(''))||'';}).join(''),\"\\n          </tbody>\\n        </table>\\n        \\n        <div style=\\\"margin-top: 40px; border-top: 1px solid #ddd; padding-top: 20px;\\\">\\n          <div style=\\\"float: left;\\\">\\n            <strong>\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0627\\u0644\\u062A\\u0635\\u0646\\u064A\\u0639:</strong><br>\\n            <div style=\\\"margin-top: 10px; height: 50px; border: 1px solid #ddd;\\\"></div>\\n          </div>\\n          <div style=\\\"float: right;\\\">\\n            <strong>\\u062A\\u0648\\u0642\\u064A\\u0639 \\u0627\\u0644\\u0645\\u0633\\u0624\\u0648\\u0644:</strong><br>\\n            <div style=\\\"margin-top: 10px; height: 50px; border: 1px solid #ddd; width: 150px;\\\"></div>\\n          </div>\\n          <div style=\\\"clear: both;\\\"></div>\\n        </div>\\n      </div>\\n    \");const printWindow=window.open('','_blank');printWindow.document.write(printContent);printWindow.document.close();printWindow.print();};const clearAllWorkOrders=async()=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´ØºÙ„ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.'))return;try{await axios.delete(\"\".concat(API,\"/work-orders/clear-all\"));fetchWorkOrders();alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´ØºÙ„');}catch(error){console.error('Error clearing work orders:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');}};const deleteWorkOrder=async workOrderId=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ Ù‡Ø°Ø§ØŸ'))return;try{await axios.delete(\"\".concat(API,\"/work-orders/\").concat(workOrderId));fetchWorkOrders();alert('ØªÙ… Ø­Ø°Ù Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error deleting work order:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-600 mb-4\",children:\"\\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:clearAllWorkOrders,className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{fetchWorkOrders();fetchInvoices();},className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u062D\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u062A\\u0642\\u0631\\u064A\\u0631\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddToExisting(!showAddToExisting),className:\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600\",children:showAddToExisting?'Ø¥Ø®ÙØ§Ø¡':'Ø¥Ø¶Ø§ÙØ© ÙØ§ØªÙˆØ±Ø© Ù„Ø£Ù…Ø± Ù…ÙˆØ¬ÙˆØ¯'}),/*#__PURE__*/_jsxs(\"select\",{className:\"border border-gray-300 rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u064A\\u0648\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0623\\u0633\\u0628\\u0648\\u0639\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0634\\u0647\\u0631\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0633\\u0646\\u0648\\u064A\"})]})]})]}),showAddToExisting&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-6 rounded-lg shadow-md mb-6 border border-yellow-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4 text-yellow-800\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0641\\u0627\\u062A\\u0648\\u0631\\u0629 \\u0625\\u0644\\u0649 \\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644 \\u0645\\u0648\\u062C\\u0648\\u062F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u0623\\u0645\\u0631 \\u0627\\u0644\\u0634\\u063A\\u0644\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedWorkOrderId,onChange:e=>setSelectedWorkOrderId(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0627\\u062E\\u062A\\u0631 \\u0623\\u0645\\u0631 \\u0627\\u0644\\u0634\\u063A\\u0644\"}),workOrders.map(workOrder=>{var _workOrder$invoices2;return/*#__PURE__*/_jsxs(\"option\",{value:workOrder.id,children:[workOrder.title||\"\\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644 #\".concat(workOrder.id.slice(-8)),\"(\",((_workOrder$invoices2=workOrder.invoices)===null||_workOrder$invoices2===void 0?void 0:_workOrder$invoices2.length)||0,\" \\u0641\\u0627\\u062A\\u0648\\u0631\\u0629)\"]},workOrder.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedInvoiceForAdd,onChange:e=>setSelectedInvoiceForAdd(e.target.value),className:\"w-full p-2 border border-gray-300 rounded\",disabled:!selectedWorkOrderId,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),getAvailableInvoicesForAdd().map(invoice=>{var _invoice$total_amount4;return/*#__PURE__*/_jsxs(\"option\",{value:invoice.id,children:[invoice.invoice_number,\" - \",invoice.customer_name,\"(\\u062C.\\u0645 \",((_invoice$total_amount4=invoice.total_amount)===null||_invoice$total_amount4===void 0?void 0:_invoice$total_amount4.toFixed(2))||'0.00',\")\"]},invoice.id);})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:addInvoiceToExistingWorkOrder,className:\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\",disabled:!selectedWorkOrderId||!selectedInvoiceForAdd,children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAddToExisting(false);setSelectedWorkOrderId('');setSelectedInvoiceForAdd('');},className:\"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644 \\u062C\\u062F\\u064A\\u062F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0623\\u0645\\u0631 \\u0627\\u0644\\u0634\\u063A\\u0644 *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newWorkOrder.title,onChange:e=>setNewWorkOrder(_objectSpread(_objectSpread({},newWorkOrder),{},{title:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0645\\u062B\\u0627\\u0644: \\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644 \\u0631\\u0642\\u0645 1 - \\u064A\\u0646\\u0627\\u064A\\u0631 2025\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0623\\u0648\\u0644\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"select\",{value:newWorkOrder.priority,onChange:e=>setNewWorkOrder(_objectSpread(_objectSpread({},newWorkOrder),{},{priority:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u0639\\u0627\\u062F\\u064A\",children:\"\\u0639\\u0627\\u062F\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0645\\u0647\\u0645\",children:\"\\u0645\\u0647\\u0645\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0637\\u0627\\u0631\\u0626\",children:\"\\u0637\\u0627\\u0631\\u0626\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u0627\\u0644\\u0645\\u062E\\u062A\\u0627\\u0631\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-gray-100 rounded\",children:[selectedInvoices.length,\" \\u0641\\u0627\\u062A\\u0648\\u0631\\u0629 \\u0645\\u062D\\u062F\\u062F\\u0629\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0648\\u0635\\u0641 \\u0623\\u0645\\u0631 \\u0627\\u0644\\u0634\\u063A\\u0644\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newWorkOrder.description,onChange:e=>setNewWorkOrder(_objectSpread(_objectSpread({},newWorkOrder),{},{description:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded h-20\",placeholder:\"\\u0648\\u0635\\u0641 \\u0625\\u0636\\u0627\\u0641\\u064A (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4 max-h-60 overflow-y-auto border rounded p-4\",children:getAvailableInvoices().map(invoice=>{var _invoice$total_amount5,_invoice$items3;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-3 cursor-pointer transition-colors \".concat(selectedInvoices.includes(invoice.id)?'border-blue-500 bg-blue-50':'border-gray-300 hover:bg-gray-50'),onClick:()=>toggleInvoiceSelection(invoice.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedInvoices.includes(invoice.id),onChange:()=>{},className:\"ml-2\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"font-semibold\",children:invoice.invoice_number})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644: \",invoice.customer_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E: \",new Date(invoice.date).toLocaleDateString('ar-EG')]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium\",children:[\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A: \\u062C.\\u0645 \",((_invoice$total_amount5=invoice.total_amount)===null||_invoice$total_amount5===void 0?void 0:_invoice$total_amount5.toFixed(2))||'0.00']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A: \",((_invoice$items3=invoice.items)===null||_invoice$items3===void 0?void 0:_invoice$items3.length)||0,\" \\u0635\\u0646\\u0641\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-block px-2 py-1 rounded text-xs mt-1 \".concat(invoice.status==='ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°'?'bg-green-100 text-green-800':'bg-blue-100 text-blue-800'),children:invoice.status})]},invoice.id);})}),getAvailableInvoices().length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u0645\\u062A\\u0627\\u062D\\u0629 \\u0644\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644\"}),selectedInvoices.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-3 bg-blue-100 rounded\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-semibold text-blue-800\",children:\"\\u0645\\u0644\\u062E\\u0635 \\u0623\\u0645\\u0631 \\u0627\\u0644\\u0634\\u063A\\u0644:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700\",children:[\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631: \",selectedInvoices.length,\" \\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700\",children:[\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u0644\\u063A: \\u062C.\\u0645 \",invoices.filter(inv=>selectedInvoices.includes(inv.id)).reduce((sum,inv)=>sum+(inv.total_amount||0),0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700\",children:[\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A: \",invoices.filter(inv=>selectedInvoices.includes(inv.id)).reduce((sum,inv)=>{var _inv$items3;return sum+(((_inv$items3=inv.items)===null||_inv$items3===void 0?void 0:_inv$items3.length)||0);},0),\" \\u0635\\u0646\\u0641\"]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:createWorkOrderFromMultipleInvoices,className:\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\",disabled:selectedInvoices.length===0,children:[\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0623\\u0645\\u0631 \\u0627\\u0644\\u0634\\u063A\\u0644 (\",selectedInvoices.length,\" \\u0641\\u0627\\u062A\\u0648\\u0631\\u0629)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4\",children:[\"\\u0623\\u0648\\u0627\\u0645\\u0631 \\u0627\\u0644\\u0634\\u063A\\u0644 (\",workOrders.length,\")\"]}),workOrders.map(workOrder=>{var _workOrder$total_amou;// Handle both single invoice and multiple invoices work orders\nconst workOrderInvoices=workOrder.invoices||(workOrder.invoice_id?[getInvoiceDetails(workOrder.invoice_id)]:[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-lg\",children:workOrder.title||\"\\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644 #\".concat(workOrder.id.slice(-8))}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0623\\u0648\\u0644\\u0648\\u064A\\u0629:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-2 px-2 py-1 rounded text-sm \".concat(workOrder.priority==='Ø·Ø§Ø±Ø¦'?'bg-red-100 text-red-800':workOrder.priority==='Ù…Ù‡Ù…'?'bg-yellow-100 text-yellow-800':'bg-blue-100 text-blue-800'),children:workOrder.priority||'Ø¹Ø§Ø¯ÙŠ'})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0625\\u0646\\u0634\\u0627\\u0621:\"}),\" \",new Date(workOrder.created_at).toLocaleDateString('ar-EG')]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631:\"}),\" \",workOrderInvoices.filter(inv=>inv).length]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-2 px-2 py-1 rounded text-sm bg-blue-100 text-blue-800\",children:workOrder.status||'Ø¬Ø¯ÙŠØ¯'})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u0644\\u063A:\"}),\"\\u062C.\\u0645 \",((_workOrder$total_amou=workOrder.total_amount)===null||_workOrder$total_amou===void 0?void 0:_workOrder$total_amou.toFixed(2))||workOrderInvoices.reduce((sum,inv)=>sum+((inv===null||inv===void 0?void 0:inv.total_amount)||0),0).toFixed(2)]}),workOrder.description&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0648\\u0635\\u0641:\"}),\" \",workOrder.description]}),workOrder.supervisor_name&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0645\\u0634\\u0631\\u0641 \\u0639\\u0644\\u0649 \\u0627\\u0644\\u062A\\u0635\\u0646\\u064A\\u0639:\"}),\" \",workOrder.supervisor_name]}),workOrder.is_daily&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0623\\u0645\\u0631:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600\",children:\"\\u0623\\u0645\\u0631 \\u0634\\u063A\\u0644 \\u064A\\u0648\\u0645\\u064A \\u062A\\u0644\\u0642\\u0627\\u0626\\u064A\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium mb-2\",children:\"\\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u0627\\u0644\\u0645\\u062F\\u0631\\u062C\\u0629:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",children:workOrderInvoices.filter(invoice=>invoice).map((invoice,index)=>{var _invoice$total_amount6,_invoice$items4;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded border\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629:\"}),\" \",invoice.invoice_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644:\"}),\" \",invoice.customer_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A:\"}),\" \\u062C.\\u0645 \",((_invoice$total_amount6=invoice.total_amount)===null||_invoice$total_amount6===void 0?void 0:_invoice$total_amount6.toFixed(2))||'0.00']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A:\"}),\" \",((_invoice$items4=invoice.items)===null||_invoice$items4===void 0?void 0:_invoice$items4.length)||0,\" \\u0635\\u0646\\u0641\"]})]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium mb-2\",children:\"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A:\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0642\\u0627\\u0633\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062E\\u0627\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0648\\u062D\\u062F\\u0629\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:workOrderInvoices.filter(invoice=>invoice).map(invoice=>{var _invoice$items5;return((_invoice$items5=invoice.items)===null||_invoice$items5===void 0?void 0:_invoice$items5.map((item,itemIndex)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:invoice.invoice_number}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.seal_type}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.material_type}),/*#__PURE__*/_jsxs(\"td\",{className:\"border border-gray-300 p-2\",children:[item.inner_diameter,\" \\xD7 \",item.outer_diameter,\" \\xD7 \",item.height]}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.quantity}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:item.material_details?item.material_details.is_finished_product?/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm\",children:\"\\u0645\\u0646\\u062A\\u062C \\u062C\\u0627\\u0647\\u0632\"}):/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\",children:item.material_details.material_type}):/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\",children:item.material_used||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-sm\",children:item.material_details?item.material_details.is_finished_product?/*#__PURE__*/_jsx(\"div\",{className:\"text-center font-semibold text-blue-600\",children:\"\\u0645\\u062E\\u0632\\u0646 \\u0627\\u0646\\u062A\\u0627\\u062C \\u062A\\u0627\\u0645\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:item.material_details.unit_code}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[item.material_details.inner_diameter,\" - \",item.material_details.outer_diameter]})]}):/*#__PURE__*/// Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø£Ùˆ Ø¹Ù†Ø¯Ù…Ø§ Ù„Ø§ ØªÙˆØ¬Ø¯ material_details\n_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:item.material_used||'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600\",children:\"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u062E\\u0627\\u0645\\u0629 \\u063A\\u064A\\u0631 \\u0645\\u062A\\u0648\\u0641\\u0631\\u0629\"})]})})})]},\"\".concat(invoice.id,\"-\").concat(itemIndex))))||[];})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>printWorkOrder(workOrder),className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u0623\\u0645\\u0631 \\u0627\\u0644\\u0634\\u063A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedWorkOrderId(workOrder.id);setShowAddToExisting(true);},className:\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0641\\u0627\\u062A\\u0648\\u0631\\u0629\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteWorkOrder(workOrder.id),className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641\"})]})]},workOrder.id);}),workOrders.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0648\\u0627\\u0645\\u0631 \\u0634\\u063A\\u0644\"})]})]});};// Treasury Management Component\nconst Treasury=()=>{const{user}=useAuth();// Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ\nconst[accounts,setAccounts]=useState([{id:'cash',name:'Ù†Ù‚Ø¯ÙŠ',balance:0,transactions:[]},{id:'vodafone_elsawy',name:'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ù…Ø­Ù…Ø¯ Ø§Ù„ØµØ§ÙˆÙŠ',balance:0,transactions:[]},{id:'vodafone_wael',name:'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„ Ù…Ø­Ù…Ø¯',balance:0,transactions:[]},{id:'deferred',name:'Ø¢Ø¬Ù„',balance:0,transactions:[]},{id:'instapay',name:'Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ',balance:0,transactions:[]},{id:'yad_elsawy',name:'ÙŠØ¯ Ø§Ù„ØµØ§ÙˆÙŠ',balance:0,transactions:[]}]);const[selectedAccount,setSelectedAccount]=useState('cash');const[showTransferModal,setShowTransferModal]=useState(false);const[transferData,setTransferData]=useState({from:'cash',to:'vodafone_elsawy',amount:'',notes:''});const[manualTransaction,setManualTransaction]=useState({account:'cash',type:'income',// income or expense\namount:'',description:'',notes:''});const[showManualForm,setShowManualForm]=useState(false);const[searchTerm,setSearchTerm]=useState('');// Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨Ø­Ø«\nuseEffect(()=>{fetchTreasuryData();},[]);const fetchTreasuryData=async()=>{try{// Fetch balances and transactions from backend\nconst balancesResponse=await axios.get(\"\".concat(API,\"/treasury/balances\"));const transactionsResponse=await axios.get(\"\".concat(API,\"/treasury/transactions\"));const invoicesResponse=await axios.get(\"\".concat(API,\"/invoices\"));const expensesResponse=await axios.get(\"\".concat(API,\"/expenses\"));const balances=balancesResponse.data;const manualTransactions=transactionsResponse.data;const invoices=invoicesResponse.data;const expenses=expensesResponse.data;// Update accounts with balances and transactions\nconst updatedAccounts=accounts.map(account=>{let transactions=[];// Add invoice transactions\ninvoices.forEach(invoice=>{const paymentMethodMap={'Ù†Ù‚Ø¯ÙŠ':'cash','ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ù…Ø­Ù…Ø¯ Ø§Ù„ØµØ§ÙˆÙŠ':'vodafone_elsawy','ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„ Ù…Ø­Ù…Ø¯':'vodafone_wael','Ø¢Ø¬Ù„':'deferred','Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ':'instapay','ÙŠØ¯ Ø§Ù„ØµØ§ÙˆÙŠ':'yad_elsawy'};if(paymentMethodMap[invoice.payment_method]===account.id){transactions.push({id:\"inv-\".concat(invoice.id),type:'income',amount:invoice.total_amount||0,description:\"\\u0641\\u0627\\u062A\\u0648\\u0631\\u0629 \\u0631\\u0642\\u0645 \".concat(invoice.invoice_number),date:invoice.date,reference:\"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644: \".concat(invoice.customer_name)});}});// Add expense transactions (only from cash account)\nif(account.id==='cash'){expenses.forEach(expense=>{transactions.push({id:\"exp-\".concat(expense.id),type:'expense',amount:expense.amount||0,description:expense.description||'Ù…ØµØ±ÙˆÙ',date:expense.date,category:expense.category});});}// Add manual transactions\nmanualTransactions.filter(transaction=>transaction.account_id===account.id).forEach(transaction=>{transactions.push({id:transaction.id,type:transaction.transaction_type,amount:transaction.amount,description:transaction.description,date:transaction.date,reference:transaction.reference});});return _objectSpread(_objectSpread({},account),{},{balance:balances[account.id]||0,transactions:transactions.sort((a,b)=>new Date(b.date)-new Date(a.date))});});setAccounts(updatedAccounts);}catch(error){console.error('Error fetching treasury data:',error);}};const handleTransfer=async()=>{if(!transferData.amount||parseFloat(transferData.amount)<=0){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­');return;}const amount=parseFloat(transferData.amount);const fromAccount=accounts.find(acc=>acc.id===transferData.from);if(fromAccount.balance<amount){alert('Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙŠ');return;}try{await axios.post(\"\".concat(API,\"/treasury/transfer\"),{from_account:transferData.from,to_account:transferData.to,amount:amount,notes:transferData.notes});// Refresh data\nfetchTreasuryData();setShowTransferModal(false);setTransferData({from:'cash',to:'vodafone_elsawy',amount:'',notes:''});alert('ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error processing transfer:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„');}};const handleManualTransaction=async()=>{if(!manualTransaction.amount||parseFloat(manualTransaction.amount)<=0){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­');return;}const amount=parseFloat(manualTransaction.amount);try{await axios.post(\"\".concat(API,\"/treasury/transactions\"),{account_id:manualTransaction.account,transaction_type:manualTransaction.type,amount:amount,description:manualTransaction.description,reference:manualTransaction.notes||'Ø¥Ø¯Ø®Ø§Ù„ ÙŠØ¯ÙˆÙŠ'});// Refresh data\nfetchTreasuryData();setShowManualForm(false);setManualTransaction({account:'cash',type:'income',amount:'',description:'',notes:''});alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error processing manual transaction:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©');}};const clearAccount=async accountId=>{if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.'))return;const account=accounts.find(acc=>acc.id===accountId);if(!account||account.balance===0){alert('Ø§Ù„Ø­Ø³Ø§Ø¨ ÙØ§Ø±Øº Ø¨Ø§Ù„ÙØ¹Ù„ Ø£Ùˆ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');return;}try{// Create expense transaction to zero the account\nawait axios.post(\"\".concat(API,\"/treasury/transactions\"),{account_id:accountId,transaction_type:'expense',amount:account.balance,description:\"\\u062A\\u0635\\u0641\\u064A\\u0631 \\u062D\\u0633\\u0627\\u0628 \".concat(account.name),reference:'ØªØµÙÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…Ø¯ÙŠØ±'});// Refresh data\nfetchTreasuryData();alert(\"\\u062A\\u0645 \\u062A\\u0635\\u0641\\u064A\\u0631 \\u062D\\u0633\\u0627\\u0628 \".concat(account.name,\" \\u0628\\u0646\\u062C\\u0627\\u062D\"));}catch(error){console.error('Error clearing account:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµÙÙŠØ± Ø§Ù„Ø­Ø³Ø§Ø¨');}};const selectedAccountData=accounts.find(acc=>acc.id===selectedAccount);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-600 mb-4\",children:\"\\u0627\\u0644\\u062E\\u0632\\u064A\\u0646\\u0629 - \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0623\\u0645\\u0648\\u0627\\u0644\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTransferModal(true),className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u062A\\u062D\\u0648\\u064A\\u0644 \\u0623\\u0645\\u0648\\u0627\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManualForm(true),className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0639\\u0645\\u0644\\u064A\\u0629 \\u064A\\u062F\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchTreasuryData,className:\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u062D\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),className:\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\",children:\"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u062A\\u0642\\u0631\\u064A\\u0631\"}),(user===null||user===void 0?void 0:user.username)==='Elsawy'&&selectedAccount==='yad_elsawy'&&(selectedAccountData===null||selectedAccountData===void 0?void 0:selectedAccountData.balance)>0&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>clearAccount(selectedAccount),className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u062A\\u0635\\u0641\\u064A\\u0631 \\u062D\\u0633\\u0627\\u0628 \\u064A\\u062F \\u0627\\u0644\\u0635\\u0627\\u0648\\u064A\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6\",children:accounts.map(account=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg shadow cursor-pointer transition-colors \".concat(selectedAccount===account.id?'bg-blue-100 border-2 border-blue-500':'bg-white hover:bg-gray-50'),onClick:()=>setSelectedAccount(account.id),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800 mb-2\",children:account.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold \".concat(account.balance>=0?'text-green-600':'text-red-600'),children:[\"\\u062C.\\u0645 \",account.balance.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:[account.transactions.length,\" \\u0639\\u0645\\u0644\\u064A\\u0629\"]})]},account.id))}),selectedAccountData&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4\",children:[\"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u062D\\u0633\\u0627\\u0628: \",selectedAccountData.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"\\u0627\\u0644\\u0628\\u062D\\u062B \\u0641\\u064A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0645\\u0644\\u0627\\u062A...\",className:\"w-full p-3 border border-gray-300 rounded-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0646\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0648\\u0635\\u0641\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0645\\u0631\\u062C\\u0639\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedAccountData.transactions.filter(transaction=>transaction.description.toLowerCase().includes(searchTerm.toLowerCase())||transaction.reference&&transaction.reference.toLowerCase().includes(searchTerm.toLowerCase())||transaction.category&&transaction.category.toLowerCase().includes(searchTerm.toLowerCase())).map((transaction,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:new Date(transaction.date).toLocaleDateString('ar-EG')}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs \".concat(transaction.type==='income'?'bg-green-100 text-green-800':transaction.type==='expense'?'bg-red-100 text-red-800':transaction.type==='transfer_in'?'bg-blue-100 text-blue-800':'bg-orange-100 text-orange-800'),children:transaction.type==='income'?'Ø¯Ø®Ù„':transaction.type==='expense'?'Ù…ØµØ±ÙˆÙ':transaction.type==='transfer_in'?'ØªØ­ÙˆÙŠÙ„ ÙˆØ§Ø±Ø¯':'ØªØ­ÙˆÙŠÙ„ ØµØ§Ø¯Ø±'})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:transaction.description}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:transaction.type==='income'||transaction.type==='transfer_in'?'text-green-600 font-semibold':'text-red-600 font-semibold',children:[transaction.type==='income'||transaction.type==='transfer_in'?'+':'-',\"\\u062C.\\u0645 \",transaction.amount.toFixed(2)]})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2 text-sm text-gray-600\",children:transaction.reference||transaction.category||'-'})]},transaction.id||index))})]}),selectedAccountData.transactions.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0639\\u0645\\u0644\\u064A\\u0627\\u062A \\u0644\\u0647\\u0630\\u0627 \\u0627\\u0644\\u062D\\u0633\\u0627\\u0628\"})]})]}),showTransferModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u062A\\u062D\\u0648\\u064A\\u0644 \\u0623\\u0645\\u0648\\u0627\\u0644 \\u0628\\u064A\\u0646 \\u0627\\u0644\\u062D\\u0633\\u0627\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0645\\u0646 \\u062D\\u0633\\u0627\\u0628\"}),/*#__PURE__*/_jsx(\"select\",{value:transferData.from,onChange:e=>setTransferData(_objectSpread(_objectSpread({},transferData),{},{from:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:accounts.map(account=>/*#__PURE__*/_jsxs(\"option\",{value:account.id,children:[account.name,\" (\\u062C.\\u0645 \",account.balance.toFixed(2),\")\"]},account.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0625\\u0644\\u0649 \\u062D\\u0633\\u0627\\u0628\"}),/*#__PURE__*/_jsx(\"select\",{value:transferData.to,onChange:e=>setTransferData(_objectSpread(_objectSpread({},transferData),{},{to:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:accounts.filter(acc=>acc.id!==transferData.from).map(account=>/*#__PURE__*/_jsx(\"option\",{value:account.id,children:account.name},account.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:transferData.amount,onChange:e=>setTransferData(_objectSpread(_objectSpread({},transferData),{},{amount:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"0.00\",min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:transferData.notes,onChange:e=>setTransferData(_objectSpread(_objectSpread({},transferData),{},{notes:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleTransfer,className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u062A\\u062D\\u0648\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTransferModal(false),className:\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})}),showManualForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0639\\u0645\\u0644\\u064A\\u0629 \\u064A\\u062F\\u0648\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u062D\\u0633\\u0627\\u0628\"}),/*#__PURE__*/_jsx(\"select\",{value:manualTransaction.account,onChange:e=>setManualTransaction(_objectSpread(_objectSpread({},manualTransaction),{},{account:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:accounts.map(account=>/*#__PURE__*/_jsx(\"option\",{value:account.id,children:account.name},account.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u0639\\u0645\\u0644\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"select\",{value:manualTransaction.type,onChange:e=>setManualTransaction(_objectSpread(_objectSpread({},manualTransaction),{},{type:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"income\",children:\"\\u062F\\u062E\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"expense\",children:\"\\u0645\\u0635\\u0631\\u0648\\u0641\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:manualTransaction.amount,onChange:e=>setManualTransaction(_objectSpread(_objectSpread({},manualTransaction),{},{amount:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"0.00\",min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0648\\u0635\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:manualTransaction.description,onChange:e=>setManualTransaction(_objectSpread(_objectSpread({},manualTransaction),{},{description:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0639\\u0645\\u0644\\u064A\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:manualTransaction.notes,onChange:e=>setManualTransaction(_objectSpread(_objectSpread({},manualTransaction),{},{notes:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleManualTransaction,className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0627\\u0644\\u0639\\u0645\\u0644\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManualForm(false),className:\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})})]});};// Users Management Component  \nconst Users=()=>{const[users,setUsers]=useState([]);const[newUser,setNewUser]=useState({username:'',password:'',role:'user'});const[editingUser,setEditingUser]=useState(null);const[editForm,setEditForm]=useState({username:'',password:'',role:'user'});const[companyInfo,setCompanyInfo]=useState({name:'Ù…Ø§Ø³ØªØ± Ø³ÙŠÙ„',address:'Ø§Ù„Ø­Ø±ÙÙŠØ§Ù† Ø´Ø§Ø±Ø¹ Ø§Ù„Ø³ÙˆØ¨Ø± Ø¬ÙŠØª',phone:'01020630677'});const[editingCompany,setEditingCompany]=useState(false);const[selectedUserPermissions,setSelectedUserPermissions]=useState(null);const allPermissions=[{key:'dashboard',label:'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…'},{key:'sales',label:'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª'},{key:'inventory',label:'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†'},{key:'deferred',label:'Ø§Ù„Ø¢Ø¬Ù„'},{key:'expenses',label:'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª'},{key:'revenue',label:'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª'},{key:'treasury',label:'Ø§Ù„Ø®Ø²ÙŠÙ†Ø©'},{key:'invoices',label:'Ø§Ù„ÙÙˆØ§ØªÙŠØ±'},{key:'work-orders',label:'Ø£Ù…Ø± Ø´ØºÙ„'},{key:'users',label:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'}];useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{const response=await axios.get(\"\".concat(API,\"/users\"));// Check if default users exist in database\nconst dbUsers=response.data||[];const hasElsawy=dbUsers.some(user=>user.username==='Elsawy');const hasRoot=dbUsers.some(user=>user.username==='Root');// Create default users if they don't exist\nif(!hasElsawy){await axios.post(\"\".concat(API,\"/users\"),{username:'Elsawy',password:'100100',role:'admin',permissions:allPermissions.map(p=>p.key)});}if(!hasRoot){await axios.post(\"\".concat(API,\"/users\"),{username:'Root',password:'master',role:'user',permissions:['dashboard','sales','inventory','deferred','expenses','treasury','work-orders']});}// Fetch users again if we created default users\nif(!hasElsawy||!hasRoot){const updatedResponse=await axios.get(\"\".concat(API,\"/users\"));setUsers(updatedResponse.data||[]);}else{setUsers(dbUsers);}}catch(error){console.error('Error fetching users:',error);// Fall back to empty array for now\nsetUsers([]);}};const addUser=async()=>{if(!newUser.username||!newUser.password){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');return;}try{// Check if username already exists\nif(users.some(user=>user.username===newUser.username)){alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„');return;}// Default permissions based on role\nconst defaultPermissions=newUser.role==='admin'?allPermissions.map(p=>p.key):['dashboard','sales','inventory','deferred','expenses','treasury','work-orders'];// Let backend generate ID and created_at\nconst user={username:newUser.username,password:newUser.password,role:newUser.role,permissions:defaultPermissions};await axios.post(\"\".concat(API,\"/users\"),user);fetchUsers();setNewUser({username:'',password:'',role:'user'});alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');}catch(error){var _error$response7,_error$response7$data;console.error('Error adding user:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: '+(((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.detail)||error.message));}};const startEdit=user=>{setEditingUser(user.id);setEditForm({username:user.username,password:'',role:user.role});};const cancelEdit=()=>{setEditingUser(null);setEditForm({username:'',password:'',role:'user'});};const saveEdit=async()=>{if(!editForm.username){alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');return;}// Check if username already exists (excluding current user)\nif(users.some(user=>user.username===editForm.username&&user.id!==editingUser)){alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„');return;}try{// Find current user to preserve their permissions\nconst currentUser=users.find(u=>u.id===editingUser);if(!currentUser){alert('Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');return;}// Update user in backend - preserve existing permissions\nconst updatedUser={id:editingUser,username:editForm.username,role:editForm.role,password:editForm.password||currentUser.password,permissions:currentUser.permissions||[],created_at:currentUser.created_at};await axios.put(\"\".concat(API,\"/users/\").concat(editingUser),updatedUser);// Fetch updated data from database instead of updating local state\nfetchUsers();setEditingUser(null);setEditForm({username:'',password:'',role:'user'});alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');}catch(error){var _error$response8,_error$response8$data;console.error('Error updating user:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: '+(((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.detail)||error.message));}};const deleteUser=async userId=>{if(userId==='1'||userId==='2'){alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠÙŠÙ†');return;}if(!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ'))return;try{await axios.delete(\"\".concat(API,\"/users/\").concat(userId));fetchUsers();alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');}catch(error){console.error('Error deleting user:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');}};const resetPassword=async userId=>{const newPassword=prompt('Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:');if(newPassword&&newPassword.trim()){try{// Find the user to get their current data\nconst user=users.find(u=>u.id===userId);if(!user){alert('Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');return;}// Update password in backend\nconst updatedUser={id:user.id,username:user.username,password:newPassword.trim(),role:user.role,permissions:user.permissions||[],created_at:user.created_at};await axios.put(\"\".concat(API,\"/users/\").concat(userId),updatedUser);alert('ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­');}catch(error){var _error$response9,_error$response9$data;console.error('Error updating password:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: '+(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.detail)||error.message));}}};const openPermissions=user=>{setSelectedUserPermissions(_objectSpread(_objectSpread({},user),{},{tempPermissions:[...(user.permissions||[])]}));};const togglePermission=permissionKey=>{setSelectedUserPermissions(prev=>{const newPermissions=prev.tempPermissions.includes(permissionKey)?prev.tempPermissions.filter(p=>p!==permissionKey):[...prev.tempPermissions,permissionKey];return _objectSpread(_objectSpread({},prev),{},{tempPermissions:newPermissions});});};const savePermissions=async()=>{try{// Update permissions in backend\nconst updatedUser={id:selectedUserPermissions.id,username:selectedUserPermissions.username,password:selectedUserPermissions.password,role:selectedUserPermissions.role,permissions:selectedUserPermissions.tempPermissions,created_at:selectedUserPermissions.created_at};await axios.put(\"\".concat(API,\"/users/\").concat(selectedUserPermissions.id),updatedUser);// Fetch updated data from database\nfetchUsers();setSelectedUserPermissions(null);alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­');}catch(error){var _error$response10,_error$response10$dat;console.error('Error updating permissions:',error);alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª: '+(((_error$response10=error.response)===null||_error$response10===void 0?void 0:(_error$response10$dat=_error$response10.data)===null||_error$response10$dat===void 0?void 0:_error$response10$dat.detail)||error.message));}};const saveCompanyInfo=()=>{setEditingCompany(false);alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­');};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",dir:\"rtl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-600 mb-4\",children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\\u064A\\u0646\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u062D\\u0645\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.print(),className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u062A\\u0642\\u0631\\u064A\\u0631\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"}),editingCompany?/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:companyInfo.name,onChange:e=>setCompanyInfo(_objectSpread(_objectSpread({},companyInfo),{},{name:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:companyInfo.address,onChange:e=>setCompanyInfo(_objectSpread(_objectSpread({},companyInfo),{},{address:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u062A\\u0644\\u064A\\u0641\\u0648\\u0646\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:companyInfo.phone,onChange:e=>setCompanyInfo(_objectSpread(_objectSpread({},companyInfo),{},{phone:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p-2 bg-gray-100 rounded\",children:companyInfo.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p-2 bg-gray-100 rounded\",children:companyInfo.address})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u062A\\u0644\\u064A\\u0641\\u0648\\u0646\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p-2 bg-gray-100 rounded\",children:companyInfo.phone})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-4 space-x-reverse\",children:editingCompany?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveCompanyInfo,className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u062D\\u0641\\u0638\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingCompany(false),className:\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingCompany(true),className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0633\\u062A\\u062E\\u062F\\u0645 \\u062C\\u062F\\u064A\\u062F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUser.username,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{username:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newUser.password,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{password:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",placeholder:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"\\u0627\\u0644\\u0635\\u0644\\u0627\\u062D\\u064A\\u0629\"}),/*#__PURE__*/_jsxs(\"select\",{value:newUser.role,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{role:e.target.value})),className:\"w-full p-2 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645 \\u0639\\u0627\\u062F\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\u0645\\u062F\\u064A\\u0631\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addUser,className:\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"\\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\\u064A\\u0646\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0635\\u0644\\u0627\\u062D\\u064A\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0635\\u0644\\u0627\\u062D\\u064A\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0625\\u0646\\u0634\\u0627\\u0621\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border border-gray-300 p-2\",children:\"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>{var _user$permissions;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:editingUser===user.id?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editForm.username,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{username:e.target.value})),className:\"w-full p-1 border border-gray-300 rounded\"}):/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:user.username})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:editingUser===user.id?/*#__PURE__*/_jsxs(\"select\",{value:editForm.role,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{role:e.target.value})),className:\"w-full p-1 border border-gray-300 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645 \\u0639\\u0627\\u062F\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\u0645\\u062F\\u064A\\u0631\"})]}):/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-sm \".concat(user.role==='admin'?'bg-red-100 text-red-800':'bg-blue-100 text-blue-800'),children:user.role==='admin'?'Ù…Ø¯ÙŠØ±':'Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ'})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"bg-gray-100 px-2 py-1 rounded text-sm\",children:[((_user$permissions=user.permissions)===null||_user$permissions===void 0?void 0:_user$permissions.length)||0,\" \\u0635\\u0644\\u0627\\u062D\\u064A\\u0629\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:new Date(user.created_at).toLocaleDateString('ar-EG')}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-sm bg-green-100 text-green-800\",children:\"\\u0646\\u0634\\u0637\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"border border-gray-300 p-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2 space-x-reverse flex-wrap\",children:editingUser===user.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveEdit,className:\"bg-green-500 text-white px-2 py-1 rounded text-sm hover:bg-green-600 mb-1\",children:\"\\u062D\\u0641\\u0638\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,className:\"bg-gray-500 text-white px-2 py-1 rounded text-sm hover:bg-gray-600 mb-1\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEdit(user),className:\"bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600 mb-1\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openPermissions(user),className:\"bg-purple-500 text-white px-2 py-1 rounded text-sm hover:bg-purple-600 mb-1\",children:\"\\u0627\\u0644\\u0635\\u0644\\u0627\\u062D\\u064A\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>resetPassword(user.id),className:\"bg-yellow-500 text-white px-2 py-1 rounded text-sm hover:bg-yellow-600 mb-1\",children:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"}),user.id!=='1'&&user.id!=='2'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteUser(user.id),className:\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600 mb-1\",children:\"\\u062D\\u0630\\u0641\"})]})})})]},user.id);})})]})})]}),selectedUserPermissions&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 max-w-md w-full mx-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold mb-4\",children:[\"\\u0635\\u0644\\u0627\\u062D\\u064A\\u0627\\u062A \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645: \",selectedUserPermissions.username]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 mb-4\",children:allPermissions.map(permission=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedUserPermissions.tempPermissions.includes(permission.key),onChange:()=>togglePermission(permission.key),className:\"ml-2\"}),/*#__PURE__*/_jsx(\"span\",{children:permission.label})]},permission.key))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:savePermissions,className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"\\u062D\\u0641\\u0638\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedUserPermissions(null),className:\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})})]});};// Main App Component\nconst App=()=>{const[currentPage,setCurrentPage]=useState('sales');// Default to sales instead of dashboard\nconst{user}=useAuth();if(!user)return/*#__PURE__*/_jsx(Login,{});const renderPage=()=>{switch(currentPage){case'dashboard':// Only Elsawy can access dashboard\nreturn(user===null||user===void 0?void 0:user.username)==='Elsawy'?/*#__PURE__*/_jsx(Dashboard,{}):/*#__PURE__*/_jsx(Sales,{});case'sales':return/*#__PURE__*/_jsx(Sales,{});case'inventory':return/*#__PURE__*/_jsx(Inventory,{});case'stock':return/*#__PURE__*/_jsx(Stock,{});case'local':return/*#__PURE__*/_jsx(Local,{});case'deferred':return/*#__PURE__*/_jsx(Deferred,{});case'expenses':return/*#__PURE__*/_jsx(Expenses,{});case'revenue':return/*#__PURE__*/_jsx(Revenue,{});case'treasury':return/*#__PURE__*/_jsx(Treasury,{});case'invoices':return/*#__PURE__*/_jsx(Invoices,{});case'work-orders':return/*#__PURE__*/_jsx(WorkOrders,{});case'users':return/*#__PURE__*/_jsx(Users,{});default:return/*#__PURE__*/_jsx(Sales,{});// Default to sales instead of dashboard\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen bg-gray-50\",dir:\"rtl\",children:[/*#__PURE__*/_jsx(Navigation,{currentPage:currentPage,onPageChange:setCurrentPage}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 overflow-y-auto bg-gradient-to-br from-gray-50 to-blue-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:renderPage()})})]});};// Root App with AuthProvider\nconst AppWithAuth=()=>/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(App,{})});export default AppWithAuth;","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","AuthContext","useAuth","context","Error","AuthProvider","_ref","children","user","setUser","isLoading","setIsLoading","savedUser","localStorage","getItem","JSON","parse","login","username","password","response","post","params","data","success","setItem","stringify","error","console","logout","removeItem","className","Provider","value","Login","setUsername","setPassword","setError","handleSubmit","e","preventDefault","dir","src","alt","onSubmit","type","onChange","target","placeholder","required","Navigation","_ref2","currentPage","onPageChange","elsawyPages","key","label","icon","adminPages","userPages","pages","role","onClick","map","page","Inventory","inventoryItems","setInventoryItems","inventoryTransactions","setInventoryTransactions","lowStockItems","setLowStockItems","currentView","setCurrentView","editingItem","setEditingItem","newItem","setNewItem","material_type","inner_diameter","outer_diameter","available_pieces","min_stock_level","notes","newTransaction","setNewTransaction","transaction_type","pieces_change","reason","searchTerm","setSearchTerm","materialTypes","fetchInventoryItems","get","fetchInventoryTransactions","fetchLowStockItems","addInventoryItem","alert","put","id","_objectSpread","parseFloat","parseInt","_error$response","_error$response$data","detail","message","addInventoryTransaction","transactionData","Math","abs","_error$response2","_error$response2$data","filteredItems","filter","item","_item$notes","toLowerCase","includes","toString","sort","a","b","materialPriority","aPriority","bPriority","filteredTransactions","transaction","_transaction$notes","Date","date","length","confirm","delete","step","toLocaleDateString","remaining_pieces","max","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","toISOString","split","body","appendChild","click","remove","accept","file","files","formData","FormData","append","headers","imported_count","errors","warn","Local","suppliers","setSuppliers","localProducts","setLocalProducts","supplierTransactions","setSupplierTransactions","newSupplier","setNewSupplier","name","phone","address","newProduct","setNewProduct","supplier_id","purchase_price","selling_price","current_stock","amount","description","product_name","quantity","unit_price","payment_method","selectedSupplier","setSelectedSupplier","paymentAmount","setPaymentAmount","paymentMethod","setPaymentMethod","fetchSuppliers","fetchLocalProducts","fetchSupplierTransactions","addSupplier","trim","addLocalProduct","paySupplier","supplier","total_purchases","toFixed","total_paid","balance","product","supplier_name","total_sold","s","Dashboard","stats","setStats","total_sales","total_expenses","net_profit","total_unpaid","invoice_count","customer_count","fetchStats","clearAllData","printReport","reportType","currentDate","printContent","printWindow","open","write","close","print","Sales","customers","setCustomers","newCustomer","setNewCustomer","selectedCustomer","setSelectedCustomer","supervisorName","setSupervisorName","invoiceTitle","setInvoiceTitle","currentItem","setCurrentItem","seal_type","height","product_type","localProduct","setLocalProduct","product_size","items","setItems","discount","setDiscount","discountType","setDiscountType","compatibilityResults","setCompatibilityResults","selectedMaterial","setSelectedMaterial","measurementUnit","setMeasurementUnit","wallHeight","setWallHeight","sealTypes","fetchCustomers","checkCompatibility","innerDiameter","outerDiameter","isNaN","addItem","total_price","material_used","unit_code","material_details","is_finished_product","product_type_name","local_product_details","createInvoice","customerId","customerName","customerResponse","customer","find","c","subtotal","reduce","sum","discountAmount","totalAfterDiscount","invoiceData","customer_id","customer_name","invoice_title","supervisor_name","discount_type","discount_value","total_after_discount","encodeURIComponent","printInvoice","invoice","invoice_number","customer_address","index","wall_height","join","Array","from","_","i","total_amount","clearAllInvoices","startsWith","compatible_materials","material","low_stock","pieces_count","warning","compatible_products","min","style","display","Stock","rawMaterials","setRawMaterials","finishedProducts","setFinishedProducts","newRawMaterial","setNewRawMaterial","cost_per_mm","newFinishedProduct","setNewFinishedProduct","filteredRawMaterials","filteredFinishedProducts","fetchRawMaterials","fetchFinishedProducts","addRawMaterial","rawMaterial","_error$response3","_error$response3$data","clearAllRawMaterials","deleteRawMaterial","materialId","addFinishedProduct","finishedProduct","deleteFinishedProduct","productId","Deferred","_selectedInvoice$rema","unpaidInvoices","setUnpaidInvoices","paymentNotes","setPaymentNotes","selectedInvoice","setSelectedInvoice","fetchUnpaidInvoices","invoices","status","remaining_amount","getCustomerName","makePayment","invoice_id","disabled","_invoice$total_amount","_invoice$paid_amount","_invoice$remaining_am","paid_amount","inv","Expenses","expenses","setExpenses","newExpense","setNewExpense","category","expenseCategories","fetchExpenses","addExpense","deleteExpense","expenseId","getTotalExpenses","expense","getExpensesByCategory","byCategory","forEach","cat","exp","clearAllExpenses","Object","entries","_ref3","Revenue","_revenueData$total_re","_revenueData$total_ex","_revenueData$material","_revenueData$profit","_revenueData$total_re2","_revenueData$material2","_revenueData$profit2","revenueData","setRevenueData","total_revenue","material_cost","profit","period","setPeriod","fetchRevenueData","Invoices","setInvoices","filterStatus","setFilterStatus","editingInvoice","setEditingInvoice","editForm","setEditForm","fetchInvoices","deleteInvoice","invoiceId","startEditInvoice","cancelEdit","saveInvoiceEdit","updatedInvoice","_error$response4","_error$response4$data","updateInvoiceStatus","newStatus","filteredInvoices","matchesStatus","matchesSearch","_invoice$subtotal","_invoice$total_amount2","_ref4","rows","_item$local_product_d","_item$local_product_d2","newItems","WorkOrders","workOrders","setWorkOrders","selectedInvoices","setSelectedInvoices","newWorkOrder","setNewWorkOrder","title","priority","showAddToExisting","setShowAddToExisting","selectedWorkOrderId","setSelectedWorkOrderId","selectedInvoiceForAdd","setSelectedInvoiceForAdd","fetchWorkOrders","toggleInvoiceSelection","prev","createWorkOrderFromMultipleInvoices","selectedInvoicesData","cleanInvoices","cleanInv","_id","workOrderData","total_items","_inv$items","_error$response5","_error$response5$data","addInvoiceToExistingWorkOrder","_error$response6","_error$response6$data","getInvoiceDetails","getAvailableInvoices","getAvailableInvoicesForAdd","_selectedWorkOrder$in","selectedWorkOrder","wo","usedInvoiceIds","printWorkOrder","workOrder","_workOrder$invoices","workOrderInvoices","totalAmount","totalItems","_inv$items2","slice","created_at","is_daily","_invoice$total_amount3","_invoice$items","_invoice$items2","clearAllWorkOrders","deleteWorkOrder","workOrderId","_workOrder$invoices2","_invoice$total_amount4","_invoice$total_amount5","_invoice$items3","checked","_inv$items3","_workOrder$total_amou","_invoice$total_amount6","_invoice$items4","_invoice$items5","itemIndex","Treasury","accounts","setAccounts","transactions","selectedAccount","setSelectedAccount","showTransferModal","setShowTransferModal","transferData","setTransferData","to","manualTransaction","setManualTransaction","account","showManualForm","setShowManualForm","fetchTreasuryData","balancesResponse","transactionsResponse","invoicesResponse","expensesResponse","balances","manualTransactions","updatedAccounts","paymentMethodMap","push","reference","account_id","handleTransfer","fromAccount","acc","from_account","to_account","handleManualTransaction","clearAccount","accountId","selectedAccountData","Users","users","setUsers","newUser","setNewUser","editingUser","setEditingUser","companyInfo","setCompanyInfo","editingCompany","setEditingCompany","selectedUserPermissions","setSelectedUserPermissions","allPermissions","fetchUsers","dbUsers","hasElsawy","some","hasRoot","permissions","p","updatedResponse","addUser","defaultPermissions","_error$response7","_error$response7$data","startEdit","saveEdit","currentUser","u","updatedUser","_error$response8","_error$response8$data","deleteUser","userId","resetPassword","newPassword","prompt","_error$response9","_error$response9$data","openPermissions","tempPermissions","togglePermission","permissionKey","newPermissions","savePermissions","_error$response10","_error$response10$dat","saveCompanyInfo","_user$permissions","permission","App","setCurrentPage","renderPage","AppWithAuth"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\nimport './App.css';\nimport axios from 'axios';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\n// Auth Context\nconst AuthContext = createContext();\n\nconst useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\nconst AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const savedUser = localStorage.getItem('user');\n    if (savedUser) {\n      setUser(JSON.parse(savedUser));\n    }\n    setIsLoading(false);\n  }, []);\n\n  const login = async (username, password) => {\n    try {\n      const response = await axios.post(`${API}/auth/login`, null, {\n        params: { username, password }\n      });\n      \n      if (response.data.success) {\n        setUser(response.data.user);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n        return true;\n      }\n      return false;\n    } catch (error) {\n      console.error('Login error:', error);\n      return false;\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem('user');\n  };\n\n  if (isLoading) {\n    return <div className=\"flex items-center justify-center min-h-screen\">\n      <div className=\"text-xl\">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>\n    </div>;\n  }\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// Login Component\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const { login } = useAuth();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    \n    const success = await login(username, password);\n    if (!success) {\n      setError('Ø®Ø·Ø£ ÙÙŠ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center p-4\" dir=\"rtl\">\n      <div className=\"max-w-md w-full\">\n        {/* Login Card */}\n        <div className=\"bg-white rounded-2xl shadow-2xl p-8 border border-blue-100\">\n          {/* Header */}\n          <div className=\"text-center mb-8\">\n            <div className=\"mb-4\">\n              <img \n                src=\"https://customer-assets.emergentagent.com/job_oilseal-mgmt/artifacts/42i3e7yn_WhatsApp%20Image%202025-07-31%20at%2015.14.10_e8c55120.jpg\" \n                alt=\"Master Seal Logo\" \n                className=\"h-16 w-16 mx-auto rounded-full shadow-lg border-4 border-blue-100\"\n              />\n            </div>\n            <h1 className=\"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent\">Ù…Ø§Ø³ØªØ± Ø³ÙŠÙ„</h1>\n            <p className=\"text-gray-500 mt-2\">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</p>\n            <div className=\"w-16 h-1 bg-gradient-to-r from-blue-400 to-blue-600 mx-auto mt-3 rounded-full\"></div>\n          </div>\n          \n          {/* Login Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"space-y-2\">\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                ðŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\n              </label>\n              <input\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-3 focus:ring-blue-200 focus:border-blue-400 transition-all duration-200 bg-gray-50 hover:bg-white\"\n                placeholder=\"Ø§Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\"\n                required\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <label className=\"block text-sm font-semibold text-gray-700 mb-2\">\n                ðŸ”’ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\n              </label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-3 focus:ring-blue-200 focus:border-blue-400 transition-all duration-200 bg-gray-50 hover:bg-white\"\n                placeholder=\"Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\"\n                required\n              />\n            </div>\n            \n            {error && (\n              <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl text-sm text-center animate-pulse\">\n                âš ï¸ {error}\n              </div>\n            )}\n            \n            <button\n              type=\"submit\"\n              className=\"w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white py-3 px-6 rounded-xl hover:from-blue-700 hover:to-blue-900 focus:outline-none focus:ring-3 focus:ring-blue-300 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105\"\n            >\n              ðŸš€ Ø¯Ø®ÙˆÙ„\n            </button>\n          </form>\n          \n          {/* Footer */}\n          <div className=\"text-center mt-8 pt-6 border-t border-gray-100\">\n            <p className=\"text-xs text-gray-400\">Ø§Ù„Ø­Ø±ÙÙŠÙŠÙ† - Ø§Ù„Ø³Ù„Ø§Ù… - Ø£Ù…Ø§Ù… Ø§Ù„Ø³ÙˆØ¨Ø± Ø¬ÙŠØª</p>\n            <p className=\"text-xs text-gray-500 mt-1 font-medium\">ðŸ“ž 01020630677</p>\n          </div>\n        </div>\n        \n        {/* Additional Info Card */}\n        <div className=\"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-4 text-center border border-blue-100/50\">\n          <p className=\"text-sm text-gray-600\">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Navigation Component\nconst Navigation = ({ currentPage, onPageChange }) => {\n  const { user, logout } = useAuth();\n  \n  // Dashboard is only for Elsawy\n  const elsawyPages = [\n    { key: 'dashboard', label: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', icon: 'ðŸ“Š' },\n    { key: 'sales', label: 'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', icon: 'ðŸ’°' },\n    { key: 'inventory', label: 'Ø§Ù„Ø¬Ø±Ø¯', icon: 'ðŸ“¦' },\n    { key: 'stock', label: 'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†', icon: 'ðŸª' },\n    { key: 'local', label: 'Ù…Ø­Ù„ÙŠ', icon: 'ðŸ­' },\n    { key: 'deferred', label: 'Ø§Ù„Ø¢Ø¬Ù„', icon: 'â³' },\n    { key: 'expenses', label: 'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª', icon: 'ðŸ’¸' },\n    { key: 'revenue', label: 'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª', icon: 'ðŸ“ˆ' },\n    { key: 'treasury', label: 'Ø§Ù„Ø®Ø²ÙŠÙ†Ø©', icon: 'ðŸ¦' },\n    { key: 'invoices', label: 'Ø§Ù„ÙÙˆØ§ØªÙŠØ±', icon: 'ðŸ§¾' },\n    { key: 'work-orders', label: 'Ø£Ù…Ø± Ø´ØºÙ„', icon: 'âš™ï¸' },\n    { key: 'users', label: 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†', icon: 'ðŸ‘¥' }\n  ];\n  \n  const adminPages = [\n    { key: 'sales', label: 'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', icon: 'ðŸ’°' },\n    { key: 'inventory', label: 'Ø§Ù„Ø¬Ø±Ø¯', icon: 'ðŸ“¦' },\n    { key: 'stock', label: 'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†', icon: 'ðŸª' },\n    { key: 'local', label: 'Ù…Ø­Ù„ÙŠ', icon: 'ðŸ­' },\n    { key: 'deferred', label: 'Ø§Ù„Ø¢Ø¬Ù„', icon: 'â³' },\n    { key: 'expenses', label: 'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª', icon: 'ðŸ’¸' },\n    { key: 'revenue', label: 'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª', icon: 'ðŸ“ˆ' },\n    { key: 'treasury', label: 'Ø§Ù„Ø®Ø²ÙŠÙ†Ø©', icon: 'ðŸ¦' },\n    { key: 'invoices', label: 'Ø§Ù„ÙÙˆØ§ØªÙŠØ±', icon: 'ðŸ§¾' },\n    { key: 'work-orders', label: 'Ø£Ù…Ø± Ø´ØºÙ„', icon: 'âš™ï¸' },\n    { key: 'users', label: 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†', icon: 'ðŸ‘¥' }\n  ];\n  \n  const userPages = [\n    { key: 'sales', label: 'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', icon: 'ðŸ’°' },\n    { key: 'inventory', label: 'Ø§Ù„Ø¬Ø±Ø¯', icon: 'ðŸ“¦' },\n    { key: 'stock', label: 'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†', icon: 'ðŸª' },\n    { key: 'local', label: 'Ù…Ø­Ù„ÙŠ', icon: 'ðŸ­' },\n    { key: 'deferred', label: 'Ø§Ù„Ø¢Ø¬Ù„', icon: 'â³' },\n    { key: 'expenses', label: 'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª', icon: 'ðŸ’¸' },\n    { key: 'treasury', label: 'Ø§Ù„Ø®Ø²ÙŠÙ†Ø©', icon: 'ðŸ¦' },\n    { key: 'invoices', label: 'Ø§Ù„ÙÙˆØ§ØªÙŠØ±', icon: 'ðŸ§¾' },\n    { key: 'work-orders', label: 'Ø£Ù…Ø± Ø´ØºÙ„', icon: 'âš™ï¸' }\n  ];\n  \n  // Only Elsawy gets dashboard access\n  const pages = user?.username === 'Elsawy' ? elsawyPages : \n               user?.role === 'admin' ? adminPages : userPages;\n\n  return (\n    <div className=\"w-80 bg-gradient-to-b from-blue-900 via-blue-800 to-blue-900 text-white shadow-2xl\">\n      {/* Header */}\n      <div className=\"p-6 border-b border-blue-700\">\n        <div className=\"flex items-center space-x-3 space-x-reverse\">\n          <img \n            src=\"https://customer-assets.emergentagent.com/job_oilseal-mgmt/artifacts/42i3e7yn_WhatsApp%20Image%202025-07-31%20at%2015.14.10_e8c55120.jpg\" \n            alt=\"Master Seal Logo\" \n            className=\"h-12 w-12 rounded-lg shadow-lg\"\n          />\n          <div>\n            <h1 className=\"text-xl font-bold text-white\">Ù…Ø§Ø³ØªØ± Ø³ÙŠÙ„</h1>\n            <p className=\"text-xs text-blue-200\">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…ØªÙƒØ§Ù…Ù„</p>\n          </div>\n        </div>\n      </div>\n\n      {/* User Info */}\n      <div className=\"p-4 bg-blue-800 border-b border-blue-700\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-sm font-medium\">Ø£Ù‡Ù„Ø§Ù‹ ÙˆØ³Ù‡Ù„Ø§Ù‹</p>\n            <p className=\"text-lg font-bold text-blue-200\">{user?.username}</p>\n          </div>\n          <button\n            onClick={logout}\n            className=\"bg-red-500 hover:bg-red-600 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl\"\n          >\n            Ø®Ø±ÙˆØ¬\n          </button>\n        </div>\n      </div>\n      \n      {/* Navigation Menu */}\n      <nav className=\"flex-1 p-4 space-y-2\">\n        {pages.map(page => (\n          <button\n            key={page.key}\n            onClick={() => onPageChange(page.key)}\n            className={`w-full flex items-center space-x-3 space-x-reverse p-4 rounded-xl text-right transition-all duration-200 group ${\n              currentPage === page.key \n                ? 'bg-white text-blue-900 shadow-lg transform scale-105' \n                : 'hover:bg-blue-700 hover:transform hover:translate-x-2'\n            }`}\n          >\n            <span className=\"text-2xl\">{page.icon}</span>\n            <span className=\"font-medium\">{page.label}</span>\n            {currentPage === page.key && (\n              <div className=\"mr-auto\">\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"></div>\n              </div>\n            )}\n          </button>\n        ))}\n      </nav>\n\n      {/* Footer */}\n      <div className=\"p-4 border-t border-blue-700 text-center\">\n        <p className=\"text-xs text-blue-300\">Ø§Ù„Ø­Ø±ÙÙŠÙŠÙ† - Ø§Ù„Ø³Ù„Ø§Ù… - Ø£Ù…Ø§Ù… Ø§Ù„Ø³ÙˆØ¨Ø± Ø¬ÙŠØª</p>\n        <p className=\"text-xs text-blue-400 mt-1\">01020630677</p>\n      </div>\n    </div>\n  );\n};\n\n// Inventory Management Component\nconst Inventory = () => {\n  const [inventoryItems, setInventoryItems] = useState([]);\n  const [inventoryTransactions, setInventoryTransactions] = useState([]);\n  const [lowStockItems, setLowStockItems] = useState([]);\n  const [currentView, setCurrentView] = useState('items'); // items, transactions, low-stock, add-item\n  const [editingItem, setEditingItem] = useState(null); // Ù„Ù„ØªØ¹Ø¯ÙŠÙ„\n  const [newItem, setNewItem] = useState({\n    material_type: 'NBR',\n    inner_diameter: '',\n    outer_diameter: '',\n    available_pieces: '',  // ØªØºÙŠÙŠØ± Ù…Ù† available_height Ø¥Ù„Ù‰ available_pieces\n    min_stock_level: 2,    // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ 2 Ù‚Ø·Ø¹Ø©\n    notes: ''\n  });\n  const [newTransaction, setNewTransaction] = useState({\n    material_type: 'NBR',\n    inner_diameter: '',\n    outer_diameter: '',\n    transaction_type: 'in',\n    pieces_change: '',     // ØªØºÙŠÙŠØ± Ù…Ù† height_change Ø¥Ù„Ù‰ pieces_change\n    reason: '',\n    notes: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const materialTypes = ['NBR', 'BUR', 'BT', 'VT', 'BOOM'];\n\n  // Fetch functions\n  const fetchInventoryItems = async () => {\n    try {\n      const response = await axios.get(`${API}/inventory`);\n      setInventoryItems(response.data || []);\n    } catch (error) {\n      console.error('Error fetching inventory items:', error);\n    }\n  };\n\n  const fetchInventoryTransactions = async () => {\n    try {\n      const response = await axios.get(`${API}/inventory-transactions`);\n      setInventoryTransactions(response.data || []);\n    } catch (error) {\n      console.error('Error fetching inventory transactions:', error);\n    }\n  };\n\n  const fetchLowStockItems = async () => {\n    try {\n      const response = await axios.get(`${API}/inventory/low-stock`);\n      setLowStockItems(response.data || []);\n    } catch (error) {\n      console.error('Error fetching low stock items:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchInventoryItems();\n    fetchInventoryTransactions();\n    fetchLowStockItems();\n  }, []);\n\n  // Add or Update inventory item\n  const addInventoryItem = async () => {\n    if (!newItem.material_type || !newItem.inner_diameter || \n        !newItem.outer_diameter || !newItem.available_pieces) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');\n      return;\n    }\n\n    try {\n      if (editingItem) {\n        // Update existing item\n        await axios.put(`${API}/inventory/${editingItem.id}`, {\n          ...newItem,\n          inner_diameter: parseFloat(newItem.inner_diameter),\n          outer_diameter: parseFloat(newItem.outer_diameter),\n          available_pieces: parseInt(newItem.available_pieces),\n          min_stock_level: parseInt(newItem.min_stock_level || 2)\n        });\n        alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');\n        setEditingItem(null);\n      } else {\n        // Add new item\n        await axios.post(`${API}/inventory`, {\n          ...newItem,\n          inner_diameter: parseFloat(newItem.inner_diameter),\n          outer_diameter: parseFloat(newItem.outer_diameter),\n          available_pieces: parseInt(newItem.available_pieces),\n          min_stock_level: parseInt(newItem.min_stock_level || 2)\n        });\n        alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');\n      }\n      \n      fetchInventoryItems();\n      fetchLowStockItems();\n      setCurrentView('items');\n      setNewItem({\n        material_type: 'NBR',\n        inner_diameter: '',\n        outer_diameter: '',\n        available_pieces: '',\n        min_stock_level: 2,\n        notes: ''\n      });\n    } catch (error) {\n      console.error('Error saving inventory item:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  // Add inventory transaction\n  const addInventoryTransaction = async () => {\n    if (!newTransaction.material_type || !newTransaction.inner_diameter || \n        !newTransaction.outer_diameter || !newTransaction.pieces_change || !newTransaction.reason) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');\n      return;\n    }\n\n    try {\n      const transactionData = {\n        ...newTransaction,\n        inner_diameter: parseFloat(newTransaction.inner_diameter),\n        outer_diameter: parseFloat(newTransaction.outer_diameter),\n        pieces_change: newTransaction.transaction_type === 'out' \n          ? -Math.abs(parseInt(newTransaction.pieces_change))\n          : Math.abs(parseInt(newTransaction.pieces_change))\n      };\n\n      await axios.post(`${API}/inventory-transactions`, transactionData);\n      \n      fetchInventoryItems();\n      fetchInventoryTransactions();\n      fetchLowStockItems();\n      setNewTransaction({\n        material_type: 'NBR',\n        inner_diameter: '',\n        outer_diameter: '',\n        transaction_type: 'in',\n        pieces_change: '',\n        reason: '',\n        notes: ''\n      });\n      alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error adding inventory transaction:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø¬Ø±Ø¯: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  // Filter and sort items based on search\n  const filteredItems = inventoryItems.filter(item =>\n    item.material_type.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    item.inner_diameter.toString().includes(searchTerm.toLowerCase()) ||\n    item.outer_diameter.toString().includes(searchTerm.toLowerCase()) ||\n    item.notes?.toLowerCase().includes(searchTerm.toLowerCase())\n  ).sort((a, b) => {\n    // ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ù…Ø©: BUR-NBR-BT-BOOM-VT\n    const materialPriority = { 'BUR': 1, 'NBR': 2, 'BT': 3, 'BOOM': 4, 'VT': 5 };\n    const aPriority = materialPriority[a.material_type] || 6;\n    const bPriority = materialPriority[b.material_type] || 6;\n    \n    if (aPriority !== bPriority) {\n      return aPriority - bPriority;\n    }\n    // Ø«Ù… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø«Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ)\n    if (a.inner_diameter !== b.inner_diameter) {\n      return a.inner_diameter - b.inner_diameter;\n    }\n    return a.outer_diameter - b.outer_diameter;\n  });\n\n  const filteredTransactions = inventoryTransactions.filter(transaction =>\n    transaction.reason.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    transaction.material_type.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    transaction.notes?.toLowerCase().includes(searchTerm.toLowerCase())\n  ).sort((a, b) => {\n    // ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ù…Ø©: BUR-NBR-BT-BOOM-VT\n    const materialPriority = { 'BUR': 1, 'NBR': 2, 'BT': 3, 'BOOM': 4, 'VT': 5 };\n    const aPriority = materialPriority[a.material_type] || 6;\n    const bPriority = materialPriority[b.material_type] || 6;\n    \n    if (aPriority !== bPriority) {\n      return aPriority - bPriority;\n    }\n    // Ø«Ù… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø«Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ) Ø«Ù… Ø§Ù„ØªØ§Ø±ÙŠØ®\n    if (a.inner_diameter !== b.inner_diameter) {\n      return a.inner_diameter - b.inner_diameter;\n    }\n    if (a.outer_diameter !== b.outer_diameter) {\n      return a.outer_diameter - b.outer_diameter;\n    }\n    return new Date(b.date) - new Date(a.date); // Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹\n  });\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø±Ø¯</h1>\n        <div className=\"flex space-x-4 space-x-reverse\">\n          <button\n            onClick={() => setCurrentView('items')}\n            className={`px-4 py-2 rounded ${currentView === 'items' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\n          >\n            Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¬Ø±Ø¯\n          </button>\n          <button\n            onClick={() => setCurrentView('transactions')}\n            className={`px-4 py-2 rounded ${currentView === 'transactions' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\n          >\n            Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø¬Ø±Ø¯\n          </button>\n          <button\n            onClick={() => setCurrentView('low-stock')}\n            className={`px-4 py-2 rounded ${currentView === 'low-stock' ? 'bg-red-500 text-white' : 'bg-gray-200'}`}\n          >\n            Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶ ({lowStockItems.length})\n          </button>\n          <button\n            onClick={() => setCurrentView('excel')}\n            className={`px-4 py-2 rounded ${currentView === 'excel' ? 'bg-green-500 text-white' : 'bg-gray-200'}`}\n          >\n            Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥ÙƒØ³Ù„\n          </button>\n          <button\n            onClick={() => setCurrentView('add-item')}\n            className={`px-4 py-2 rounded ${currentView === 'add-item' ? 'bg-green-500 text-white' : 'bg-gray-200'}`}\n          >\n            Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø¬Ø¯ÙŠØ¯\n          </button>\n        </div>\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"mb-4\">\n        <input\n          type=\"text\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          placeholder=\"Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¬Ø±Ø¯...\"\n          className=\"w-full p-3 border border-gray-300 rounded-lg\"\n        />\n      </div>\n\n      {/* Inventory Items View */}\n      {currentView === 'items' && (\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4\">Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¬Ø±Ø¯</h3>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full border-collapse border border-gray-300\">\n              <thead>\n                <tr className=\"bg-gray-100\">\n                  <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¯Ø©</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ</th>\n                  <th className=\"border border-gray-300 p-2\">Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø­Ø§Ù„Ø©</th>\n                  <th className=\"border border-gray-300 p-2\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n                </tr>\n              </thead>\n              <tbody>\n                {filteredItems.map(item => (\n                  <tr key={item.id}>\n                    <td className=\"border border-gray-300 p-2 font-semibold\">{item.material_type}</td>\n                    <td className=\"border border-gray-300 p-2\">{item.inner_diameter}</td>\n                    <td className=\"border border-gray-300 p-2\">{item.outer_diameter}</td>\n                    <td className={`border border-gray-300 p-2 font-semibold ${\n                      item.available_pieces <= item.min_stock_level ? 'text-red-600' : 'text-green-600'\n                    }`}>\n                      {item.available_pieces} Ù‚Ø·Ø¹Ø©\n                    </td>\n                    <td className=\"border border-gray-300 p-2\">{item.min_stock_level} Ù‚Ø·Ø¹Ø©</td>\n                    <td className=\"border border-gray-300 p-2\">\n                      <span className={`px-2 py-1 rounded text-sm ${\n                        item.available_pieces <= item.min_stock_level ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'\n                      }`}>\n                        {item.available_pieces <= item.min_stock_level ? 'Ù…Ù†Ø®ÙØ¶' : 'Ø·Ø¨ÙŠØ¹ÙŠ'}\n                      </span>\n                    </td>\n                    <td className=\"border border-gray-300 p-2\">{item.notes || '-'}</td>\n                    <td className=\"border border-gray-300 p-2\">\n                      <div className=\"flex space-x-2 space-x-reverse\">\n                        <button\n                          onClick={() => {\n                            setEditingItem(item);\n                            setNewItem({\n                              material_type: item.material_type,\n                              inner_diameter: item.inner_diameter,\n                              outer_diameter: item.outer_diameter,\n                              available_pieces: item.available_pieces,\n                              min_stock_level: item.min_stock_level,\n                              notes: item.notes || ''\n                            });\n                            setCurrentView('add-item');\n                          }}\n                          className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600\"\n                        >\n                          ØªØ¹Ø¯ÙŠÙ„\n                        </button>\n                        <button\n                          onClick={async () => {\n                            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ±ØŸ')) {\n                              try {\n                                await axios.delete(`${API}/inventory/${item.id}`);\n                                alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ù†Ø¬Ø§Ø­');\n                                fetchInventoryItems();\n                              } catch (error) {\n                                console.error('Error deleting item:', error);\n                                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ±');\n                              }\n                            }\n                          }}\n                          className=\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\"\n                        >\n                          Ø­Ø°Ù\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Transactions View */}\n      {currentView === 'transactions' && (\n        <div>\n          {/* Add Transaction Form */}\n          <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„Ø© Ø¬Ø±Ø¯</h3>\n            <div className=\"grid grid-cols-3 gap-4\">\n              <select\n                value={newTransaction.material_type}\n                onChange={(e) => setNewTransaction({...newTransaction, material_type: e.target.value})}\n                className=\"p-2 border border-gray-300 rounded\"\n              >\n                {materialTypes.map(type => (\n                  <option key={type} value={type}>{type}</option>\n                ))}\n              </select>\n              <input\n                type=\"number\"\n                value={newTransaction.inner_diameter}\n                onChange={(e) => setNewTransaction({...newTransaction, inner_diameter: e.target.value})}\n                placeholder=\"Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n              <input\n                type=\"number\"\n                value={newTransaction.outer_diameter}\n                onChange={(e) => setNewTransaction({...newTransaction, outer_diameter: e.target.value})}\n                placeholder=\"Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n              <select\n                value={newTransaction.transaction_type}\n                onChange={(e) => setNewTransaction({...newTransaction, transaction_type: e.target.value})}\n                className=\"p-2 border border-gray-300 rounded\"\n              >\n                <option value=\"in\">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†</option>\n                <option value=\"out\">Ø®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</option>\n              </select>\n              <input\n                type=\"number\"\n                step=\"1\"\n                value={newTransaction.pieces_change}\n                onChange={(e) => setNewTransaction({...newTransaction, pieces_change: e.target.value})}\n                placeholder=\"Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n              <input\n                type=\"text\"\n                value={newTransaction.reason}\n                onChange={(e) => setNewTransaction({...newTransaction, reason: e.target.value})}\n                placeholder=\"Ø³Ø¨Ø¨ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n            </div>\n            <div className=\"mt-4\">\n              <input\n                type=\"text\"\n                value={newTransaction.notes}\n                onChange={(e) => setNewTransaction({...newTransaction, notes: e.target.value})}\n                placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                className=\"w-full p-2 border border-gray-300 rounded\"\n              />\n            </div>\n            <button\n              onClick={addInventoryTransaction}\n              className=\"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n            >\n              ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©\n            </button>\n          </div>\n\n          {/* Transactions List */}\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Ø³Ø¬Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø¬Ø±Ø¯</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full border-collapse border border-gray-300\">\n                <thead>\n                  <tr className=\"bg-gray-100\">\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n                    <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¯Ø©</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª</th>\n                    <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</th>\n                    <th className=\"border border-gray-300 p-2\">Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø³Ø¨Ø¨</th>\n                    <th className=\"border border-gray-300 p-2\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredTransactions.map(transaction => (\n                    <tr key={transaction.id}>\n                      <td className=\"border border-gray-300 p-2\">\n                        {new Date(transaction.date).toLocaleDateString('ar-EG')}\n                      </td>\n                      <td className=\"border border-gray-300 p-2\">{transaction.material_type}</td>\n                      <td className=\"border border-gray-300 p-2\">\n                        {transaction.inner_diameter} Ã— {transaction.outer_diameter}\n                      </td>\n                      <td className=\"border border-gray-300 p-2\">\n                        <span className={`px-2 py-1 rounded text-sm ${\n                          transaction.transaction_type === 'in' \n                            ? 'bg-green-100 text-green-800' \n                            : 'bg-red-100 text-red-800'\n                        }`}>\n                          {transaction.transaction_type === 'in' ? 'Ø¥Ø¶Ø§ÙØ©' : 'Ø®ØµÙ…'}\n                        </span>\n                      </td>\n                      <td className={`border border-gray-300 p-2 font-semibold ${\n                        transaction.pieces_change > 0 ? 'text-green-600' : 'text-red-600'\n                      }`}>\n                        {transaction.pieces_change > 0 ? '+' : ''}{transaction.pieces_change} Ù‚Ø·Ø¹Ø©\n                      </td>\n                      <td className=\"border border-gray-300 p-2 font-semibold\">\n                        {transaction.remaining_pieces} Ù‚Ø·Ø¹Ø©\n                      </td>\n                      <td className=\"border border-gray-300 p-2\">{transaction.reason}</td>\n                      <td className=\"border border-gray-300 p-2\">{transaction.notes || '-'}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Low Stock Items View */}\n      {currentView === 'low-stock' && (\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4 text-red-600\">\n            Ø¹Ù†Ø§ØµØ± Ø¨Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶ ({lowStockItems.length})\n          </h3>\n          {lowStockItems.length === 0 ? (\n            <p className=\"text-green-600 text-center py-8\">\n              âœ… Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¬Ø±Ø¯ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ\n            </p>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full border-collapse border border-gray-300\">\n                <thead>\n                  <tr className=\"bg-red-50\">\n                    <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¯Ø©</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰</th>\n                    <th className=\"border border-gray-300 p-2\">Ù†Ù‚Øµ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {lowStockItems.map(item => (\n                    <tr key={item.id} className=\"bg-red-50\">\n                      <td className=\"border border-gray-300 p-2 font-semibold\">{item.material_type}</td>\n                      <td className=\"border border-gray-300 p-2\">\n                        {item.inner_diameter} Ã— {item.outer_diameter}\n                      </td>\n                      <td className=\"border border-gray-300 p-2 font-semibold text-red-600\">\n                        {item.available_pieces} Ù‚Ø·Ø¹Ø©\n                      </td>\n                      <td className=\"border border-gray-300 p-2\">{item.min_stock_level} Ù‚Ø·Ø¹Ø©</td>\n                      <td className=\"border border-gray-300 p-2 font-semibold text-red-600\">\n                        {Math.max(0, item.min_stock_level - item.available_pieces)} Ù‚Ø·Ø¹Ø©\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Add/Edit Item View */}\n      {currentView === 'add-item' && (\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4\">\n            {editingItem ? 'ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯' : 'Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø¬Ø±Ø¯ Ø¬Ø¯ÙŠØ¯'}\n          </h3>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <select\n              value={newItem.material_type}\n              onChange={(e) => setNewItem({...newItem, material_type: e.target.value})}\n              className=\"p-2 border border-gray-300 rounded\"\n            >\n              {materialTypes.map(type => (\n                <option key={type} value={type}>{type}</option>\n              ))}\n            </select>\n            <input\n              type=\"number\"\n              value={newItem.inner_diameter}\n              onChange={(e) => setNewItem({...newItem, inner_diameter: e.target.value})}\n              placeholder=\"Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ\"\n              className=\"p-2 border border-gray-300 rounded\"\n            />\n            <input\n              type=\"number\"\n              value={newItem.outer_diameter}\n              onChange={(e) => setNewItem({...newItem, outer_diameter: e.target.value})}\n              placeholder=\"Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ\"\n              className=\"p-2 border border-gray-300 rounded\"\n            />\n            <input\n              type=\"number\"\n              step=\"1\"\n              value={newItem.available_pieces}\n              onChange={(e) => setNewItem({...newItem, available_pieces: e.target.value})}\n              placeholder=\"Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©\"\n              className=\"p-2 border border-gray-300 rounded\"\n            />\n            <input\n              type=\"number\"\n              value={newItem.min_stock_level}\n              onChange={(e) => setNewItem({...newItem, min_stock_level: e.target.value})}\n              placeholder=\"Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ù…Ø®Ø²ÙˆÙ†\"\n              className=\"p-2 border border-gray-300 rounded\"\n            />\n            <input\n              type=\"text\"\n              value={newItem.notes}\n              onChange={(e) => setNewItem({...newItem, notes: e.target.value})}\n              placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n              className=\"p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          <button\n            onClick={addInventoryItem}\n            className=\"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n          >\n            {editingItem ? 'ØªØ­Ø¯ÙŠØ« Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯' : 'Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø±Ø¯'}\n          </button>\n          {editingItem && (\n            <button\n              onClick={() => {\n                setEditingItem(null);\n                setNewItem({\n                  material_type: 'NBR',\n                  inner_diameter: '',\n                  outer_diameter: '',\n                  available_pieces: '',\n                  min_stock_level: 2,\n                  notes: ''\n                });\n                setCurrentView('items');\n              }}\n              className=\"mt-4 mr-2 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\"\n            >\n              Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Excel Management View */}\n      {currentView === 'excel' && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Inventory Excel Management */}\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¯Ø§Ø±Ø© Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø±Ø¯ - Excel</h3>\n            \n            {/* Export Inventory */}\n            <div className=\"mb-6\">\n              <h4 className=\"font-medium mb-2\">ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø±Ø¯</h4>\n              <button\n                onClick={async () => {\n                  try {\n                    const response = await axios.get(`${API}/excel/export/inventory`, {\n                      responseType: 'blob'\n                    });\n                    const url = window.URL.createObjectURL(new Blob([response.data]));\n                    const link = document.createElement('a');\n                    link.href = url;\n                    link.setAttribute('download', `inventory_export_${new Date().toISOString().split('T')[0]}.xlsx`);\n                    document.body.appendChild(link);\n                    link.click();\n                    link.remove();\n                    alert('ØªÙ… ØªØµØ¯ÙŠØ± Ù…Ù„Ù Ø§Ù„Ø¬Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');\n                  } catch (error) {\n                    console.error('Error exporting inventory:', error);\n                    alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù„Ù');\n                  }\n                }}\n                className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n              >\n                ØªØµØ¯ÙŠØ± Ø¬Ø±Ø¯ Excel\n              </button>\n            </div>\n\n            {/* Import Inventory */}\n            <div>\n              <h4 className=\"font-medium mb-2\">Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø±Ø¯</h4>\n              <input\n                type=\"file\"\n                accept=\".xlsx,.xls\"\n                onChange={async (e) => {\n                  const file = e.target.files[0];\n                  if (!file) return;\n                  \n                  const formData = new FormData();\n                  formData.append('file', file);\n                  \n                  try {\n                    const response = await axios.post(`${API}/excel/import/inventory`, formData, {\n                      headers: { 'Content-Type': 'multipart/form-data' }\n                    });\n                    alert(`ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ ${response.data.imported_count} Ø¹Ù†ØµØ± Ø¨Ù†Ø¬Ø§Ø­`);\n                    if (response.data.errors.length > 0) {\n                      console.warn('Import errors:', response.data.errors);\n                    }\n                    fetchInventoryItems();\n                  } catch (error) {\n                    console.error('Error importing inventory:', error);\n                    alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù„Ù');\n                  }\n                  \n                  e.target.value = '';\n                }}\n                className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100\"\n              />\n              <p className=\"text-sm text-gray-600 mt-2\">\n                Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: material_type, inner_diameter, outer_diameter, available_pieces\n              </p>\n            </div>\n          </div>\n\n          {/* Raw Materials Excel Management */}\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù… - Excel</h3>\n            \n            {/* Export Raw Materials */}\n            <div className=\"mb-6\">\n              <h4 className=\"font-medium mb-2\">ØªØµØ¯ÙŠØ± Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…</h4>\n              <button\n                onClick={async () => {\n                  try {\n                    const response = await axios.get(`${API}/excel/export/raw-materials`, {\n                      responseType: 'blob'\n                    });\n                    const url = window.URL.createObjectURL(new Blob([response.data]));\n                    const link = document.createElement('a');\n                    link.href = url;\n                    link.setAttribute('download', `raw_materials_export_${new Date().toISOString().split('T')[0]}.xlsx`);\n                    document.body.appendChild(link);\n                    link.click();\n                    link.remove();\n                    alert('ØªÙ… ØªØµØ¯ÙŠØ± Ù…Ù„Ù Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­');\n                  } catch (error) {\n                    console.error('Error exporting raw materials:', error);\n                    alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù„Ù');\n                  }\n                }}\n                className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n              >\n                ØªØµØ¯ÙŠØ± Ù…ÙˆØ§Ø¯ Ø®Ø§Ù… Excel\n              </button>\n            </div>\n\n            {/* Import Raw Materials */}\n            <div>\n              <h4 className=\"font-medium mb-2\">Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…</h4>\n              <input\n                type=\"file\"\n                accept=\".xlsx,.xls\"\n                onChange={async (e) => {\n                  const file = e.target.files[0];\n                  if (!file) return;\n                  \n                  const formData = new FormData();\n                  formData.append('file', file);\n                  \n                  try {\n                    const response = await axios.post(`${API}/excel/import/raw-materials`, formData, {\n                      headers: { 'Content-Type': 'multipart/form-data' }\n                    });\n                    alert(`ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ ${response.data.imported_count} Ù…Ø§Ø¯Ø© Ø®Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­`);\n                    if (response.data.errors.length > 0) {\n                      console.warn('Import errors:', response.data.errors);\n                    }\n                  } catch (error) {\n                    console.error('Error importing raw materials:', error);\n                    alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù„Ù');\n                  }\n                  \n                  e.target.value = '';\n                }}\n                className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100\"\n              />\n              <p className=\"text-sm text-gray-600 mt-2\">\n                Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: material_type, inner_diameter, outer_diameter, height, pieces_count, unit_code, cost_per_mm\n              </p>\n            </div>\n          </div>\n\n          {/* Instructions */}\n          <div className=\"bg-yellow-50 p-6 rounded-lg shadow-md md:col-span-2\">\n            <h3 className=\"text-lg font-semibold mb-4\">ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥ÙƒØ³Ù„</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <h4 className=\"font-medium mb-2\">ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</h4>\n                <ul className=\"text-sm text-gray-700 list-disc list-inside space-y-1\">\n                  <li>ÙŠØªÙ… ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</li>\n                  <li>Ø§Ù„Ù…Ù„Ù ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ØªÙ†Ø³ÙŠÙ‚ Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ¹Ø¯ÙŠÙ„</li>\n                  <li>ÙŠÙ…ÙƒÙ† ÙØªØ­ Ø§Ù„Ù…Ù„Ù ÙÙŠ Excel Ø£Ùˆ Google Sheets</li>\n                </ul>\n              </div>\n              <div>\n                <h4 className=\"font-medium mb-2\">Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</h4>\n                <ul className=\"text-sm text-gray-700 list-disc list-inside space-y-1\">\n                  <li>ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ù„Ù Ù…Ù† Ù†ÙˆØ¹ .xlsx Ø£Ùˆ .xls</li>\n                  <li>Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©</li>\n                  <li>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© Ù„Ù† ØªØªØ£Ø«Ø± (ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø£Ùˆ Ø§Ù„Ø¥Ø¶Ø§ÙØ©)</li>\n                  <li>Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ù…Ø¹ Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø³ØªÙˆØ±Ø¯Ø©</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Local Products Management Component\nconst Local = () => {\n  const [suppliers, setSuppliers] = useState([]);\n  const [localProducts, setLocalProducts] = useState([]);\n  const [supplierTransactions, setSupplierTransactions] = useState([]);\n  const [currentView, setCurrentView] = useState('suppliers'); // suppliers, products, transactions\n  const [newSupplier, setNewSupplier] = useState({ name: '', phone: '', address: '' });\n  const [newProduct, setNewProduct] = useState({ name: '', supplier_id: '', purchase_price: '', selling_price: '', current_stock: 0 });\n  const [newTransaction, setNewTransaction] = useState({ supplier_id: '', transaction_type: 'purchase', amount: '', description: '', product_name: '', quantity: '', unit_price: '', payment_method: 'cash' });\n  const [selectedSupplier, setSelectedSupplier] = useState('');\n  const [paymentAmount, setPaymentAmount] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('cash');\n\n  // Fetch data functions\n  const fetchSuppliers = async () => {\n    try {\n      const response = await axios.get(`${API}/suppliers`);\n      setSuppliers(response.data || []);\n    } catch (error) {\n      console.error('Error fetching suppliers:', error);\n    }\n  };\n\n  const fetchLocalProducts = async () => {\n    try {\n      const response = await axios.get(`${API}/local-products`);\n      setLocalProducts(response.data || []);\n    } catch (error) {\n      console.error('Error fetching local products:', error);\n    }\n  };\n\n  const fetchSupplierTransactions = async () => {\n    try {\n      const response = await axios.get(`${API}/supplier-transactions`);\n      setSupplierTransactions(response.data || []);\n    } catch (error) {\n      console.error('Error fetching supplier transactions:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchSuppliers();\n    fetchLocalProducts();\n    fetchSupplierTransactions();\n  }, []);\n\n  // Add supplier\n  const addSupplier = async () => {\n    if (!newSupplier.name.trim()) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯');\n      return;\n    }\n\n    try {\n      await axios.post(`${API}/suppliers`, newSupplier);\n      fetchSuppliers();\n      setNewSupplier({ name: '', phone: '', address: '' });\n      alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error adding supplier:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ±Ø¯');\n    }\n  };\n\n  // Add local product\n  const addLocalProduct = async () => {\n    if (!newProduct.name.trim() || !newProduct.supplier_id || !newProduct.purchase_price || !newProduct.selling_price) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');\n      return;\n    }\n\n    try {\n      await axios.post(`${API}/local-products`, {\n        ...newProduct,\n        purchase_price: parseFloat(newProduct.purchase_price),\n        selling_price: parseFloat(newProduct.selling_price),\n        current_stock: parseInt(newProduct.current_stock || 0)\n      });\n      fetchLocalProducts();\n      setNewProduct({ name: '', supplier_id: '', purchase_price: '', selling_price: '', current_stock: 0 });\n      alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error adding local product:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬');\n    }\n  };\n\n  // Pay supplier\n  const paySupplier = async () => {\n    if (!selectedSupplier || !paymentAmount) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ±Ø¯ ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø¨Ù„Øº');\n      return;\n    }\n\n    try {\n      await axios.post(`${API}/supplier-payment?supplier_id=${selectedSupplier}&amount=${paymentAmount}&payment_method=${paymentMethod}`);\n      fetchSuppliers();\n      fetchSupplierTransactions();\n      setSelectedSupplier('');\n      setPaymentAmount('');\n      alert('ØªÙ… Ø¯ÙØ¹ Ø§Ù„Ù…Ø¨Ù„Øº Ù„Ù„Ù…ÙˆØ±Ø¯ Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error paying supplier:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¯ÙØ¹ Ø§Ù„Ù…Ø¨Ù„Øº');\n    }\n  };\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©</h1>\n        <div className=\"flex space-x-4 space-x-reverse\">\n          <button\n            onClick={() => setCurrentView('suppliers')}\n            className={`px-4 py-2 rounded ${currentView === 'suppliers' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\n          >\n            Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†\n          </button>\n          <button\n            onClick={() => setCurrentView('products')}\n            className={`px-4 py-2 rounded ${currentView === 'products' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\n          >\n            Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª\n          </button>\n          <button\n            onClick={() => setCurrentView('transactions')}\n            className={`px-4 py-2 rounded ${currentView === 'transactions' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\n          >\n            Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª\n          </button>\n          <button\n            onClick={() => setCurrentView('payments')}\n            className={`px-4 py-2 rounded ${currentView === 'payments' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\n          >\n            Ø³Ø¯Ø§Ø¯ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†\n          </button>\n        </div>\n      </div>\n\n      {/* Suppliers View */}\n      {currentView === 'suppliers' && (\n        <div>\n          {/* Add New Supplier */}\n          <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ±Ø¯ Ø¬Ø¯ÙŠØ¯</h3>\n            <div className=\"grid grid-cols-3 gap-4\">\n              <input\n                type=\"text\"\n                value={newSupplier.name}\n                onChange={(e) => setNewSupplier({...newSupplier, name: e.target.value})}\n                placeholder=\"Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n              <input\n                type=\"text\"\n                value={newSupplier.phone}\n                onChange={(e) => setNewSupplier({...newSupplier, phone: e.target.value})}\n                placeholder=\"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n              <input\n                type=\"text\"\n                value={newSupplier.address}\n                onChange={(e) => setNewSupplier({...newSupplier, address: e.target.value})}\n                placeholder=\"Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n            </div>\n            <button\n              onClick={addSupplier}\n              className=\"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n            >\n              Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙˆØ±Ø¯\n            </button>\n          </div>\n\n          {/* Suppliers List */}\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full border-collapse border border-gray-300\">\n                <thead>\n                  <tr className=\"bg-gray-100\">\n                    <th className=\"border border-gray-300 p-2\">Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù‡Ø§ØªÙ</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>\n                    <th className=\"border border-gray-300 p-2\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</th>\n                    <th className=\"border border-gray-300 p-2\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø³ØªØ­Ù‚</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {suppliers.map(supplier => (\n                    <tr key={supplier.id}>\n                      <td className=\"border border-gray-300 p-2 font-semibold\">{supplier.name}</td>\n                      <td className=\"border border-gray-300 p-2\">{supplier.phone || '-'}</td>\n                      <td className=\"border border-gray-300 p-2\">{supplier.address || '-'}</td>\n                      <td className=\"border border-gray-300 p-2\">Ø¬.Ù… {(supplier.total_purchases || 0).toFixed(2)}</td>\n                      <td className=\"border border-gray-300 p-2\">Ø¬.Ù… {(supplier.total_paid || 0).toFixed(2)}</td>\n                      <td className={`border border-gray-300 p-2 font-semibold ${(supplier.balance || 0) > 0 ? 'text-red-600' : 'text-green-600'}`}>\n                        Ø¬.Ù… {(supplier.balance || 0).toFixed(2)}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Products View */}\n      {currentView === 'products' && (\n        <div>\n          {/* Add New Product */}\n          <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù…Ø­Ù„ÙŠ Ø¬Ø¯ÙŠØ¯</h3>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <input\n                type=\"text\"\n                value={newProduct.name}\n                onChange={(e) => setNewProduct({...newProduct, name: e.target.value})}\n                placeholder=\"Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n              <select\n                value={newProduct.supplier_id}\n                onChange={(e) => setNewProduct({...newProduct, supplier_id: e.target.value})}\n                className=\"p-2 border border-gray-300 rounded\"\n              >\n                <option value=\"\">Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ±Ø¯</option>\n                {suppliers.map(supplier => (\n                  <option key={supplier.id} value={supplier.id}>{supplier.name}</option>\n                ))}\n              </select>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={newProduct.purchase_price}\n                onChange={(e) => setNewProduct({...newProduct, purchase_price: e.target.value})}\n                placeholder=\"Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={newProduct.selling_price}\n                onChange={(e) => setNewProduct({...newProduct, selling_price: e.target.value})}\n                placeholder=\"Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹\"\n                className=\"p-2 border border-gray-300 rounded\"\n              />\n            </div>\n            <button\n              onClick={addLocalProduct}\n              className=\"mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n            >\n              Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬\n            </button>\n          </div>\n\n          {/* Products List */}\n          <div className=\"bg-white p-6 rounded-lg shadow-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full border-collapse border border-gray-300\">\n                <thead>\n                  <tr className=\"bg-gray-100\">\n                    <th className=\"border border-gray-300 p-2\">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…ÙˆØ±Ø¯</th>\n                    <th className=\"border border-gray-300 p-2\">Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡</th>\n                    <th className=\"border border-gray-300 p-2\">Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹</th>\n                    <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ</th>\n                    <th className=\"border border-gray-300 p-2\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø¹</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {localProducts.map(product => (\n                    <tr key={product.id}>\n                      <td className=\"border border-gray-300 p-2 font-semibold\">{product.name}</td>\n                      <td className=\"border border-gray-300 p-2\">{product.supplier_name}</td>\n                      <td className=\"border border-gray-300 p-2\">Ø¬.Ù… {product.purchase_price.toFixed(2)}</td>\n                      <td className=\"border border-gray-300 p-2\">Ø¬.Ù… {product.selling_price.toFixed(2)}</td>\n                      <td className=\"border border-gray-300 p-2\">{product.current_stock || 0}</td>\n                      <td className=\"border border-gray-300 p-2\">{product.total_sold || 0}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Transactions View */}\n      {currentView === 'transactions' && (\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4\">Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</h3>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full border-collapse border border-gray-300\">\n              <thead>\n                <tr className=\"bg-gray-100\">\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…ÙˆØ±Ø¯</th>\n                  <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø¨Ù„Øº</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„ÙˆØµÙ</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ù†ØªØ¬</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n                </tr>\n              </thead>\n              <tbody>\n                {supplierTransactions.map(transaction => (\n                  <tr key={transaction.id}>\n                    <td className=\"border border-gray-300 p-2\">\n                      {new Date(transaction.date).toLocaleDateString('ar-EG')}\n                    </td>\n                    <td className=\"border border-gray-300 p-2\">{transaction.supplier_name}</td>\n                    <td className=\"border border-gray-300 p-2\">\n                      <span className={`px-2 py-1 rounded text-sm ${\n                        transaction.transaction_type === 'purchase' \n                          ? 'bg-red-100 text-red-800' \n                          : 'bg-green-100 text-green-800'\n                      }`}>\n                        {transaction.transaction_type === 'purchase' ? 'Ø´Ø±Ø§Ø¡' : 'Ø¯ÙØ¹'}\n                      </span>\n                    </td>\n                    <td className={`border border-gray-300 p-2 font-semibold ${\n                      transaction.transaction_type === 'purchase' ? 'text-red-600' : 'text-green-600'\n                    }`}>\n                      Ø¬.Ù… {transaction.amount.toFixed(2)}\n                    </td>\n                    <td className=\"border border-gray-300 p-2\">{transaction.description}</td>\n                    <td className=\"border border-gray-300 p-2\">{transaction.product_name || '-'}</td>\n                    <td className=\"border border-gray-300 p-2\">{transaction.quantity || '-'}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Payments View */}\n      {currentView === 'payments' && (\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4\">Ø³Ø¯Ø§Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</h3>\n          <div className=\"grid grid-cols-3 gap-4 mb-6\">\n            <select\n              value={selectedSupplier}\n              onChange={(e) => setSelectedSupplier(e.target.value)}\n              className=\"p-2 border border-gray-300 rounded\"\n            >\n              <option value=\"\">Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ±Ø¯</option>\n              {suppliers.filter(s => (s.balance || 0) > 0).map(supplier => (\n                <option key={supplier.id} value={supplier.id}>\n                  {supplier.name} - Ù…Ø³ØªØ­Ù‚: Ø¬.Ù… {(supplier.balance || 0).toFixed(2)}\n                </option>\n              ))}\n            </select>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              value={paymentAmount}\n              onChange={(e) => setPaymentAmount(e.target.value)}\n              placeholder=\"Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹\"\n              className=\"p-2 border border-gray-300 rounded\"\n            />\n            <select\n              value={paymentMethod}\n              onChange={(e) => setPaymentMethod(e.target.value)}\n              className=\"p-2 border border-gray-300 rounded\"\n            >\n              <option value=\"cash\">Ù†Ù‚Ø¯ÙŠ</option>\n              <option value=\"vodafone_elsawy\">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ø§Ù„ØµØ§ÙˆÙŠ</option>\n              <option value=\"vodafone_wael\">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„</option>\n              <option value=\"instapay\">Ø§Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ</option>\n            </select>\n          </div>\n          <button\n            onClick={paySupplier}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n          >\n            Ø¯ÙØ¹ Ø§Ù„Ù…Ø¨Ù„Øº\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Dashboard Component\nconst Dashboard = () => {\n  const { user } = useAuth();\n  \n  // Only Elsawy can access dashboard\n  if (user?.username !== 'Elsawy') {\n    return (\n      <div className=\"p-6\" dir=\"rtl\">\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n          <strong>ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­!</strong> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ù…Ø®ØµØµØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Elsawy ÙÙ‚Ø·.\n        </div>\n      </div>\n    );\n  }\n\n  const [stats, setStats] = useState({\n    total_sales: 0,\n    total_expenses: 0,\n    net_profit: 0,\n    total_unpaid: 0,\n    invoice_count: 0,\n    customer_count: 0\n  });\n\n  useEffect(() => {\n    fetchStats();\n  }, []);\n\n  const fetchStats = async () => {\n    try {\n      const response = await axios.get(`${API}/dashboard/stats`);\n      setStats(response.data);\n    } catch (error) {\n      console.error('Error fetching stats:', error);\n    }\n  };\n\n  const clearAllData = async () => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) return;\n    \n    try {\n      // Clear all data from backend\n      await axios.delete(`${API}/customers/clear-all`);\n      await axios.delete(`${API}/raw-materials/clear-all`);\n      await axios.delete(`${API}/finished-products/clear-all`);\n      await axios.delete(`${API}/invoices/clear-all`);\n      await axios.delete(`${API}/expenses/clear-all`);\n      await axios.delete(`${API}/payments/clear-all`);\n      await axios.delete(`${API}/work-orders/clear-all`);\n      \n      // Refresh dashboard stats\n      fetchStats();\n      \n      alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n    } catch (error) {\n      console.error('Error clearing all data:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n    }\n  };\n\n  const printReport = (reportType) => {\n    const currentDate = new Date().toLocaleDateString('ar-EG');\n    let printContent = `\n      <div style=\"font-family: Arial, sans-serif; direction: rtl; text-align: right;\">\n        <div style=\"text-align: center; margin-bottom: 20px;\">\n          <h1>Ù…Ø§Ø³ØªØ± Ø³ÙŠÙ„</h1>\n          <p>Ø§Ù„Ø­Ø±ÙÙŠØ§Ù† Ø´Ø§Ø±Ø¹ Ø§Ù„Ø³ÙˆØ¨Ø± Ø¬ÙŠØª - 01020630677</p>\n          <h2>ØªÙ‚Ø±ÙŠØ± Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>\n          <p>Ø§Ù„ØªØ§Ø±ÙŠØ®: ${currentDate}</p>\n        </div>\n        <table style=\"width: 100%; border-collapse: collapse;\">\n          <tr>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\"><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª:</strong></td>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\">Ø¬.Ù… ${stats.total_sales.toFixed(2)}</td>\n          </tr>\n          <tr>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\"><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª:</strong></td>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\">Ø¬.Ù… ${stats.total_expenses.toFixed(2)}</td>\n          </tr>\n          <tr>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\"><strong>ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­:</strong></td>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\">Ø¬.Ù… ${stats.net_profit.toFixed(2)}</td>\n          </tr>\n          <tr>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\"><strong>Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©:</strong></td>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\">Ø¬.Ù… ${stats.total_unpaid.toFixed(2)}</td>\n          </tr>\n          <tr>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\"><strong>Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±:</strong></td>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\">${stats.invoice_count}</td>\n          </tr>\n          <tr>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\"><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:</strong></td>\n            <td style=\"border: 1px solid #ddd; padding: 10px;\">${stats.customer_count}</td>\n          </tr>\n        </table>\n      </div>\n    `;\n    \n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(printContent);\n    printWindow.document.close();\n    printWindow.print();\n  };\n\n  return (\n    <div className=\"space-y-6\" dir=\"rtl\">\n      {/* Header Section */}\n      <div className=\"bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-6 text-white shadow-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-3xl font-bold mb-2\">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>\n            <p className=\"text-blue-100\">Ù…Ø±Ø­Ø¨Ø§Ù‹ {user?.username} - Ø¥Ù„ÙŠÙƒ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù†Ø´Ø§Ø·</p>\n          </div>\n          <div className=\"text-6xl opacity-20\">ðŸ“Š</div>\n        </div>\n        \n        <div className=\"flex flex-wrap space-x-4 space-x-reverse mt-6\">\n          <button \n            onClick={clearAllData}\n            className=\"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl hover:transform hover:scale-105\">\n            ðŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ÙƒÙ„\n          </button>\n          <button \n            onClick={fetchStats}\n            className=\"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl hover:transform hover:scale-105\">\n            ðŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„\n          </button>\n          <button \n            onClick={() => printReport('dashboard')}\n            className=\"bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl hover:transform hover:scale-105\">\n            ðŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±\n          </button>\n          <select className=\"bg-white text-gray-700 border-0 rounded-lg px-4 py-3 shadow-lg focus:ring-2 focus:ring-blue-300 font-medium\">\n            <option>ðŸ“… ÙŠÙˆÙ…ÙŠ</option>\n            <option>ðŸ“† Ø£Ø³Ø¨ÙˆØ¹ÙŠ</option>\n            <option>ðŸ“Š Ø´Ù‡Ø±ÙŠ</option>\n            <option>ðŸ“ˆ Ø³Ù†ÙˆÙŠ</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {/* Total Sales */}\n        <div className=\"bg-gradient-to-br from-green-400 to-green-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold opacity-90\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h3>\n              <p className=\"text-3xl font-bold mt-2\">\n                Ø¬.Ù… {stats.total_sales.toFixed(2)}\n              </p>\n            </div>\n            <div className=\"text-5xl opacity-30\">ðŸ’°</div>\n          </div>\n        </div>\n        \n        {/* Total Expenses */}\n        <div className=\"bg-gradient-to-br from-red-400 to-red-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold opacity-90\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h3>\n              <p className=\"text-3xl font-bold mt-2\">\n                Ø¬.Ù… {stats.total_expenses.toFixed(2)}\n              </p>\n            </div>\n            <div className=\"text-5xl opacity-30\">ðŸ’¸</div>\n          </div>\n        </div>\n        \n        {/* Net Profit */}\n        <div className=\"bg-gradient-to-br from-blue-400 to-blue-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold opacity-90\">ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­</h3>\n              <p className=\"text-3xl font-bold mt-2\">\n                Ø¬.Ù… {stats.net_profit.toFixed(2)}\n              </p>\n            </div>\n            <div className=\"text-5xl opacity-30\">ðŸ“ˆ</div>\n          </div>\n        </div>\n        \n        {/* Unpaid Amount */}\n        <div className=\"bg-gradient-to-br from-orange-400 to-orange-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold opacity-90\">Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©</h3>\n              <p className=\"text-3xl font-bold mt-2\">\n                Ø¬.Ù… {stats.total_unpaid.toFixed(2)}\n              </p>\n            </div>\n            <div className=\"text-5xl opacity-30\">â³</div>\n          </div>\n        </div>\n        \n        {/* Invoice Count */}\n        <div className=\"bg-gradient-to-br from-purple-400 to-purple-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold opacity-90\">Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</h3>\n              <p className=\"text-3xl font-bold mt-2\">\n                {stats.invoice_count}\n              </p>\n            </div>\n            <div className=\"text-5xl opacity-30\">ðŸ§¾</div>\n          </div>\n        </div>\n        \n        {/* Customer Count */}\n        <div className=\"bg-gradient-to-br from-teal-400 to-teal-600 p-6 rounded-xl text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:transform hover:scale-105\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold opacity-90\">Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h3>\n              <p className=\"text-3xl font-bold mt-2\">\n                {stats.customer_count}\n              </p>\n            </div>\n            <div className=\"text-5xl opacity-30\">ðŸ‘¥</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Sales Component\nconst Sales = () => {\n  const [customers, setCustomers] = useState([]);\n  const [newCustomer, setNewCustomer] = useState('');\n  const [selectedCustomer, setSelectedCustomer] = useState('');\n  const [supervisorName, setSupervisorName] = useState(''); // Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ†ÙŠØ¹\n  const [invoiceTitle, setInvoiceTitle] = useState(''); // Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©\n  const [currentItem, setCurrentItem] = useState({\n    seal_type: 'RSL',\n    material_type: 'NBR',\n    inner_diameter: '',\n    outer_diameter: '',\n    height: '',\n    quantity: 1,\n    unit_price: '',\n    product_type: 'manufactured' // manufactured Ø£Ùˆ local\n  });\n  const [localProduct, setLocalProduct] = useState({\n    product_size: '',      // Ù…Ù‚Ø§Ø³ Ø§Ù„Ù…Ù†ØªØ¬\n    product_type: '',      // Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬\n    purchase_price: '',\n    selling_price: '',\n    supplier: ''\n  });\n  const [items, setItems] = useState([]);\n  const [paymentMethod, setPaymentMethod] = useState('Ù†Ù‚Ø¯ÙŠ');\n  const [discount, setDiscount] = useState(0); // Ø§Ù„Ø®ØµÙ…\n  const [discountType, setDiscountType] = useState('amount'); // Ù†ÙˆØ¹ Ø§Ù„Ø®ØµÙ…: amount Ø£Ùˆ percentage\n  const [compatibilityResults, setCompatibilityResults] = useState(null);\n  const [selectedMaterial, setSelectedMaterial] = useState(null);\n  const [measurementUnit, setMeasurementUnit] = useState('Ù…Ù…'); // Ø¨ÙˆØµØ© Ø£Ùˆ Ù…Ù…\n  const [wallHeight, setWallHeight] = useState(''); // Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø­ÙŠØ·Ø© Ù„Ù„Ù€ W types\n\n  const sealTypes = ['RSL', 'RS', 'RSE', 'B17', 'B3', 'B14', 'B1', 'R15', 'R17', 'W1', 'W4', 'W5', 'W11', 'WBT', 'XR', 'CH', 'VR'];\n  const materialTypes = ['NBR', 'BUR', 'BT', 'VT', 'BOOM'];\n\n  useEffect(() => {\n    fetchCustomers();\n  }, []);\n\n  const fetchCustomers = async () => {\n    try {\n      const response = await axios.get(`${API}/customers`);\n      setCustomers(response.data);\n    } catch (error) {\n      console.error('Error fetching customers:', error);\n    }\n  };\n\n  const checkCompatibility = async () => {\n    if (!currentItem.inner_diameter || !currentItem.outer_diameter || !currentItem.height) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');\n      return;\n    }\n    \n    const innerDiameter = parseFloat(currentItem.inner_diameter);\n    const outerDiameter = parseFloat(currentItem.outer_diameter);\n    const height = parseFloat(currentItem.height);\n    \n    if (isNaN(innerDiameter) || isNaN(outerDiameter) || isNaN(height)) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø£Ø±Ù‚Ø§Ù… ØµØ­ÙŠØ­Ø© Ù„Ù„Ù…Ù‚Ø§Ø³Ø§Øª');\n      return;\n    }\n    \n    try {\n      const response = await axios.post(`${API}/compatibility-check`, {\n        seal_type: currentItem.seal_type,\n        inner_diameter: innerDiameter,\n        outer_diameter: outerDiameter,\n        height: height\n      });\n      setCompatibilityResults(response.data);\n    } catch (error) {\n      console.error('Error checking compatibility:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ Ø§Ù„ØªÙˆØ§ÙÙ‚');\n    }\n  };\n\n  const addItem = () => {\n    if (currentItem.product_type === 'manufactured') {\n      // Validation for manufactured products\n      if (!currentItem.inner_diameter || !currentItem.outer_diameter || !currentItem.height || !currentItem.unit_price) {\n        alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');\n        return;\n      }\n\n      const item = {\n        ...currentItem,\n        inner_diameter: parseFloat(currentItem.inner_diameter),\n        outer_diameter: parseFloat(currentItem.outer_diameter),\n        height: parseFloat(currentItem.height),\n        quantity: parseInt(currentItem.quantity),\n        unit_price: parseFloat(currentItem.unit_price),\n        total_price: parseFloat(currentItem.unit_price) * parseInt(currentItem.quantity),\n        material_used: selectedMaterial ? selectedMaterial.unit_code : null,\n        material_details: selectedMaterial ? {\n          unit_code: selectedMaterial.unit_code,\n          inner_diameter: selectedMaterial.inner_diameter,\n          outer_diameter: selectedMaterial.outer_diameter,\n          height: selectedMaterial.height,\n          material_type: selectedMaterial.material_type,\n          is_finished_product: selectedMaterial.is_finished_product || false\n        } : null\n      };\n\n      setItems([...items, item]);\n      setCurrentItem({\n        seal_type: 'RSL',\n        material_type: 'NBR',\n        inner_diameter: '',\n        outer_diameter: '',\n        height: '',\n        quantity: 1,\n        unit_price: '',\n        product_type: 'manufactured'\n      });\n    } else {\n      // Validation for local products\n      if (!localProduct.product_size || !localProduct.product_type || !localProduct.selling_price || !localProduct.supplier || !localProduct.purchase_price) {\n        alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø­Ù„ÙŠ');\n        return;\n      }\n\n      const product_name = `${localProduct.product_size} - ${localProduct.product_type}`;\n\n      const item = {\n        // Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©ØŒ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØµÙ†Ø¹Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† null\n        seal_type: null,\n        material_type: null, \n        inner_diameter: null,\n        outer_diameter: null,\n        height: null,\n        product_type: 'local',\n        product_name: product_name,\n        product_size: localProduct.product_size,\n        product_type_name: localProduct.product_type,\n        supplier: localProduct.supplier,\n        purchase_price: parseFloat(localProduct.purchase_price),\n        selling_price: parseFloat(localProduct.selling_price),\n        quantity: parseInt(currentItem.quantity),\n        unit_price: parseFloat(localProduct.selling_price), // Use selling price as unit price\n        total_price: parseFloat(localProduct.selling_price) * parseInt(currentItem.quantity),\n        // Store local product details\n        local_product_details: {\n          product_size: localProduct.product_size,\n          product_type: localProduct.product_type,\n          supplier: localProduct.supplier,\n          purchase_price: parseFloat(localProduct.purchase_price),\n          selling_price: parseFloat(localProduct.selling_price)\n        }\n      };\n\n      setItems([...items, item]);\n      setLocalProduct({\n        product_size: '',\n        product_type: '',\n        purchase_price: '',\n        selling_price: '',\n        supplier: ''\n      });\n      setCurrentItem({\n        seal_type: 'RSL',\n        material_type: 'NBR',\n        inner_diameter: '',\n        outer_diameter: '',\n        height: '',\n        quantity: 1,\n        unit_price: '',\n        product_type: 'manufactured'\n      });\n    }\n    \n    setCompatibilityResults(null);\n    setSelectedMaterial(null);\n  };\n\n  const createInvoice = async () => {\n    if (!selectedCustomer && !newCustomer) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø£Ùˆ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯');\n      return;\n    }\n\n    if (items.length === 0) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„ÙØ§ØªÙˆØ±Ø©');\n      return;\n    }\n\n    try {\n      let customerId = selectedCustomer;\n      let customerName = '';\n\n      // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±\n      if (!selectedCustomer && newCustomer) {\n        const customerResponse = await axios.post(`${API}/customers`, {\n          name: newCustomer,\n          phone: '',\n          address: ''\n        });\n        customerId = customerResponse.data.id;\n        customerName = newCustomer;\n        \n        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\n        fetchCustomers();\n      } else {\n        const customer = customers.find(c => c.id === customerId);\n        customerName = customer ? customer.name : '';\n      }\n\n      // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆØ§Ù„Ø®ØµÙ…\n      const subtotal = items.reduce((sum, item) => sum + item.total_price, 0);\n      const discountAmount = discountType === 'percentage' \n        ? (subtotal * parseFloat(discount || 0)) / 100\n        : parseFloat(discount || 0);\n      const totalAfterDiscount = subtotal - discountAmount;\n\n      // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©\n      const invoiceData = {\n        customer_id: customerId,\n        customer_name: customerName,\n        invoice_title: invoiceTitle, // Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©\n        supervisor_name: supervisorName, // Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù\n        items: items,\n        payment_method: paymentMethod,\n        subtotal: subtotal,\n        discount: discountAmount,\n        discount_type: discountType,\n        discount_value: parseFloat(discount || 0),\n        total_after_discount: totalAfterDiscount,\n        notes: ''\n      };\n\n      const response = await axios.post(`${API}/invoices?supervisor_name=${encodeURIComponent(supervisorName)}`, invoiceData);\n      \n      if (response.data) {\n        alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');\n        \n        // Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n        setItems([]);\n        setSelectedCustomer('');\n        setNewCustomer('');\n        setSupervisorName('');\n        setInvoiceTitle(''); // Ù…Ø³Ø­ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©\n        setPaymentMethod('Ù†Ù‚Ø¯ÙŠ');\n        setDiscount(0);\n        setDiscountType('amount');\n        \n        // Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©\n        printInvoice(response.data);\n      }\n    } catch (error) {\n      console.error('Error creating invoice:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©');\n    }\n  };\n\n  const printInvoice = (invoice) => {\n    const printContent = `\n      <!DOCTYPE html>\n      <html dir=\"rtl\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <style>\n          body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 20px;\n            direction: rtl;\n            font-size: 15px;\n          }\n          .header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            border-bottom: 3px solid #000;\n            padding-bottom: 10px;\n            margin-bottom: 20px;\n          }\n          .company-info {\n            text-align: right;\n          }\n          .company-name {\n            font-size: 32px;\n            font-weight: bold;\n            color: #000;\n            margin: 0;\n          }\n          .company-subtitle {\n            font-size: 20px;\n            margin: 5px 0;\n            color: #666;\n          }\n          .company-details {\n            font-size: 16px;\n            margin: 2px 0;\n            color: #333;\n          }\n          .logo-section {\n            text-align: center;\n            flex: 1;\n          }\n          .invoice-title {\n            font-size: 20px;\n            font-weight: bold;\n            background-color: #ff4444;\n            color: white;\n            padding: 8px 20px;\n            border-radius: 5px;\n            display: inline-block;\n            margin-bottom: 10px;\n          }\n          .invoice-number {\n            font-size: 18px;\n            font-weight: bold;\n            color: #ff4444;\n          }\n          .customer-info {\n            display: flex;\n            justify-content: space-between;\n            margin: 20px 0;\n          }\n          .customer-details {\n            text-align: right;\n          }\n          .date-info {\n            text-align: left;\n          }\n          .products-table {\n            width: 100%;\n            border-collapse: collapse;\n            border: 2px solid #000;\n            margin: 20px 0;\n          }\n          .products-table th,\n          .products-table td {\n            border: 1px solid #000;\n            padding: 8px;\n            text-align: center;\n          }\n          .products-table th {\n            background-color: #f0f0f0;\n            font-weight: bold;\n          }\n          .footer {\n            margin-top: 30px;\n            border-top: 1px solid #ccc;\n            padding-top: 15px;\n            display: flex;\n            justify-content: space-between;\n            font-size: 12px;\n            color: #666;\n          }\n          .total-section {\n            text-align: left;\n            margin-top: 10px;\n          }\n          .total-amount {\n            font-size: 18px;\n            font-weight: bold;\n            border: 2px solid #000;\n            padding: 10px;\n            display: inline-block;\n            background-color: #f9f9f9;\n          }\n          @media print {\n            body { margin: 0; padding: 10px; }\n          }\n        </style>\n      </head>\n      <body>\n        <!-- Header Section -->\n        <div class=\"header\">\n          <div class=\"company-info\">\n            <h1 class=\"company-name\">Ø´Ø±ÙƒØ© Ù…Ø§Ø³ØªØ± Ø³ÙŠÙ„</h1>\n            <p class=\"company-subtitle\">ØªØµÙ†ÙŠØ¹ Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£ÙˆÙŠÙ„ Ø³ÙŠÙ„</p>\n            <p class=\"company-details\">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø·Ø§Ø± Ø­ØªÙ‰ Ù¥Ù Ù Ù…Ù„</p>\n            <p class=\"company-details\">Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ - Ù†ÙŠÙˆÙ…Ø§ØªÙŠÙƒ</p>\n          </div>\n          \n          <div class=\"logo-section\">\n            <img src=\"https://customer-assets.emergentagent.com/job_oilseal-mgmt/artifacts/42i3e7yn_WhatsApp%20Image%202025-07-31%20at%2015.14.10_e8c55120.jpg\" \n                 alt=\"Master Seal Logo\" \n                 style=\"max-width: 120px; max-height: 80px; margin-bottom: 10px;\">\n            <div class=\"invoice-title\">${invoice.invoice_title || 'Ø¹Ø±Ø¶ Ø³Ø¹Ø±'}</div>\n            <div class=\"invoice-number\">${invoice.invoice_number}</div>\n          </div>\n        </div>\n\n        <!-- Customer and Date Info -->\n        <div class=\"customer-info\">\n          <div class=\"customer-details\">\n            <p><strong>Ø§Ù„Ø³Ø§Ø¯Ø©:</strong> ${invoice.customer_name}</p>\n            <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${invoice.customer_address || '........................'}</p>\n          </div>\n          <div class=\"date-info\">\n            <p><strong>ØªØ­Ø±ÙŠØ± ÙÙŠ:</strong> ${new Date(invoice.date).toLocaleDateString('ar-EG')}</p>\n            <p><strong>Date:</strong> ${new Date(invoice.date).toLocaleDateString('en-GB')}</p>\n          </div>\n        </div>\n\n        <!-- Products Table -->\n        <table class=\"products-table\">\n          <thead>\n            <tr>\n              <th style=\"width: 60px;\">Ø§Ù„Ù…Ø³Ù„Ø³Ù„<br>Item</th>\n              <th style=\"width: 80px;\">Ø§Ù„ÙƒÙ…ÙŠØ©<br>QTY</th>\n              <th style=\"width: 200px;\">Description<br>Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª</th>\n              <th style=\"width: 100px;\">Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©<br>Unit Price</th>\n              <th style=\"width: 100px;\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ<br>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${invoice.items.map((item, index) => `\n              <tr>\n                <td>${index + 1}</td>\n                <td>${item.quantity}</td>\n                <td style=\"text-align: right;\">\n                  ${item.local_product_details ? \n                    `${item.local_product_details.product_size} - ${item.local_product_details.product_type}` : \n                    `${item.seal_type} - ${item.material_type}<br>\n                    <small>${item.inner_diameter} Ã— ${item.outer_diameter} Ã— ${item.height} Ù…Ù…${item.wall_height ? ` (Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø­ÙŠØ·Ø©: ${item.wall_height} Ù…Ù…)` : \"\"}</small>`\n                  }\n                </td>\n                <td>Ø¬.Ù… ${item.unit_price.toFixed(2)}</td>\n                <td>Ø¬.Ù… ${item.total_price.toFixed(2)}</td>\n              </tr>\n            `).join('')}\n            <!-- Empty rows for additional items -->\n            ${Array.from({length: Math.max(0, 8 - invoice.items.length)}, (_, i) => `\n              <tr style=\"height: 40px;\">\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n              </tr>\n            `).join('')}\n          </tbody>\n        </table>\n\n        <!-- Total Section -->\n        <div class=\"total-section\">\n          <div style=\"text-align: left; margin-bottom: 10px;\">\n            ${invoice.subtotal ? `\n              <div style=\"margin-bottom: 5px;\">\n                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ: Ø¬.Ù… ${invoice.subtotal.toFixed(2)}</span>\n              </div>\n            ` : ''}\n            ${invoice.discount && invoice.discount > 0 ? `\n              <div style=\"margin-bottom: 5px; color: #d32f2f;\">\n                <span>Ø§Ù„Ø®ØµÙ…: - Ø¬.Ù… ${invoice.discount.toFixed(2)}</span>\n                ${invoice.discount_type === 'percentage' && invoice.discount_value ? \n                  ` <small>(${invoice.discount_value}%)</small>` : ''}\n              </div>\n              <hr style=\"margin: 5px 0; border: 1px solid #000;\">\n            ` : ''}\n          </div>\n          <div class=\"total-amount\">\n            Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: Ø¬.Ù… ${(invoice.total_after_discount || invoice.total_amount).toFixed(2)}\n          </div>\n        </div>\n\n        <!-- Additional Info -->\n        <div style=\"margin-top: 20px; text-align: center; font-size: 12px;\">\n          <p><strong>Ù…Ù„Ø­ÙˆØ¸Ø©:</strong> ÙÙ‚Ø· ÙˆÙ‚Ø¯Ø±Ù‡</p>\n          <div style=\"height: 30px; border-bottom: 1px solid #000; margin: 10px 40px;\"></div>\n        </div>\n\n        <!-- Footer -->\n        <div class=\"footer\">\n          <div>\n            <p><strong>Ø§Ù„ØªÙˆÙ‚ÙŠØ¹:</strong></p>\n            <p>Ù…ÙˆØ¨Ø§ÙŠÙ„: Ù Ù¡Ù Ù¢Ù Ù¦Ù£Ù Ù¦Ù§Ù§ - Ù Ù¡Ù Ù¦Ù¢Ù£Ù©Ù Ù¨Ù§Ù </p>\n            <p>ØªÙ„ÙŠÙÙˆÙ†: Ù Ù¡Ù Ù¢Ù Ù¦Ù£Ù Ù¦Ù§Ù§</p>\n          </div>\n          <div style=\"text-align: left;\">\n            <p><strong>Ø§Ù„Ù…Ø³ØªÙ„Ù…:</strong></p>\n            <p>Ø§Ù„Ø­Ø±ÙÙŠÙŠÙ† - Ø§Ù„Ø³Ù„Ø§Ù… - Ø£Ù…Ø§Ù… Ø§Ù„Ø³ÙˆØ¨Ø± Ø¬ÙŠØª</p>\n            <p>Ù…ÙˆØ¨Ø§ÙŠÙ„: Ù Ù¡Ù Ù¢Ù Ù¦Ù£Ù Ù¦Ù§Ù§ - Ù Ù¡Ù Ù¦Ù¢Ù£Ù©Ù Ù¨Ù§Ù </p>\n          </div>\n        </div>\n\n        <!-- Note -->\n        <div style=\"text-align: center; margin-top: 20px; font-size: 11px; color: #666;\">\n          <p>ÙŠÙ‚Ø± Ø§Ù„Ù…Ø´ØªØ±ÙŠ Ø¨Ø£Ù†Ù‡ Ù‚Ø§Ù… Ø¨Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø© ÙˆÙ‚Ø¨ÙˆÙ„Ù‡Ø§</p>\n        </div>\n      </body>\n      </html>\n    `;\n    \n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(printContent);\n    printWindow.document.close();\n    printWindow.print();\n  };\n\n  const clearAllInvoices = async () => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) return;\n    \n    try {\n      setItems([]);\n      alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±');\n    } catch (error) {\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n    }\n  };\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <h2 className=\"text-2xl font-bold text-blue-600 mb-6\">Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</h2>\n      \n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Customer Selection */}\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4\">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„</h3>\n          \n          <div className=\"space-y-4\">\n            <div>\n              <select\n                value={selectedCustomer}\n                onChange={(e) => setSelectedCustomer(e.target.value)}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n              >\n                <option value=\"\">Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…ÙŠÙ„</option>\n                {customers.map(customer => (\n                  <option key={customer.id} value={customer.id}>\n                    {customer.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"flex space-x-2 space-x-reverse\">\n              <input\n                type=\"text\"\n                value={newCustomer}\n                onChange={(e) => setNewCustomer(e.target.value)}\n                placeholder=\"Ø§Ø³Ù… Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯\"\n                className=\"flex-1 p-2 border border-gray-300 rounded\"\n              />\n              <button className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n                Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯\n              </button>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ†ÙŠØ¹</label>\n              <input\n                type=\"text\"\n                value={supervisorName}\n                onChange={(e) => setSupervisorName(e.target.value)}\n                placeholder=\"Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                className=\"w-full p-2 border border-gray-300 rounded\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©</label>\n              <input\n                type=\"text\"\n                value={invoiceTitle}\n                onChange={(e) => setInvoiceTitle(e.target.value)}\n                placeholder=\"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                className=\"w-full p-2 border border-gray-300 rounded\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Product Entry */}\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</h3>\n          \n          {/* Product Type Selection */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium mb-2\">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬</label>\n            <select\n              value={currentItem.product_type}\n              onChange={(e) => setCurrentItem({...currentItem, product_type: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            >\n              <option value=\"manufactured\">Ù…Ù†ØªØ¬ ØªØµÙ†ÙŠØ¹</option>\n              <option value=\"local\">Ù…Ù†ØªØ¬ Ù…Ø­Ù„ÙŠ</option>\n            </select>\n          </div>\n          \n          {/* Conditional Product Forms */}\n          {currentItem.product_type === 'manufactured' ? (\n            // Manufacturing Product Form\n            <>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠÙ„</label>\n                  <select\n                    value={currentItem.seal_type}\n                    onChange={(e) => setCurrentItem({...currentItem, seal_type: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                  >\n                    {sealTypes.map(type => (\n                      <option key={type} value={type}>{type}</option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø©</label>\n                  <select\n                    value={currentItem.material_type}\n                    onChange={(e) => setCurrentItem({...currentItem, material_type: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                  >\n                    {materialTypes.map(type => (\n                      <option key={type} value={type}>{type}</option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</label>\n                  <input\n                    type=\"number\"\n                    value={currentItem.inner_diameter}\n                    onChange={(e) => setCurrentItem({...currentItem, inner_diameter: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ</label>\n                  <input\n                    type=\"number\"\n                    value={currentItem.outer_diameter}\n                    onChange={(e) => setCurrentItem({...currentItem, outer_diameter: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø³ÙŠÙ„</label>\n                  <input\n                    type=\"number\"\n                    value={currentItem.height}\n                    onChange={(e) => setCurrentItem({...currentItem, height: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                  />\n                </div>\n                \n                {/* Wall Height for W-type seals */}\n                {currentItem.seal_type && currentItem.seal_type.startsWith('W') && (\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø­ÙŠØ·Ø©</label>\n                    <input\n                      type=\"number\"\n                      value={wallHeight}\n                      onChange={(e) => setWallHeight(e.target.value)}\n                      className=\"w-full p-2 border border-gray-300 rounded\"\n                      placeholder=\"Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø­ÙŠØ·Ø© Ù„Ù„Ø³ÙŠÙ„ Ù†ÙˆØ¹ W\"\n                    />\n                  </div>\n                )}\n                \n                {/* Measurement Unit */}\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">ÙˆØ­Ø¯Ø© Ø§Ù„Ù‚ÙŠØ§Ø³</label>\n                  <select\n                    value={measurementUnit}\n                    onChange={(e) => setMeasurementUnit(e.target.value)}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                  >\n                    <option value=\"Ù…Ù…\">Ù…Ù„ÙŠÙ…ØªØ± (Ù…Ù…)</option>\n                    <option value=\"Ø¨ÙˆØµØ©\">Ø¨ÙˆØµØ©</option>\n                  </select>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ø¹Ø¯Ø¯ Ø§Ù„Ø³ÙŠÙ„</label>\n                  <input\n                    type=\"number\"\n                    value={currentItem.quantity}\n                    onChange={(e) => setCurrentItem({...currentItem, quantity: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ø³Ø¹Ø± Ø§Ù„Ø³ÙŠÙ„ Ø§Ù„ÙˆØ§Ø­Ø¯</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={currentItem.unit_price}\n                    onChange={(e) => setCurrentItem({...currentItem, unit_price: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                  />\n                </div>\n                \n                <div className=\"flex items-end\">\n                  <button\n                    onClick={checkCompatibility}\n                    className=\"w-full bg-yellow-500 text-white p-2 rounded hover:bg-yellow-600\"\n                  >\n                    ÙØ­Øµ Ø§Ù„ØªÙˆØ§ÙÙ‚\n                  </button>\n                </div>\n              </div>\n            </>\n          ) : (\n            // Local Product Form\n            <>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ù…Ù‚Ø§Ø³ Ø§Ù„Ù…Ù†ØªØ¬</label>\n                  <input\n                    type=\"text\"\n                    value={localProduct.product_size}\n                    onChange={(e) => setLocalProduct({...localProduct, product_size: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                    placeholder=\"Ù…Ù‚Ø§Ø³ Ø§Ù„Ù…Ù†ØªØ¬\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬</label>\n                  <input\n                    type=\"text\"\n                    value={localProduct.product_type}\n                    onChange={(e) => setLocalProduct({...localProduct, product_type: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                    placeholder=\"Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù…ÙˆØ±Ø¯</label>\n                  <input\n                    type=\"text\"\n                    value={localProduct.supplier}\n                    onChange={(e) => setLocalProduct({...localProduct, supplier: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                    placeholder=\"Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={localProduct.purchase_price}\n                    onChange={(e) => setLocalProduct({...localProduct, purchase_price: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                    placeholder=\"Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={localProduct.selling_price}\n                    onChange={(e) => setLocalProduct({...localProduct, selling_price: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                    placeholder=\"Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Ø§Ù„ÙƒÙ…ÙŠØ©</label>\n                  <input\n                    type=\"number\"\n                    value={currentItem.quantity}\n                    onChange={(e) => setCurrentItem({...currentItem, quantity: e.target.value})}\n                    className=\"w-full p-2 border border-gray-300 rounded\"\n                  />\n                </div>\n              </div>\n            </>\n          )}\n          \n          <button\n            onClick={addItem}\n            className=\"w-full bg-green-500 text-white p-2 rounded hover:bg-green-600 mt-4\"\n          >\n            Ø¥Ø¶Ø§ÙØ© Ù„Ù„ÙØ§ØªÙˆØ±Ø©\n          </button>\n        </div>\n      </div>\n\n      {/* Compatibility Results */}\n      {compatibilityResults && (\n        <div className=\"mt-6 bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4\">Ù†ØªØ§Ø¦Ø¬ ÙØ­Øµ Ø§Ù„ØªÙˆØ§ÙÙ‚</h3>\n          \n          {compatibilityResults.compatible_materials.length > 0 && (\n            <div className=\"mb-4\">\n              <h4 className=\"font-medium mb-2\">Ø§Ù„Ø®Ø§Ù…Ø§Øª Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø©:</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {compatibilityResults.compatible_materials.map((material, index) => (\n                  <div\n                    key={index}\n                    className={`p-3 border rounded cursor-pointer transition-colors ${\n                      selectedMaterial?.unit_code === material.unit_code && \n                      selectedMaterial?.inner_diameter === material.inner_diameter &&\n                      selectedMaterial?.outer_diameter === material.outer_diameter &&\n                      selectedMaterial?.height === material.height\n                        ? 'border-blue-500 bg-blue-50' \n                        : material.low_stock \n                          ? 'border-red-300 bg-red-50 hover:bg-red-100' \n                          : 'border-green-300 bg-green-50 hover:bg-green-100'\n                    }`}\n                    onClick={() => setSelectedMaterial(material)}\n                  >\n                    <p><strong>Ø§Ù„Ù†ÙˆØ¹:</strong> {material.material_type}</p>\n                    <p><strong>Ø§Ù„ÙƒÙˆØ¯:</strong> {material.unit_code}</p>\n                    <p><strong>Ø§Ù„Ù…Ù‚Ø§Ø³:</strong> {material.inner_diameter} Ã— {material.outer_diameter} Ã— {material.height}</p>\n                    <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹:</strong> {material.pieces_count}</p>\n                    {material.warning && <p className=\"text-red-600 text-sm\">{material.warning}</p>}\n                    {selectedMaterial?.unit_code === material.unit_code && \n                     selectedMaterial?.inner_diameter === material.inner_diameter &&\n                     selectedMaterial?.outer_diameter === material.outer_diameter &&\n                     selectedMaterial?.height === material.height && (\n                      <p className=\"text-blue-600 font-semibold text-sm mt-2\">âœ“ Ù…Ø­Ø¯Ø¯ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</p>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n          \n          {compatibilityResults.compatible_products.length > 0 && (\n            <div>\n              <h4 className=\"font-medium mb-2\">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {compatibilityResults.compatible_products.map((product, index) => (\n                  <div \n                    key={index} \n                    className=\"p-3 border border-blue-300 bg-blue-50 rounded cursor-pointer hover:bg-blue-100\"\n                    onClick={() => setSelectedMaterial({\n                      unit_code: `FINISHED-${product.id}`,\n                      material_type: product.material_type,\n                      seal_type: product.seal_type,\n                      inner_diameter: product.inner_diameter,\n                      outer_diameter: product.outer_diameter,\n                      height: product.height,\n                      is_finished_product: true\n                    })}\n                  >\n                    <p><strong>Ø§Ù„Ù†ÙˆØ¹:</strong> {product.seal_type} - {product.material_type}</p>\n                    <p><strong>Ø§Ù„Ù…Ù‚Ø§Ø³:</strong> {product.inner_diameter} Ã— {product.outer_diameter} Ã— {product.height}</p>\n                    <p><strong>Ø§Ù„ÙƒÙ…ÙŠØ©:</strong> {product.quantity}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {selectedMaterial && (\n            <div className=\"mt-4 p-3 bg-blue-100 rounded\">\n              <p className=\"font-semibold text-blue-800\">\n                ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø®Ø§Ù…Ø©: {selectedMaterial.unit_code} ({selectedMaterial.material_type})\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Current Items */}\n      {items.length > 0 && (\n        <div className=\"mt-6 bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4\">Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h3>\n          \n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full border-collapse border border-gray-300\">\n              <thead>\n                <tr className=\"bg-gray-100\">\n                  <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠÙ„</th>\n                  <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø©</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ù‚Ø§Ø³</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</th>\n                </tr>\n              </thead>\n              <tbody>\n                {items.map((item, index) => (\n                  <tr key={index}>\n                    <td className=\"border border-gray-300 p-2\">{item.seal_type}</td>\n                    <td className=\"border border-gray-300 p-2\">{item.material_type}</td>\n                    <td className=\"border border-gray-300 p-2\">\n                      {item.inner_diameter} Ã— {item.outer_diameter} Ã— {item.height}\n                    </td>\n                    <td className=\"border border-gray-300 p-2\">{item.quantity}</td>\n                    <td className=\"border border-gray-300 p-2\">Ø¬.Ù… {item.unit_price}</td>\n                    <td className=\"border border-gray-300 p-2\">Ø¬.Ù… {item.total_price}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n          \n          <div className=\"mt-4 flex justify-between items-center\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>\n              <select\n                value={paymentMethod}\n                onChange={(e) => setPaymentMethod(e.target.value)}\n                className=\"p-2 border border-gray-300 rounded\"\n              >\n                <option value=\"Ù†Ù‚Ø¯ÙŠ\">Ù†Ù‚Ø¯ÙŠ</option>\n                <option value=\"Ø¢Ø¬Ù„\">Ø¢Ø¬Ù„</option>\n                <option value=\"ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ù…Ø­Ù…Ø¯ Ø§Ù„ØµØ§ÙˆÙŠ\">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ù…Ø­Ù…Ø¯ Ø§Ù„ØµØ§ÙˆÙŠ</option>\n                <option value=\"ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„ Ù…Ø­Ù…Ø¯\">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„ Ù…Ø­Ù…Ø¯</option>\n                <option value=\"Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ\">Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ</option>\n                <option value=\"ÙŠØ¯ Ø§Ù„ØµØ§ÙˆÙŠ\">ÙŠØ¯ Ø§Ù„ØµØ§ÙˆÙŠ</option>\n              </select>\n            </div>\n            \n            {/* Discount Section */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4 p-4 bg-gray-50 rounded-lg\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ø®ØµÙ…</label>\n                <select\n                  value={discountType}\n                  onChange={(e) => setDiscountType(e.target.value)}\n                  className=\"p-2 border border-gray-300 rounded w-full\"\n                >\n                  <option value=\"amount\">Ù…Ø¨Ù„Øº Ø«Ø§Ø¨Øª</option>\n                  <option value=\"percentage\">Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ©</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">\n                  Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ… {discountType === 'percentage' ? '(%)' : '(Ø¬.Ù…)'}\n                </label>\n                <input\n                  type=\"number\"\n                  value={discount}\n                  onChange={(e) => setDiscount(e.target.value)}\n                  className=\"p-2 border border-gray-300 rounded w-full\"\n                  placeholder=\"0\"\n                  min=\"0\"\n                  step={discountType === 'percentage' ? '0.1' : '0.01'}\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ù…Ø¨Ù„Øº Ø§Ù„Ø®ØµÙ…</label>\n                <div className=\"p-2 bg-white border border-gray-300 rounded w-full\">\n                  Ø¬.Ù… {(() => {\n                    const subtotal = items.reduce((sum, item) => sum + item.total_price, 0);\n                    const discountAmount = discountType === 'percentage' \n                      ? (subtotal * parseFloat(discount || 0)) / 100\n                      : parseFloat(discount || 0);\n                    return discountAmount.toFixed(2);\n                  })()}\n                </div>\n              </div>\n            </div>\n            \n            {/* Total Section */}\n            <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\n              <div className=\"flex justify-between items-center mb-2\">\n                <span className=\"text-lg\">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ:</span>\n                <span className=\"text-lg font-semibold\">\n                  Ø¬.Ù… {items.reduce((sum, item) => sum + item.total_price, 0).toFixed(2)}\n                </span>\n              </div>\n              <div className=\"flex justify-between items-center mb-2\">\n                <span className=\"text-lg\">Ø§Ù„Ø®ØµÙ…:</span>\n                <span className=\"text-lg font-semibold text-red-600\">\n                  - Ø¬.Ù… {(() => {\n                    const subtotal = items.reduce((sum, item) => sum + item.total_price, 0);\n                    const discountAmount = discountType === 'percentage' \n                      ? (subtotal * parseFloat(discount || 0)) / 100\n                      : parseFloat(discount || 0);\n                    return discountAmount.toFixed(2);\n                  })()}\n                </span>\n              </div>\n              <hr className=\"my-2\" />\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-xl font-bold\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:</span>\n                <span className=\"text-xl font-bold text-green-600\">\n                  Ø¬.Ù… {(() => {\n                    const subtotal = items.reduce((sum, item) => sum + item.total_price, 0);\n                    const discountAmount = discountType === 'percentage' \n                      ? (subtotal * parseFloat(discount || 0)) / 100\n                      : parseFloat(discount || 0);\n                    return (subtotal - discountAmount).toFixed(2);\n                  })()}\n                </span>\n              </div>\n            </div>\n            \n            <div className=\"text-xl font-bold\" style={{display: 'none'}}>\n              Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: Ø¬.Ù… {items.reduce((sum, item) => sum + item.total_price, 0).toFixed(2)}\n            </div>\n          </div>\n          \n          <button\n            onClick={createInvoice}\n            className=\"w-full bg-green-500 text-white p-3 rounded hover:bg-green-600 mt-4 text-lg font-semibold\"\n          >\n            Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Simple placeholder components for other pages\n// Inventory Component will be replaced with new advanced version above\n\n// Stock Component (Old Inventory functionality for Raw Materials and Finished Products)\nconst Stock = () => {\n  const [rawMaterials, setRawMaterials] = useState([]);\n  const [finishedProducts, setFinishedProducts] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(''); // Ù„Ù„Ø¨Ø­Ø«\n  const [newRawMaterial, setNewRawMaterial] = useState({\n    material_type: 'NBR',\n    inner_diameter: '',\n    outer_diameter: '',\n    height: '',\n    pieces_count: '',\n    cost_per_mm: ''\n  });\n  const [newFinishedProduct, setNewFinishedProduct] = useState({\n    seal_type: 'RSL',\n    material_type: 'NBR',\n    inner_diameter: '',\n    outer_diameter: '',\n    height: '',\n    quantity: '',\n    unit_price: ''\n  });\n\n  const materialTypes = ['NBR', 'BUR', 'BT', 'VT', 'BOOM'];\n  const sealTypes = ['RSL', 'RS', 'RSE', 'B17', 'B3', 'B14', 'B1', 'R15', 'R17', 'W1', 'W4', 'W5', 'W11', 'WBT', 'XR', 'CH', 'VR'];\n\n  // Ø¯Ø§Ù„Ø© ØªØµÙÙŠØ© Ø§Ù„Ø¨Ø­Ø«\n  const filteredRawMaterials = rawMaterials.filter(material => \n    material.material_type.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    material.unit_code.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    material.inner_diameter.toString().includes(searchTerm) ||\n    material.outer_diameter.toString().includes(searchTerm) ||\n    material.height.toString().includes(searchTerm)\n  ).sort((a, b) => {\n    // ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ù…Ø©: BUR-NBR-BT-BOOM-VT\n    const materialPriority = { 'BUR': 1, 'NBR': 2, 'BT': 3, 'BOOM': 4, 'VT': 5 };\n    const aPriority = materialPriority[a.material_type] || 6;\n    const bPriority = materialPriority[b.material_type] || 6;\n    \n    if (aPriority !== bPriority) {\n      return aPriority - bPriority;\n    }\n    // Ø«Ù… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø«Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ)\n    if (a.inner_diameter !== b.inner_diameter) {\n      return a.inner_diameter - b.inner_diameter;\n    }\n    return a.outer_diameter - b.outer_diameter;\n  });\n\n  const filteredFinishedProducts = finishedProducts.filter(product => \n    product.seal_type.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    product.material_type.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    product.inner_diameter.toString().includes(searchTerm) ||\n    product.outer_diameter.toString().includes(searchTerm) ||\n    product.height.toString().includes(searchTerm)\n  ).sort((a, b) => {\n    // ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ù…Ø©: BUR-NBR-BT-BOOM-VT\n    const materialPriority = { 'BUR': 1, 'NBR': 2, 'BT': 3, 'BOOM': 4, 'VT': 5 };\n    const aPriority = materialPriority[a.material_type] || 6;\n    const bPriority = materialPriority[b.material_type] || 6;\n    \n    if (aPriority !== bPriority) {\n      return aPriority - bPriority;\n    }\n    // Ø«Ù… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù‚Ø§Ø³ (Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø«Ù… Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ)\n    if (a.inner_diameter !== b.inner_diameter) {\n      return a.inner_diameter - b.inner_diameter;\n    }\n    return a.outer_diameter - b.outer_diameter;\n  });\n\n  useEffect(() => {\n    fetchRawMaterials();\n    fetchFinishedProducts();\n  }, []);\n\n  const fetchRawMaterials = async () => {\n    try {\n      const response = await axios.get(`${API}/raw-materials`);\n      setRawMaterials(response.data);\n    } catch (error) {\n      console.error('Error fetching raw materials:', error);\n    }\n  };\n\n  const fetchFinishedProducts = async () => {\n    try {\n      const response = await axios.get(`${API}/finished-products`);\n      setFinishedProducts(response.data);\n    } catch (error) {\n      console.error('Error fetching finished products:', error);\n    }\n  };\n\n  const addRawMaterial = async () => {\n    if (!newRawMaterial.inner_diameter || !newRawMaterial.outer_diameter || !newRawMaterial.height || !newRawMaterial.pieces_count || !newRawMaterial.cost_per_mm) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');\n      return;\n    }\n\n    try {\n      const rawMaterial = {\n        material_type: newRawMaterial.material_type,\n        inner_diameter: parseFloat(newRawMaterial.inner_diameter),\n        outer_diameter: parseFloat(newRawMaterial.outer_diameter),\n        height: parseFloat(newRawMaterial.height),\n        pieces_count: parseInt(newRawMaterial.pieces_count),\n        cost_per_mm: parseFloat(newRawMaterial.cost_per_mm)\n        // unit_code will be generated automatically by backend\n      };\n\n      const response = await axios.post(`${API}/raw-materials`, rawMaterial);\n      alert(`ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­. ÙƒÙˆØ¯ Ø§Ù„ÙˆØ­Ø¯Ø©: ${response.data.unit_code}`);\n      fetchRawMaterials();\n      setNewRawMaterial({\n        material_type: 'NBR',\n        inner_diameter: '',\n        outer_diameter: '',\n        height: '',\n        pieces_count: '',\n        cost_per_mm: ''\n      });\n    } catch (error) {\n      console.error('Error adding raw material:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù…: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const clearAllRawMaterials = async () => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…ØŸ')) {\n      return;\n    }\n\n    try {\n      await axios.delete(`${API}/raw-materials/clear-all`);\n      fetchRawMaterials();\n      alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…');\n    } catch (error) {\n      console.error('Error clearing raw materials:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…');\n    }\n  };\n\n  const deleteRawMaterial = async (materialId) => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù…ØŸ')) {\n      return;\n    }\n\n    try {\n      await axios.delete(`${API}/raw-materials/${materialId}`);\n      fetchRawMaterials();\n      alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù…');\n    } catch (error) {\n      console.error('Error deleting raw material:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù…');\n    }\n  };\n\n  const addFinishedProduct = async () => {\n    if (!newFinishedProduct.inner_diameter || !newFinishedProduct.outer_diameter || !newFinishedProduct.height || !newFinishedProduct.quantity || !newFinishedProduct.unit_price) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');\n      return;\n    }\n\n    try {\n      const finishedProduct = {\n        seal_type: newFinishedProduct.seal_type,\n        material_type: newFinishedProduct.material_type,\n        inner_diameter: parseFloat(newFinishedProduct.inner_diameter),\n        outer_diameter: parseFloat(newFinishedProduct.outer_diameter),\n        height: parseFloat(newFinishedProduct.height),\n        quantity: parseInt(newFinishedProduct.quantity),\n        unit_price: parseFloat(newFinishedProduct.unit_price)\n      };\n\n      await axios.post(`${API}/finished-products`, finishedProduct);\n      fetchFinishedProducts();\n      setNewFinishedProduct({\n        seal_type: 'RSL',\n        material_type: 'NBR',\n        inner_diameter: '',\n        outer_diameter: '',\n        height: '',\n        quantity: '',\n        unit_price: ''\n      });\n      alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error adding finished product:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ');\n    }\n  };\n\n  const deleteFinishedProduct = async (productId) => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØŸ')) {\n      return;\n    }\n\n    try {\n      await axios.delete(`${API}/finished-products/${productId}`);\n      fetchFinishedProducts();\n      alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ');\n    } catch (error) {\n      console.error('Error deleting finished product:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ');\n    }\n  };\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <h1 className=\"text-3xl font-bold mb-6\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h1>\n      \n      {/* Raw Materials Section */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-semibold\">Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù…</h3>\n          <button\n            onClick={clearAllRawMaterials}\n            className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n          >\n            Ø­Ø°Ù Ø§Ù„ÙƒÙ„\n          </button>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø©</label>\n            <select\n              value={newRawMaterial.material_type}\n              onChange={(e) => setNewRawMaterial({...newRawMaterial, material_type: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            >\n              {materialTypes.map(type => (\n                <option key={type} value={type}>{type}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</label>\n            <input\n              type=\"number\"\n              value={newRawMaterial.inner_diameter}\n              onChange={(e) => setNewRawMaterial({...newRawMaterial, inner_diameter: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ</label>\n            <input\n              type=\"number\"\n              value={newRawMaterial.outer_diameter}\n              onChange={(e) => setNewRawMaterial({...newRawMaterial, outer_diameter: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ (Ù…Ù…)</label>\n            <input\n              type=\"number\"\n              value={newRawMaterial.height}\n              onChange={(e) => setNewRawMaterial({...newRawMaterial, height: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹</label>\n            <input\n              type=\"number\"\n              value={newRawMaterial.pieces_count}\n              onChange={(e) => setNewRawMaterial({...newRawMaterial, pieces_count: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ù„Ù„ÙŠ</label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              value={newRawMaterial.cost_per_mm}\n              onChange={(e) => setNewRawMaterial({...newRawMaterial, cost_per_mm: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n        </div>\n        \n        <p className=\"text-sm text-gray-600 mt-4\">\n          Ù…Ù„Ø§Ø­Ø¸Ø©: Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø§Ù„ÙˆØ­Ø¯Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø© ÙˆØ§Ù„Ù…ÙˆØ§ØµÙØ§Øª\n        </p>\n        \n        <button\n          onClick={addRawMaterial}\n          className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mb-4\"\n        >\n          Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø© Ø®Ø§Ù…\n        </button>\n\n        {/* Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø« */}\n        <div className=\"mb-4\">\n          <input\n            type=\"text\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            placeholder=\"Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø§Ù… (Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø©ØŒ ÙƒÙˆØ¯ Ø§Ù„ÙˆØ­Ø¯Ø©ØŒ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª...)\"\n            className=\"w-full p-3 border border-gray-300 rounded-lg\"\n          />\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse border border-gray-300\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø©</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø§Ø±ØªÙØ§Ø¹</th>\n                <th className=\"border border-gray-300 p-2\">Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹</th>\n                <th className=\"border border-gray-300 p-2\">ÙƒÙˆØ¯ Ø§Ù„ÙˆØ­Ø¯Ø©</th>\n                <th className=\"border border-gray-300 p-2\">ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ù„Ù„ÙŠ</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredRawMaterials.map(material => (\n                <tr key={material.id}>\n                  <td className=\"border border-gray-300 p-2\">{material.material_type}</td>\n                  <td className=\"border border-gray-300 p-2\">{material.inner_diameter}</td>\n                  <td className=\"border border-gray-300 p-2\">{material.outer_diameter}</td>\n                  <td className=\"border border-gray-300 p-2\">{material.height}</td>\n                  <td className=\"border border-gray-300 p-2\">{material.pieces_count}</td>\n                  <td className=\"border border-gray-300 p-2\">{material.unit_code}</td>\n                  <td className=\"border border-gray-300 p-2\">{material.cost_per_mm}</td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <button\n                      onClick={() => deleteRawMaterial(material.id)}\n                      className=\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\"\n                    >\n                      Ø­Ø°Ù\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Finished Products Section */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„ØªØ§Ù…</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠÙ„</label>\n            <select\n              value={newFinishedProduct.seal_type}\n              onChange={(e) => setNewFinishedProduct({...newFinishedProduct, seal_type: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            >\n              {sealTypes.map(type => (\n                <option key={type} value={type}>{type}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø©</label>\n            <select\n              value={newFinishedProduct.material_type}\n              onChange={(e) => setNewFinishedProduct({...newFinishedProduct, material_type: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            >\n              {materialTypes.map(type => (\n                <option key={type} value={type}>{type}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</label>\n            <input\n              type=\"number\"\n              value={newFinishedProduct.inner_diameter}\n              onChange={(e) => setNewFinishedProduct({...newFinishedProduct, inner_diameter: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ</label>\n            <input\n              type=\"number\"\n              value={newFinishedProduct.outer_diameter}\n              onChange={(e) => setNewFinishedProduct({...newFinishedProduct, outer_diameter: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø³ÙŠÙ„</label>\n            <input\n              type=\"number\"\n              value={newFinishedProduct.height}\n              onChange={(e) => setNewFinishedProduct({...newFinishedProduct, height: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„ÙƒÙ…ÙŠØ©</label>\n            <input\n              type=\"number\"\n              value={newFinishedProduct.quantity}\n              onChange={(e) => setNewFinishedProduct({...newFinishedProduct, quantity: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©</label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              value={newFinishedProduct.unit_price}\n              onChange={(e) => setNewFinishedProduct({...newFinishedProduct, unit_price: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n        </div>\n        \n        <button\n          onClick={addFinishedProduct}\n          className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 mb-4\"\n        >\n          Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù†Ù‡Ø§Ø¦ÙŠ\n        </button>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse border border-gray-300\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠÙ„</th>\n                <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø©</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø§Ø±ØªÙØ§Ø¹</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n                <th className=\"border border-gray-300 p-2\">Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredFinishedProducts.map(product => (\n                <tr key={product.id}>\n                  <td className=\"border border-gray-300 p-2\">{product.seal_type}</td>\n                  <td className=\"border border-gray-300 p-2\">{product.material_type}</td>\n                  <td className=\"border border-gray-300 p-2\">{product.inner_diameter}</td>\n                  <td className=\"border border-gray-300 p-2\">{product.outer_diameter}</td>\n                  <td className=\"border border-gray-300 p-2\">{product.height}</td>\n                  <td className=\"border border-gray-300 p-2\">{product.quantity}</td>\n                  <td className=\"border border-gray-300 p-2\">{product.unit_price}</td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <button\n                      onClick={() => deleteFinishedProduct(product.id)}\n                      className=\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\"\n                    >\n                      Ø­Ø°Ù\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Deferred Payments Component\nconst Deferred = () => {\n  const [unpaidInvoices, setUnpaidInvoices] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [paymentAmount, setPaymentAmount] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('Ù†Ù‚Ø¯ÙŠ');\n  const [paymentNotes, setPaymentNotes] = useState('');\n  const [selectedInvoice, setSelectedInvoice] = useState(null);\n\n  useEffect(() => {\n    fetchUnpaidInvoices();\n    fetchCustomers();\n  }, []);\n\n  const fetchUnpaidInvoices = async () => {\n    try {\n      const response = await axios.get(`${API}/invoices`);\n      const invoices = response.data.filter(invoice => \n        invoice.status === 'ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©' || \n        invoice.status === 'Ù…Ø¯ÙÙˆØ¹Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹' || \n        invoice.status === 'Ø§Ù†ØªØ¸Ø§Ø±' ||\n        invoice.remaining_amount > 0\n      );\n      setUnpaidInvoices(invoices);\n    } catch (error) {\n      console.error('Error fetching unpaid invoices:', error);\n    }\n  };\n\n  const fetchCustomers = async () => {\n    try {\n      const response = await axios.get(`${API}/customers`);\n      setCustomers(response.data);\n    } catch (error) {\n      console.error('Error fetching customers:', error);\n    }\n  };\n\n  const getCustomerName = (customerId) => {\n    const customer = customers.find(c => c.id === customerId);\n    return customer ? customer.name : 'Ø¹Ù…ÙŠÙ„ ØºÙŠØ± Ù…Ø­Ø¯Ø¯';\n  };\n\n  const makePayment = async () => {\n    if (!selectedInvoice || !paymentAmount) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø¨Ù„Øº');\n      return;\n    }\n\n    if (parseFloat(paymentAmount) > selectedInvoice.remaining_amount) {\n      alert('Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯Ø®Ù„ Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚');\n      return;\n    }\n\n    try {\n      await axios.post(`${API}/payments`, {\n        invoice_id: selectedInvoice.id,\n        amount: parseFloat(paymentAmount),\n        payment_method: paymentMethod,\n        notes: paymentNotes\n      });\n\n      setPaymentAmount('');\n      setPaymentNotes('');\n      setSelectedInvoice(null);\n      fetchUnpaidInvoices();\n      alert('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹Ø© Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error making payment:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹Ø©');\n    }\n  };\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-blue-600 mb-4\">Ø§Ù„Ø¢Ø¬Ù„ - Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</h2>\n        \n        <div className=\"flex space-x-4 space-x-reverse mb-4\">\n          <button className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">\n            Ø­Ø°Ù Ø§Ù„ÙƒÙ„\n          </button>\n          <button \n            onClick={fetchUnpaidInvoices}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„\n          </button>\n          <button \n            onClick={() => window.print()}\n            className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">\n            Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±\n          </button>\n          <select className=\"border border-gray-300 rounded px-3 py-2\">\n            <option>ÙŠÙˆÙ…ÙŠ</option>\n            <option>Ø£Ø³Ø¨ÙˆØ¹ÙŠ</option>\n            <option>Ø´Ù‡Ø±ÙŠ</option>\n            <option>Ø³Ù†ÙˆÙŠ</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Payment Form */}\n      {selectedInvoice && (\n        <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹Ø©</h3>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©</label>\n              <input\n                type=\"text\"\n                value={selectedInvoice.invoice_number}\n                disabled\n                className=\"w-full p-2 border border-gray-300 rounded bg-gray-100\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ø¹Ù…ÙŠÙ„</label>\n              <input\n                type=\"text\"\n                value={selectedInvoice.customer_name}\n                disabled\n                className=\"w-full p-2 border border-gray-300 rounded bg-gray-100\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚</label>\n              <input\n                type=\"text\"\n                value={`Ø¬.Ù… ${selectedInvoice.remaining_amount?.toFixed(2) || '0.00'}`}\n                disabled\n                className=\"w-full p-2 border border-gray-300 rounded bg-gray-100\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ù…Ø¨Ù„Øº Ø§Ù„Ø¯ÙØ¹Ø©</label>\n              <input\n                type=\"number\"\n                step=\"0.01\"\n                value={paymentAmount}\n                onChange={(e) => setPaymentAmount(e.target.value)}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n                placeholder=\"0.00\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>\n              <select\n                value={paymentMethod}\n                onChange={(e) => setPaymentMethod(e.target.value)}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n              >\n                <option value=\"Ù†Ù‚Ø¯ÙŠ\">Ù†Ù‚Ø¯ÙŠ</option>\n                <option value=\"ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ù…Ø­Ù…Ø¯ Ø§Ù„ØµØ§ÙˆÙŠ\">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ù…Ø­Ù…Ø¯ Ø§Ù„ØµØ§ÙˆÙŠ</option>\n                <option value=\"ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„ Ù…Ø­Ù…Ø¯\">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„ Ù…Ø­Ù…Ø¯</option>\n                <option value=\"Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ\">Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ</option>\n              </select>\n            </div>\n            \n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium mb-1\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>\n              <input\n                type=\"text\"\n                value={paymentNotes}\n                onChange={(e) => setPaymentNotes(e.target.value)}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n                placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"flex space-x-4 space-x-reverse\">\n            <button\n              onClick={makePayment}\n              className=\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\"\n            >\n              ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹Ø©\n            </button>\n            <button\n              onClick={() => setSelectedInvoice(null)}\n              className=\"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600\"\n            >\n              Ø¥Ù„ØºØ§Ø¡\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Unpaid Invoices */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø§Ù„ÙÙˆØ§ØªÙŠØ± ØºÙŠØ± Ø§Ù„Ù…Ø³Ø¯Ø¯Ø©</h3>\n        \n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse border border-gray-300\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"border border-gray-300 p-2\">Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø¯ÙÙˆØ¹</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø³ØªØ­Ù‚</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø­Ø§Ù„Ø©</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n              </tr>\n            </thead>\n            <tbody>\n              {unpaidInvoices.map((invoice) => (\n                <tr key={invoice.id}>\n                  <td className=\"border border-gray-300 p-2\">{invoice.invoice_number}</td>\n                  <td className=\"border border-gray-300 p-2\">{invoice.customer_name}</td>\n                  <td className=\"border border-gray-300 p-2\">\n                    {new Date(invoice.date).toLocaleDateString('ar-EG')}\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">Ø¬.Ù… {invoice.total_amount?.toFixed(2) || '0.00'}</td>\n                  <td className=\"border border-gray-300 p-2\">Ø¬.Ù… {invoice.paid_amount?.toFixed(2) || '0.00'}</td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <span className=\"font-bold text-red-600\">\n                      Ø¬.Ù… {invoice.remaining_amount?.toFixed(2) || '0.00'}\n                    </span>\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <span className={`px-2 py-1 rounded text-sm ${\n                      invoice.status === 'ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©' ? 'bg-red-100 text-red-800' :\n                      invoice.status === 'Ù…Ø¯ÙÙˆØ¹Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹' ? 'bg-yellow-100 text-yellow-800' :\n                      'bg-green-100 text-green-800'\n                    }`}>\n                      {invoice.status}\n                    </span>\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <div className=\"flex space-x-2 space-x-reverse\">\n                      <button\n                        onClick={() => setSelectedInvoice(invoice)}\n                        className=\"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600\"\n                      >\n                        Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙØ¹Ø§Øª\n                      </button>\n                      <button\n                        onClick={() => setSelectedInvoice(invoice)}\n                        className=\"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600\"\n                      >\n                        Ø¯ÙØ¹\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          \n          {unpaidInvoices.length === 0 && (\n            <div className=\"text-center py-8 text-gray-500\">\n              Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙˆØ§ØªÙŠØ± ØºÙŠØ± Ù…Ø³Ø¯Ø¯Ø©\n            </div>\n          )}\n        </div>\n\n        {/* Summary */}\n        <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"bg-red-50 p-4 rounded\">\n            <h4 className=\"font-semibold text-red-800\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©</h4>\n            <p className=\"text-2xl font-bold text-red-600\">\n              Ø¬.Ù… {unpaidInvoices.reduce((sum, inv) => sum + (inv.remaining_amount || 0), 0).toFixed(2)}\n            </p>\n          </div>\n          \n          <div className=\"bg-yellow-50 p-4 rounded\">\n            <h4 className=\"font-semibold text-yellow-800\">Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©</h4>\n            <p className=\"text-2xl font-bold text-yellow-600\">{unpaidInvoices.length}</p>\n          </div>\n          \n          <div className=\"bg-blue-50 p-4 rounded\">\n            <h4 className=\"font-semibold text-blue-800\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø£ØµÙ„ÙŠ</h4>\n            <p className=\"text-2xl font-bold text-blue-600\">\n              Ø¬.Ù… {unpaidInvoices.reduce((sum, inv) => sum + (inv.total_amount || 0), 0).toFixed(2)}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Expenses Component\nconst Expenses = () => {\n  const [expenses, setExpenses] = useState([]);\n  const [newExpense, setNewExpense] = useState({\n    description: '',\n    amount: '',\n    category: 'Ø®Ø§Ù…Ø§Øª'\n  });\n\n  const expenseCategories = ['Ø®Ø§Ù…Ø§Øª', 'Ø±ÙˆØ§ØªØ¨', 'ÙƒÙ‡Ø±Ø¨Ø§Ø¡', 'ØµÙŠØ§Ù†Ø©', 'Ø£Ø®Ø±Ù‰'];\n\n  useEffect(() => {\n    fetchExpenses();\n  }, []);\n\n  const fetchExpenses = async () => {\n    try {\n      const response = await axios.get(`${API}/expenses`);\n      setExpenses(response.data);\n    } catch (error) {\n      console.error('Error fetching expenses:', error);\n    }\n  };\n\n  const addExpense = async () => {\n    if (!newExpense.description || !newExpense.amount) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');\n      return;\n    }\n\n    try {\n      await axios.post(`${API}/expenses`, {\n        ...newExpense,\n        amount: parseFloat(newExpense.amount)\n      });\n\n      setNewExpense({\n        description: '',\n        amount: '',\n        category: 'Ø®Ø§Ù…Ø§Øª'\n      });\n\n      fetchExpenses();\n      alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØµØ±ÙˆÙ Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error adding expense:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØµØ±ÙˆÙ');\n    }\n  };\n\n  const deleteExpense = async (expenseId) => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…ØµØ±ÙˆÙØŸ')) return;\n\n    try {\n      await axios.delete(`${API}/expenses/${expenseId}`);\n      fetchExpenses();\n      alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…ØµØ±ÙˆÙ Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error deleting expense:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…ØµØ±ÙˆÙ');\n    }\n  };\n\n  const getTotalExpenses = () => {\n    return expenses.reduce((sum, expense) => sum + expense.amount, 0);\n  };\n\n  const getExpensesByCategory = () => {\n    const byCategory = {};\n    expenseCategories.forEach(cat => {\n      byCategory[cat] = expenses\n        .filter(exp => exp.category === cat)\n        .reduce((sum, exp) => sum + exp.amount, 0);\n    });\n    return byCategory;\n  };\n\n  const clearAllExpenses = async () => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§ØªØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) return;\n    \n    try {\n      await axios.delete(`${API}/expenses/clear-all`);\n      fetchExpenses();\n      alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª');\n    } catch (error) {\n      console.error('Error clearing expenses:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n    }\n  };\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-blue-600 mb-4\">Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h2>\n        \n        <div className=\"flex space-x-4 space-x-reverse mb-4\">\n          <button \n            onClick={clearAllExpenses}\n            className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">\n            Ø­Ø°Ù Ø§Ù„ÙƒÙ„\n          </button>\n          <button \n            onClick={fetchExpenses}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„\n          </button>\n          <button \n            onClick={() => window.print()}\n            className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">\n            Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±\n          </button>\n          <select className=\"border border-gray-300 rounded px-3 py-2\">\n            <option>ÙŠÙˆÙ…ÙŠ</option>\n            <option>Ø£Ø³Ø¨ÙˆØ¹ÙŠ</option>\n            <option>Ø´Ù‡Ø±ÙŠ</option>\n            <option>Ø³Ù†ÙˆÙŠ</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Add New Expense */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ù…ØµØ±ÙˆÙ Ø¬Ø¯ÙŠØ¯</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">ÙˆØµÙ Ø§Ù„Ù…ØµØ±ÙˆÙ</label>\n            <input\n              type=\"text\"\n              value={newExpense.description}\n              onChange={(e) => setNewExpense({...newExpense, description: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n              placeholder=\"Ù…Ø«Ø§Ù„: Ø´Ø±Ø§Ø¡ Ø®Ø§Ù…Ø§ØªØŒ ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø§Ù„Ù…ØµÙ†Ø¹\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù…Ø¨Ù„Øº</label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              value={newExpense.amount}\n              onChange={(e) => setNewExpense({...newExpense, amount: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n              placeholder=\"0.00\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„ÙØ¦Ø©</label>\n            <select\n              value={newExpense.category}\n              onChange={(e) => setNewExpense({...newExpense, category: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            >\n              {expenseCategories.map(category => (\n                <option key={category} value={category}>{category}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n        \n        <button\n          onClick={addExpense}\n          className=\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\"\n        >\n          Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØµØ±ÙˆÙ\n        </button>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6\">\n        <div className=\"bg-red-50 p-6 rounded-lg\">\n          <h3 className=\"text-lg font-semibold text-red-800 mb-2\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h3>\n          <p className=\"text-3xl font-bold text-red-600\">\n            Ø¬.Ù… {getTotalExpenses().toFixed(2)}\n          </p>\n        </div>\n        \n        <div className=\"bg-blue-50 p-6 rounded-lg\">\n          <h3 className=\"text-lg font-semibold text-blue-800 mb-2\">Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h3>\n          <p className=\"text-3xl font-bold text-blue-600\">{expenses.length}</p>\n        </div>\n        \n        <div className=\"bg-yellow-50 p-6 rounded-lg\">\n          <h3 className=\"text-lg font-semibold text-yellow-800 mb-2\">Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…ØµØ±ÙˆÙ</h3>\n          <p className=\"text-3xl font-bold text-yellow-600\">\n            Ø¬.Ù… {expenses.length > 0 ? (getTotalExpenses() / expenses.length).toFixed(2) : '0.00'}\n          </p>\n        </div>\n      </div>\n\n      {/* Expenses by Category */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n          {Object.entries(getExpensesByCategory()).map(([category, amount]) => (\n            <div key={category} className=\"text-center p-4 border rounded\">\n              <h4 className=\"font-medium text-gray-700\">{category}</h4>\n              <p className=\"text-xl font-bold text-blue-600\">Ø¬.Ù… {amount.toFixed(2)}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Expenses List */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h3>\n        \n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse border border-gray-300\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„ÙˆØµÙ</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø¨Ù„Øº</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„ÙØ¦Ø©</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n              </tr>\n            </thead>\n            <tbody>\n              {expenses.map((expense) => (\n                <tr key={expense.id}>\n                  <td className=\"border border-gray-300 p-2\">{expense.description}</td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <span className=\"font-semibold text-red-600\">\n                      Ø¬.Ù… {expense.amount.toFixed(2)}\n                    </span>\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <span className={`px-2 py-1 rounded text-sm ${\n                      expense.category === 'Ø®Ø§Ù…Ø§Øª' ? 'bg-blue-100 text-blue-800' :\n                      expense.category === 'Ø±ÙˆØ§ØªØ¨' ? 'bg-green-100 text-green-800' :\n                      expense.category === 'ÙƒÙ‡Ø±Ø¨Ø§Ø¡' ? 'bg-yellow-100 text-yellow-800' :\n                      expense.category === 'ØµÙŠØ§Ù†Ø©' ? 'bg-purple-100 text-purple-800' :\n                      'bg-gray-100 text-gray-800'\n                    }`}>\n                      {expense.category}\n                    </span>\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    {new Date(expense.date).toLocaleDateString('ar-EG')}\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <button \n                      onClick={() => deleteExpense(expense.id)}\n                      className=\"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600\">\n                      Ø­Ø°Ù\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          \n          {expenses.length === 0 && (\n            <div className=\"text-center py-8 text-gray-500\">\n              Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø³Ø¬Ù„Ø©\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Revenue Component\nconst Revenue = () => {\n  const [revenueData, setRevenueData] = useState({\n    total_revenue: 0,\n    total_expenses: 0,\n    material_cost: 0,\n    profit: 0\n  });\n  const [period, setPeriod] = useState('daily');\n\n  useEffect(() => {\n    fetchRevenueData();\n  }, [period]);\n\n  const fetchRevenueData = async () => {\n    try {\n      const response = await axios.get(`${API}/reports/revenue?period=${period}`);\n      setRevenueData(response.data);\n    } catch (error) {\n      console.error('Error fetching revenue data:', error);\n    }\n  };\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-blue-600 mb-4\">Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</h2>\n        \n        <div className=\"flex space-x-4 space-x-reverse mb-4\">\n          <button className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">\n            Ø­Ø°Ù Ø§Ù„ÙƒÙ„\n          </button>\n          <button \n            onClick={fetchRevenueData}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„\n          </button>\n          <button \n            onClick={() => window.print()}\n            className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">\n            Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±\n          </button>\n          <select \n            value={period}\n            onChange={(e) => setPeriod(e.target.value)}\n            className=\"border border-gray-300 rounded px-3 py-2\">\n            <option value=\"daily\">Ø§Ù„ÙŠÙˆÙ…</option>\n            <option value=\"weekly\">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</option>\n            <option value=\"monthly\">Ø§Ù„Ø´Ù‡Ø±</option>\n            <option value=\"yearly\">Ø§Ù„Ø³Ù†Ø©</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* Revenue Cards */}\n        <div className=\"bg-green-50 p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold text-green-800 text-center mb-2\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</h3>\n          <p className=\"text-3xl font-bold text-green-600 text-center\">\n            Ø¬.Ù… {revenueData.total_revenue?.toFixed(2) || '0.00'}\n          </p>\n        </div>\n        \n        <div className=\"bg-red-50 p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold text-red-800 text-center mb-2\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</h3>\n          <p className=\"text-3xl font-bold text-red-600 text-center\">\n            Ø¬.Ù… {revenueData.total_expenses?.toFixed(2) || '0.00'}\n          </p>\n        </div>\n        \n        <div className=\"bg-yellow-50 p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold text-yellow-800 text-center mb-2\">ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø§Ù…Ø§Øª</h3>\n          <p className=\"text-3xl font-bold text-yellow-600 text-center\">\n            Ø¬.Ù… {revenueData.material_cost?.toFixed(2) || '0.00'}\n          </p>\n        </div>\n        \n        <div className=\"bg-blue-50 p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold text-blue-800 text-center mb-2\">ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­</h3>\n          <p className={`text-3xl font-bold text-center ${\n            (revenueData.profit || 0) >= 0 ? 'text-blue-600' : 'text-red-600'\n          }`}>\n            Ø¬.Ù… {revenueData.profit?.toFixed(2) || '0.00'}\n          </p>\n        </div>\n      </div>\n\n      {/* Summary Table */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md mt-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª - {\n          period === 'daily' ? 'ÙŠÙˆÙ…ÙŠ' :\n          period === 'weekly' ? 'Ø£Ø³Ø¨ÙˆØ¹ÙŠ' :\n          period === 'monthly' ? 'Ø´Ù‡Ø±ÙŠ' : 'Ø³Ù†ÙˆÙŠ'\n        }</h3>\n        \n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse border border-gray-300\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"border border-gray-300 p-3\">Ø§Ù„Ø¨ÙŠØ§Ù†</th>\n                <th className=\"border border-gray-300 p-3\">Ø§Ù„Ù…Ø¨Ù„Øº (Ø¬.Ù…)</th>\n                <th className=\"border border-gray-300 p-3\">Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td className=\"border border-gray-300 p-3 font-semibold\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</td>\n                <td className=\"border border-gray-300 p-3 text-green-600 font-bold\">\n                  {revenueData.total_revenue?.toFixed(2) || '0.00'}\n                </td>\n                <td className=\"border border-gray-300 p-3\">100%</td>\n              </tr>\n              <tr>\n                <td className=\"border border-gray-300 p-3\">ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø§Ù…Ø§Øª</td>\n                <td className=\"border border-gray-300 p-3 text-yellow-600 font-semibold\">\n                  -{revenueData.material_cost?.toFixed(2) || '0.00'}\n                </td>\n                <td className=\"border border-gray-300 p-3\">\n                  {revenueData.total_revenue > 0 \n                    ? ((revenueData.material_cost / revenueData.total_revenue) * 100).toFixed(1) \n                    : '0.0'}%\n                </td>\n              </tr>\n              <tr>\n                <td className=\"border border-gray-300 p-3\">Ù…ØµØ±ÙˆÙØ§Øª Ø£Ø®Ø±Ù‰</td>\n                <td className=\"border border-gray-300 p-3 text-red-600 font-semibold\">\n                  -{((revenueData.total_expenses || 0) - (revenueData.material_cost || 0)).toFixed(2)}\n                </td>\n                <td className=\"border border-gray-300 p-3\">\n                  {revenueData.total_revenue > 0 \n                    ? (((revenueData.total_expenses - revenueData.material_cost) / revenueData.total_revenue) * 100).toFixed(1) \n                    : '0.0'}%\n                </td>\n              </tr>\n              <tr className=\"bg-blue-50\">\n                <td className=\"border border-gray-300 p-3 font-bold\">ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­</td>\n                <td className={`border border-gray-300 p-3 font-bold ${\n                  (revenueData.profit || 0) >= 0 ? 'text-blue-600' : 'text-red-600'\n                }`}>\n                  {revenueData.profit?.toFixed(2) || '0.00'}\n                </td>\n                <td className=\"border border-gray-300 p-3 font-bold\">\n                  {revenueData.total_revenue > 0 \n                    ? ((revenueData.profit / revenueData.total_revenue) * 100).toFixed(1) \n                    : '0.0'}%\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Performance Indicators */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md mt-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"text-center p-4 border rounded\">\n            <h4 className=\"font-medium text-gray-700 mb-2\">Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­</h4>\n            <p className={`text-2xl font-bold ${\n              (revenueData.profit || 0) >= 0 ? 'text-green-600' : 'text-red-600'\n            }`}>\n              {revenueData.total_revenue > 0 \n                ? ((revenueData.profit / revenueData.total_revenue) * 100).toFixed(1) \n                : '0.0'}%\n            </p>\n          </div>\n          \n          <div className=\"text-center p-4 border rounded\">\n            <h4 className=\"font-medium text-gray-700 mb-2\">Ù†Ø³Ø¨Ø© ØªÙƒÙ„ÙØ© Ø§Ù„Ø®Ø§Ù…Ø§Øª</h4>\n            <p className=\"text-2xl font-bold text-yellow-600\">\n              {revenueData.total_revenue > 0 \n                ? ((revenueData.material_cost / revenueData.total_revenue) * 100).toFixed(1) \n                : '0.0'}%\n            </p>\n          </div>\n          \n          <div className=\"text-center p-4 border rounded\">\n            <h4 className=\"font-medium text-gray-700 mb-2\">Ù†Ø³Ø¨Ø© Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</h4>\n            <p className=\"text-2xl font-bold text-red-600\">\n              {revenueData.total_revenue > 0 \n                ? ((revenueData.total_expenses / revenueData.total_revenue) * 100).toFixed(1) \n                : '0.0'}%\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Invoices Component\nconst Invoices = () => {\n  const [invoices, setInvoices] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [filterStatus, setFilterStatus] = useState('');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [editingInvoice, setEditingInvoice] = useState(null);\n  const [editForm, setEditForm] = useState({\n    invoice_title: '',\n    supervisor_name: '',\n    customer_name: '',\n    payment_method: 'Ù†Ù‚Ø¯ÙŠ',\n    discount_type: 'amount',\n    discount_value: 0,\n    items: [],\n    notes: ''\n  });\n\n  useEffect(() => {\n    fetchInvoices();\n    fetchCustomers();\n  }, []);\n\n  const fetchInvoices = async () => {\n    try {\n      const response = await axios.get(`${API}/invoices`);\n      setInvoices(response.data);\n    } catch (error) {\n      console.error('Error fetching invoices:', error);\n    }\n  };\n\n  const fetchCustomers = async () => {\n    try {\n      const response = await axios.get(`${API}/customers`);\n      setCustomers(response.data);\n    } catch (error) {\n      console.error('Error fetching customers:', error);\n    }\n  };\n\n  const deleteInvoice = async (invoiceId) => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©ØŸ')) return;\n\n    try {\n      await axios.delete(`${API}/invoices/${invoiceId}`);\n      fetchInvoices();\n      alert('ØªÙ… Ø­Ø°Ù Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error deleting invoice:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ÙØ§ØªÙˆØ±Ø©');\n    }\n  };\n\n  const startEditInvoice = (invoice) => {\n    setEditingInvoice(invoice.id);\n    setEditForm({\n      invoice_title: invoice.invoice_title || '',\n      supervisor_name: invoice.supervisor_name || '',\n      customer_name: invoice.customer_name || '',\n      payment_method: invoice.payment_method || 'Ù†Ù‚Ø¯ÙŠ',\n      discount_type: invoice.discount_type || 'amount',\n      discount_value: invoice.discount_value || 0,\n      items: invoice.items || [],\n      notes: invoice.notes || ''\n    });\n  };\n\n  const cancelEdit = () => {\n    setEditingInvoice(null);\n    setEditForm({\n      invoice_title: '',\n      supervisor_name: '',\n      customer_name: '',\n      payment_method: 'Ù†Ù‚Ø¯ÙŠ',\n      discount_type: 'amount',\n      discount_value: 0,\n      items: [],\n      notes: ''\n    });\n  };\n\n  const saveInvoiceEdit = async () => {\n    if (!editForm.customer_name.trim()) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„');\n      return;\n    }\n\n    try {\n      // Calculate totals\n      const subtotal = editForm.items.reduce((sum, item) => sum + (item.total_price || 0), 0);\n      let discountAmount = 0;\n      \n      if (editForm.discount_type === 'percentage') {\n        discountAmount = (subtotal * parseFloat(editForm.discount_value || 0)) / 100;\n      } else {\n        discountAmount = parseFloat(editForm.discount_value || 0);\n      }\n      \n      const totalAfterDiscount = subtotal - discountAmount;\n\n      const updatedInvoice = {\n        ...editForm,\n        subtotal: subtotal,\n        discount: discountAmount,\n        total_after_discount: totalAfterDiscount,\n        total_amount: totalAfterDiscount\n      };\n\n      await axios.put(`${API}/invoices/${editingInvoice}`, updatedInvoice);\n      fetchInvoices();\n      cancelEdit();\n      alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error updating invoice:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ§ØªÙˆØ±Ø©: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const updateInvoiceStatus = async (invoiceId, newStatus) => {\n    try {\n      await axios.put(`${API}/invoices/${invoiceId}/status`, \n        { status: newStatus }, {\n        headers: { 'Content-Type': 'application/json' }\n      });\n      fetchInvoices();\n      alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©');\n    } catch (error) {\n      console.error('Error updating invoice status:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§ØªÙˆØ±Ø©');\n    }\n  };\n\n  const printInvoice = (invoice) => {\n    const printContent = `\n      <!DOCTYPE html>\n      <html dir=\"rtl\">\n      <head>\n        <meta charset=\"UTF-8\">\n        <style>\n          body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 20px;\n            direction: rtl;\n            font-size: 15px;\n          }\n          .header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            border-bottom: 3px solid #000;\n            padding-bottom: 10px;\n            margin-bottom: 20px;\n          }\n          .company-info {\n            text-align: right;\n          }\n          .company-name {\n            font-size: 32px;\n            font-weight: bold;\n            color: #000;\n            margin: 0;\n          }\n          .company-subtitle {\n            font-size: 20px;\n            margin: 5px 0;\n            color: #666;\n          }\n          .company-details {\n            font-size: 16px;\n            margin: 2px 0;\n            color: #333;\n          }\n          .logo-section {\n            text-align: center;\n            flex: 1;\n          }\n          .invoice-title {\n            font-size: 22px;\n            font-weight: bold;\n            background-color: #ff4444;\n            color: white;\n            padding: 8px 20px;\n            border-radius: 5px;\n            display: inline-block;\n            margin-bottom: 10px;\n          }\n          .invoice-number {\n            font-size: 20px;\n            font-weight: bold;\n            color: #ff4444;\n          }\n          .customer-info {\n            display: flex;\n            justify-content: space-between;\n            margin: 20px 0;\n          }\n          .customer-details {\n            text-align: right;\n          }\n          .date-info {\n            text-align: left;\n          }\n          .products-table {\n            width: 100%;\n            border-collapse: collapse;\n            border: 2px solid #000;\n            margin: 20px 0;\n          }\n          .products-table th,\n          .products-table td {\n            border: 1px solid #000;\n            padding: 8px;\n            text-align: center;\n          }\n          .products-table th {\n            background-color: #f0f0f0;\n            font-weight: bold;\n          }\n          .footer {\n            margin-top: 30px;\n            border-top: 1px solid #ccc;\n            padding-top: 15px;\n            display: flex;\n            justify-content: space-between;\n            font-size: 13px;\n            color: #666;\n          }\n          .total-section {\n            text-align: left;\n            margin-top: 10px;\n          }\n          .total-amount {\n            font-size: 20px;\n            font-weight: bold;\n            border: 2px solid #000;\n            padding: 10px;\n            display: inline-block;\n            background-color: #f9f9f9;\n          }\n          @media print {\n            body { margin: 0; padding: 10px; }\n          }\n        </style>\n      </head>\n      <body>\n        <!-- Header Section -->\n        <div class=\"header\">\n          <div class=\"company-info\">\n            <h1 class=\"company-name\">Ø´Ø±ÙƒØ© Ù…Ø§Ø³ØªØ± Ø³ÙŠÙ„</h1>\n            <p class=\"company-subtitle\">ØªØµÙ†ÙŠØ¹ Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£ÙˆÙŠÙ„ Ø³ÙŠÙ„</p>\n            <p class=\"company-details\">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø·Ø§Ø± Ø­ØªÙ‰ Ù¥Ù Ù Ù…Ù„</p>\n            <p class=\"company-details\">Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ - Ù†ÙŠÙˆÙ…Ø§ØªÙŠÙƒ</p>\n          </div>\n          \n          <div class=\"logo-section\">\n            <img src=\"https://customer-assets.emergentagent.com/job_oilseal-mgmt/artifacts/42i3e7yn_WhatsApp%20Image%202025-07-31%20at%2015.14.10_e8c55120.jpg\" \n                 alt=\"Master Seal Logo\" \n                 style=\"max-width: 120px; max-height: 80px; margin-bottom: 10px;\">\n            <div class=\"invoice-title\">${invoice.invoice_title || 'Ø¹Ø±Ø¶ Ø³Ø¹Ø±'}</div>\n            <div class=\"invoice-number\">${invoice.invoice_number}</div>\n          </div>\n        </div>\n\n        <!-- Customer and Date Info -->\n        <div class=\"customer-info\">\n          <div class=\"customer-details\">\n            <p><strong>Ø§Ù„Ø³Ø§Ø¯Ø©:</strong> ${invoice.customer_name}</p>\n            <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${invoice.customer_address || '........................'}</p>\n          </div>\n          <div class=\"date-info\">\n            <p><strong>ØªØ­Ø±ÙŠØ± ÙÙŠ:</strong> ${new Date(invoice.date).toLocaleDateString('ar-EG')}</p>\n            <p><strong>Date:</strong> ${new Date(invoice.date).toLocaleDateString('en-GB')}</p>\n          </div>\n        </div>\n\n        <!-- Products Table -->\n        <table class=\"products-table\">\n          <thead>\n            <tr>\n              <th style=\"width: 60px;\">Ø§Ù„Ù…Ø³Ù„Ø³Ù„<br>Item</th>\n              <th style=\"width: 80px;\">Ø§Ù„ÙƒÙ…ÙŠØ©<br>QTY</th>\n              <th style=\"width: 200px;\">Description<br>Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª</th>\n              <th style=\"width: 100px;\">Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©<br>Unit Price</th>\n              <th style=\"width: 100px;\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ<br>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${invoice.items.map((item, index) => `\n              <tr>\n                <td>${index + 1}</td>\n                <td>${item.quantity}</td>\n                <td style=\"text-align: right;\">\n                  ${item.local_product_details ? \n                    `${item.local_product_details.product_size} - ${item.local_product_details.product_type}` : \n                    `${item.seal_type} - ${item.material_type}<br>\n                    <small>${item.inner_diameter} Ã— ${item.outer_diameter} Ã— ${item.height} Ù…Ù…${item.wall_height ? ` (Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø­ÙŠØ·Ø©: ${item.wall_height} Ù…Ù…)` : \"\"}</small>`\n                  }\n                </td>\n                <td>Ø¬.Ù… ${item.unit_price.toFixed(2)}</td>\n                <td>Ø¬.Ù… ${item.total_price.toFixed(2)}</td>\n              </tr>\n            `).join('')}\n            <!-- Empty rows for additional items -->\n            ${Array.from({length: Math.max(0, 8 - invoice.items.length)}, (_, i) => `\n              <tr style=\"height: 40px;\">\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n              </tr>\n            `).join('')}\n          </tbody>\n        </table>\n\n        <!-- Total Section -->\n        <div class=\"total-section\">\n          <div style=\"text-align: left; margin-bottom: 10px;\">\n            ${invoice.subtotal ? `\n              <div style=\"margin-bottom: 5px;\">\n                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ: Ø¬.Ù… ${invoice.subtotal.toFixed(2)}</span>\n              </div>\n            ` : ''}\n            ${invoice.discount && invoice.discount > 0 ? `\n              <div style=\"margin-bottom: 5px; color: #d32f2f;\">\n                <span>Ø§Ù„Ø®ØµÙ…: - Ø¬.Ù… ${invoice.discount.toFixed(2)}</span>\n                ${invoice.discount_type === 'percentage' && invoice.discount_value ? \n                  ` <small>(${invoice.discount_value}%)</small>` : ''}\n              </div>\n              <hr style=\"margin: 5px 0; border: 1px solid #000;\">\n            ` : ''}\n          </div>\n          <div class=\"total-amount\">\n            Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: Ø¬.Ù… ${(invoice.total_after_discount || invoice.total_amount).toFixed(2)}\n          </div>\n        </div>\n\n        <!-- Additional Info -->\n        <div style=\"margin-top: 20px; text-align: center; font-size: 13px;\">\n          <p><strong>Ù…Ù„Ø­ÙˆØ¸Ø©:</strong> ÙÙ‚Ø· ÙˆÙ‚Ø¯Ø±Ù‡</p>\n          <div style=\"height: 30px; border-bottom: 1px solid #000; margin: 10px 40px;\"></div>\n        </div>\n\n        <!-- Footer -->\n        <div class=\"footer\">\n          <div>\n            <p><strong>Ø§Ù„ØªÙˆÙ‚ÙŠØ¹:</strong></p>\n            <p>Ù…ÙˆØ¨Ø§ÙŠÙ„: Ù Ù¡Ù Ù¢Ù Ù¦Ù£Ù Ù¦Ù§Ù§ - Ù Ù¡Ù Ù¦Ù¢Ù£Ù©Ù Ù¨Ù§Ù </p>\n            <p>ØªÙ„ÙŠÙÙˆÙ†: Ù Ù¡Ù Ù¢Ù Ù¦Ù£Ù Ù¦Ù§Ù§</p>\n          </div>\n          <div style=\"text-align: left;\">\n            <p><strong>Ø§Ù„Ù…Ø³ØªÙ„Ù…:</strong></p>\n            <p>Ø§Ù„Ø­Ø±ÙÙŠÙŠÙ† - Ø§Ù„Ø³Ù„Ø§Ù… - Ø£Ù…Ø§Ù… Ø§Ù„Ø³ÙˆØ¨Ø± Ø¬ÙŠØª</p>\n            <p>Ù…ÙˆØ¨Ø§ÙŠÙ„: Ù Ù¡Ù Ù¢Ù Ù¦Ù£Ù Ù¦Ù§Ù§ - Ù Ù¡Ù Ù¦Ù¢Ù£Ù©Ù Ù¨Ù§Ù </p>\n          </div>\n        </div>\n\n        <!-- Note -->\n        <div style=\"text-align: center; margin-top: 20px; font-size: 12px; color: #666;\">\n          <p>ÙŠÙ‚Ø± Ø§Ù„Ù…Ø´ØªØ±ÙŠ Ø¨Ø£Ù†Ù‡ Ù‚Ø§Ù… Ø¨Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¨Ø¶Ø§Ø¹Ø© ÙˆÙ‚Ø¨ÙˆÙ„Ù‡Ø§</p>\n        </div>\n      </body>\n      </html>\n    `;\n    \n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(printContent);\n    printWindow.document.close();\n    printWindow.print();\n  };\n\n  const clearAllInvoices = async () => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ±ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) return;\n    \n    try {\n      await axios.delete(`${API}/invoices/clear-all`);\n      fetchInvoices();\n      alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ±');\n    } catch (error) {\n      console.error('Error clearing invoices:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n    }\n  };\n\n  const filteredInvoices = invoices.filter(invoice => {\n    const matchesStatus = filterStatus === '' || invoice.status === filterStatus;\n    const matchesSearch = searchTerm === '' || \n      invoice.invoice_number.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      invoice.customer_name.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesStatus && matchesSearch;\n  });\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-blue-600 mb-4\">Ø§Ù„ÙÙˆØ§ØªÙŠØ±</h2>\n        \n        <div className=\"flex space-x-4 space-x-reverse mb-4\">\n          <button \n            onClick={clearAllInvoices}\n            className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">\n            Ø­Ø°Ù Ø§Ù„ÙƒÙ„\n          </button>\n          <button \n            onClick={fetchInvoices}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„\n          </button>\n          <button \n            onClick={() => window.print()}\n            className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">\n            Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±\n          </button>\n          <select className=\"border border-gray-300 rounded px-3 py-2\">\n            <option>ÙŠÙˆÙ…ÙŠ</option>\n            <option>Ø£Ø³Ø¨ÙˆØ¹ÙŠ</option>\n            <option>Ø´Ù‡Ø±ÙŠ</option>\n            <option>Ø³Ù†ÙˆÙŠ</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"bg-white p-4 rounded-lg shadow-md mb-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ø¨Ø­Ø«</label>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„\"\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©</label>\n            <select\n              value={filterStatus}\n              onChange={(e) => setFilterStatus(e.target.value)}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            >\n              <option value=\"\">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>\n              <option value=\"Ù…Ø¯ÙÙˆØ¹Ø©\">Ù…Ø¯ÙÙˆØ¹Ø©</option>\n              <option value=\"ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©\">ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©</option>\n              <option value=\"Ù…Ø¯ÙÙˆØ¹Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹\">Ù…Ø¯ÙÙˆØ¹Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹</option>\n              <option value=\"Ø§Ù†ØªØ¸Ø§Ø±\">Ø§Ù†ØªØ¸Ø§Ø±</option>\n              <option value=\"ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°\">ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°</option>\n            </select>\n          </div>\n          \n          <div className=\"flex items-end\">\n            <button\n              onClick={() => { setSearchTerm(''); setFilterStatus(''); }}\n              className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\"\n            >\n              Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n        <div className=\"bg-blue-50 p-4 rounded-lg text-center\">\n          <h3 className=\"font-semibold text-blue-800\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</h3>\n          <p className=\"text-2xl font-bold text-blue-600\">{invoices.length}</p>\n        </div>\n        \n        <div className=\"bg-green-50 p-4 rounded-lg text-center\">\n          <h3 className=\"font-semibold text-green-800\">Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø©</h3>\n          <p className=\"text-2xl font-bold text-green-600\">\n            {invoices.filter(inv => inv.status === 'Ù…Ø¯ÙÙˆØ¹Ø©').length}\n          </p>\n        </div>\n        \n        <div className=\"bg-red-50 p-4 rounded-lg text-center\">\n          <h3 className=\"font-semibold text-red-800\">ØºÙŠØ± Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø©</h3>\n          <p className=\"text-2xl font-bold text-red-600\">\n            {invoices.filter(inv => inv.status === 'ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©').length}\n          </p>\n        </div>\n        \n        <div className=\"bg-yellow-50 p-4 rounded-lg text-center\">\n          <h3 className=\"font-semibold text-yellow-800\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</h3>\n          <p className=\"text-2xl font-bold text-yellow-600\">\n            Ø¬.Ù… {invoices.reduce((sum, inv) => sum + (inv.total_amount || 0), 0).toFixed(2)}\n          </p>\n        </div>\n      </div>\n\n      {/* Invoices Table */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙˆØ§ØªÙŠØ±</h3>\n        \n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse border border-gray-300\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"border border-gray-300 p-2\">Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n                <th className=\"border border-gray-300 p-2\">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø®ØµÙ…</th>  \n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø­Ø§Ù„Ø©</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredInvoices.map((invoice) => (\n                <tr key={invoice.id}>\n                  <td className=\"border border-gray-300 p-2 font-semibold\">\n                    {invoice.invoice_number}\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">{invoice.customer_name}</td>\n                  <td className=\"border border-gray-300 p-2\">\n                    {new Date(invoice.date).toLocaleDateString('ar-EG')}\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">{invoice.payment_method}</td>\n                  <td className=\"border border-gray-300 p-2 font-semibold\">\n                    Ø¬.Ù… {invoice.subtotal?.toFixed(2) || (invoice.total_amount?.toFixed(2)) || '0.00'}\n                  </td>\n                  <td className=\"border border-gray-300 p-2 text-red-600\">\n                    {invoice.discount && invoice.discount > 0 ? (\n                      <div>\n                        <span>Ø¬.Ù… {invoice.discount.toFixed(2)}</span>\n                        {invoice.discount_type === 'percentage' && invoice.discount_value && (\n                          <small className=\"block text-xs\">(%{invoice.discount_value})</small>\n                        )}\n                      </div>\n                    ) : (\n                      <span className=\"text-gray-400\">Ù„Ø§ ÙŠÙˆØ¬Ø¯</span>\n                    )}\n                  </td>\n                  <td className=\"border border-gray-300 p-2 font-semibold text-green-600\">\n                    Ø¬.Ù… {(invoice.total_after_discount || invoice.total_amount)?.toFixed(2) || '0.00'}\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <span className={`px-2 py-1 rounded text-sm cursor-pointer ${\n                      invoice.status === 'Ù…Ø¯ÙÙˆØ¹Ø©' ? 'bg-green-100 text-green-800' :\n                      invoice.status === 'ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹Ø©' ? 'bg-red-100 text-red-800' :\n                      invoice.status === 'Ù…Ø¯ÙÙˆØ¹Ø© Ø¬Ø²Ø¦ÙŠØ§Ù‹' ? 'bg-yellow-100 text-yellow-800' :\n                      invoice.status === 'Ø§Ù†ØªØ¸Ø§Ø±' ? 'bg-blue-100 text-blue-800' :\n                      invoice.status === 'ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°' ? 'bg-green-100 text-green-800' :\n                      invoice.status === 'ØªÙ… Ø§Ù„ØªØµÙ†ÙŠØ¹' ? 'bg-purple-100 text-purple-800' :\n                      'bg-gray-100 text-gray-800'\n                    }`}>\n                      {invoice.status}\n                    </span>\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <div className=\"flex space-x-2 space-x-reverse\">\n                      <button\n                        onClick={() => printInvoice(invoice)}\n                        className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600\"\n                      >\n                        Ø·Ø¨Ø§Ø¹Ø©\n                      </button>\n                      <button\n                        onClick={() => startEditInvoice(invoice)}\n                        className=\"bg-green-500 text-white px-2 py-1 rounded text-sm hover:bg-green-600\"\n                      >\n                        ØªØ¹Ø¯ÙŠÙ„\n                      </button>\n                      <button\n                        onClick={() => deleteInvoice(invoice.id)}\n                        className=\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\"\n                      >\n                        Ø­Ø°Ù\n                      </button>\n                      {invoice.status === 'Ø§Ù†ØªØ¸Ø§Ø±' && (\n                        <button\n                          onClick={() => updateInvoiceStatus(invoice.id, 'ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°')}\n                          className=\"bg-green-500 text-white px-2 py-1 rounded text-sm hover:bg-green-600\"\n                        >\n                          ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°\n                        </button>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          \n          {filteredInvoices.length === 0 && (\n            <div className=\"text-center py-8 text-gray-500\">\n              Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙˆØ§ØªÙŠØ± ØªØ·Ø§Ø¨Ù‚ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ø­Ø«\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Edit Invoice Modal */}\n      {editingInvoice && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-lg shadow-lg w-full max-w-4xl max-h-screen overflow-y-auto\" dir=\"rtl\">\n            <h3 className=\"text-xl font-semibold mb-4\">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</h3>\n            \n            <div className=\"grid grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø©</label>\n                <input\n                  type=\"text\"\n                  value={editForm.invoice_title}\n                  onChange={(e) => setEditForm({...editForm, invoice_title: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  placeholder=\"Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙØ§ØªÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù</label>\n                <input\n                  type=\"text\"\n                  value={editForm.supervisor_name}\n                  onChange={(e) => setEditForm({...editForm, supervisor_name: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  placeholder=\"Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label>\n                <input\n                  type=\"text\"\n                  value={editForm.customer_name}\n                  onChange={(e) => setEditForm({...editForm, customer_name: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  placeholder=\"Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„\"\n                  required\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>\n                <select\n                  value={editForm.payment_method}\n                  onChange={(e) => setEditForm({...editForm, payment_method: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                >\n                  <option value=\"Ù†Ù‚Ø¯ÙŠ\">Ù†Ù‚Ø¯ÙŠ</option>\n                  <option value=\"ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ø§Ù„ØµØ§ÙˆÙŠ\">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ø§Ù„ØµØ§ÙˆÙŠ</option>\n                  <option value=\"ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„\">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„</option>\n                  <option value=\"Ø¢Ø¬Ù„\">Ø¢Ø¬Ù„</option>\n                  <option value=\"Ø§Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ\">Ø§Ù†Ø³ØªØ§ Ø¨Ø§ÙŠ</option>\n                  <option value=\"Yad_Elsawy\">Yad Elsawy</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ø®ØµÙ…</label>\n                <select\n                  value={editForm.discount_type}\n                  onChange={(e) => setEditForm({...editForm, discount_type: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                >\n                  <option value=\"amount\">Ù…Ø¨Ù„Øº Ø«Ø§Ø¨Øª</option>\n                  <option value=\"percentage\">Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ©</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ…</label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={editForm.discount_value}\n                  onChange={(e) => setEditForm({...editForm, discount_value: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  placeholder={editForm.discount_type === 'percentage' ? '0-100' : '0.00'}\n                />\n              </div>\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium mb-1\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>\n              <textarea\n                value={editForm.notes}\n                onChange={(e) => setEditForm({...editForm, notes: e.target.value})}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n                rows=\"3\"\n                placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n              />\n            </div>\n            \n            {/* Items Display with Edit capability */}\n            <div className=\"mb-4\">\n              <h4 className=\"text-lg font-medium mb-2\">Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙØ§ØªÙˆØ±Ø©</h4>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full border-collapse border border-gray-300\">\n                  <thead>\n                    <tr className=\"bg-gray-100\">\n                      <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ù†ØªØ¬</th>\n                      <th className=\"border border-gray-300 p-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n                      <th className=\"border border-gray-300 p-2\">Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©</th>\n                      <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n                      <th className=\"border border-gray-300 p-2\">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {editForm.items.map((item, index) => (\n                      <tr key={index}>\n                        <td className=\"border border-gray-300 p-2\">\n                          {item.product_type === 'local' || item.local_product_details ? (\n                            <input\n                              type=\"text\"\n                              value={item.product_name || `${item.local_product_details?.product_size || ''} - ${item.local_product_details?.product_type || ''}`}\n                              onChange={(e) => {\n                                const newItems = [...editForm.items];\n                                newItems[index].product_name = e.target.value;\n                                setEditForm({...editForm, items: newItems});\n                              }}\n                              className=\"w-full p-1 border border-gray-300 rounded\"\n                              placeholder=\"Ù…Ù‚Ø§Ø³ Ø§Ù„Ù…Ù†ØªØ¬ - Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬\"\n                            />\n                          ) : (\n                            <span>\n                              {`${item.seal_type || ''} - ${item.material_type || ''} (${item.inner_diameter}Ã—${item.outer_diameter}Ã—${item.height})`}\n                            </span>\n                          )}\n                        </td>\n                        <td className=\"border border-gray-300 p-2\">\n                          <input\n                            type=\"number\"\n                            value={item.quantity}\n                            onChange={(e) => {\n                              const newItems = [...editForm.items];\n                              newItems[index].quantity = parseInt(e.target.value) || 0;\n                              newItems[index].total_price = newItems[index].unit_price * newItems[index].quantity;\n                              setEditForm({...editForm, items: newItems});\n                            }}\n                            className=\"w-full p-1 border border-gray-300 rounded\"\n                          />\n                        </td>\n                        <td className=\"border border-gray-300 p-2\">\n                          <input\n                            type=\"number\"\n                            step=\"0.01\"\n                            value={item.unit_price}\n                            onChange={(e) => {\n                              const newItems = [...editForm.items];\n                              newItems[index].unit_price = parseFloat(e.target.value) || 0;\n                              newItems[index].total_price = newItems[index].unit_price * newItems[index].quantity;\n                              setEditForm({...editForm, items: newItems});\n                            }}\n                            className=\"w-full p-1 border border-gray-300 rounded\"\n                          />\n                        </td>\n                        <td className=\"border border-gray-300 p-2 font-semibold\">\n                          Ø¬.Ù… {(item.total_price || 0).toFixed(2)}\n                        </td>\n                        <td className=\"border border-gray-300 p-2\">\n                          <button\n                            onClick={() => {\n                              const newItems = editForm.items.filter((_, i) => i !== index);\n                              setEditForm({...editForm, items: newItems});\n                            }}\n                            className=\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600\"\n                          >\n                            Ø­Ø°Ù\n                          </button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              \n              {/* Add Product Button */}\n              <button\n                onClick={() => {\n                  // Add a new empty item for editing\n                  const newItem = {\n                    seal_type: '',\n                    material_type: '',\n                    inner_diameter: '',\n                    outer_diameter: '',\n                    height: '',\n                    quantity: 1,\n                    unit_price: 0,\n                    total_price: 0\n                  };\n                  setEditForm({\n                    ...editForm,\n                    items: [...editForm.items, newItem]\n                  });\n                }}\n                className=\"mt-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n              >\n                Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯\n              </button>\n            </div>\n            \n            {/* Action Buttons */}\n            <div className=\"flex justify-end space-x-4 space-x-reverse\">\n              <button\n                onClick={cancelEdit}\n                className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\"\n              >\n                Ø¥Ù„ØºØ§Ø¡\n              </button>\n              <button\n                onClick={saveInvoiceEdit}\n                className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n              >\n                Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Work Orders Component\nconst WorkOrders = () => {\n  const [workOrders, setWorkOrders] = useState([]);\n  const [invoices, setInvoices] = useState([]);\n  const [selectedInvoices, setSelectedInvoices] = useState([]);\n  const [newWorkOrder, setNewWorkOrder] = useState({\n    title: '',\n    description: '',\n    priority: 'Ø¹Ø§Ø¯ÙŠ'\n  });\n  const [showAddToExisting, setShowAddToExisting] = useState(false);\n  const [selectedWorkOrderId, setSelectedWorkOrderId] = useState('');\n  const [selectedInvoiceForAdd, setSelectedInvoiceForAdd] = useState('');\n\n  useEffect(() => {\n    fetchWorkOrders();\n    fetchInvoices();\n  }, []);\n\n  const fetchWorkOrders = async () => {\n    try {\n      const response = await axios.get(`${API}/work-orders`);\n      setWorkOrders(response.data);\n    } catch (error) {\n      console.error('Error fetching work orders:', error);\n      setWorkOrders([]); // Set empty array on error\n    }\n  };\n\n  const fetchInvoices = async () => {\n    try {\n      const response = await axios.get(`${API}/invoices`);\n      setInvoices(response.data);\n    } catch (error) {\n      console.error('Error fetching invoices:', error);\n    }\n  };\n\n  const toggleInvoiceSelection = (invoiceId) => {\n    setSelectedInvoices(prev => \n      prev.includes(invoiceId) \n        ? prev.filter(id => id !== invoiceId)\n        : [...prev, invoiceId]\n    );\n  };\n\n  const createWorkOrderFromMultipleInvoices = async () => {\n    if (selectedInvoices.length === 0) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ÙØ§ØªÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');\n      return;\n    }\n\n    if (!newWorkOrder.title.trim()) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„');\n      return;\n    }\n\n    try {\n      // Get selected invoices data\n      const selectedInvoicesData = invoices.filter(inv => selectedInvoices.includes(inv.id));\n      \n      // Clean invoices data (remove MongoDB ObjectIds)\n      const cleanInvoices = selectedInvoicesData.map(inv => {\n        const cleanInv = { ...inv };\n        if (cleanInv._id) delete cleanInv._id;\n        return cleanInv;\n      });\n      \n      // Create work order with multiple invoices\n      const workOrderData = {\n        title: newWorkOrder.title,\n        description: newWorkOrder.description,\n        priority: newWorkOrder.priority,\n        invoices: cleanInvoices,\n        total_amount: cleanInvoices.reduce((sum, inv) => sum + (inv.total_amount || 0), 0),\n        total_items: cleanInvoices.reduce((sum, inv) => sum + (inv.items?.length || 0), 0)\n      };\n\n      const response = await axios.post(`${API}/work-orders/multiple`, workOrderData);\n      \n      if (response.data) {\n        alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ Ø¨Ù†Ø¬Ø§Ø­');\n        \n        // Reset form\n        setSelectedInvoices([]);\n        setNewWorkOrder({\n          title: '',\n          description: '',\n          priority: 'Ø¹Ø§Ø¯ÙŠ'\n        });\n        \n        // Refresh work orders list\n        await fetchWorkOrders();\n      }\n    } catch (error) {\n      console.error('Error creating work order:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const addInvoiceToExistingWorkOrder = async () => {\n    if (!selectedWorkOrderId || !selectedInvoiceForAdd) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ ÙˆØ§Ù„ÙØ§ØªÙˆØ±Ø©');\n      return;\n    }\n\n    try {\n      const response = await axios.put(`${API}/work-orders/${selectedWorkOrderId}/add-invoice`, null, {\n        params: { invoice_id: selectedInvoiceForAdd }\n      });\n      \n      if (response.data) {\n        alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¥Ù„Ù‰ Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ Ø¨Ù†Ø¬Ø§Ø­');\n        \n        // Reset form\n        setSelectedWorkOrderId('');\n        setSelectedInvoiceForAdd('');\n        setShowAddToExisting(false);\n        \n        // Refresh work orders list\n        await fetchWorkOrders();\n      }\n    } catch (error) {\n      console.error('Error adding invoice to work order:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ§ØªÙˆØ±Ø©: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const getInvoiceDetails = (invoiceId) => {\n    return invoices.find(inv => inv.id === invoiceId);\n  };\n\n  const getAvailableInvoices = () => {\n    // Show invoices that are \"ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°\" or \"Ø§Ù†ØªØ¸Ø§Ø±\"\n    return invoices.filter(invoice => \n      invoice.status === 'ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°' || invoice.status === 'Ø§Ù†ØªØ¸Ø§Ø±'\n    );\n  };\n\n  const getAvailableInvoicesForAdd = () => {\n    // Get invoices not already in the selected work order\n    if (!selectedWorkOrderId) return getAvailableInvoices();\n    \n    const selectedWorkOrder = workOrders.find(wo => wo.id === selectedWorkOrderId);\n    if (!selectedWorkOrder) return getAvailableInvoices();\n    \n    const usedInvoiceIds = selectedWorkOrder.invoices?.map(inv => inv.id) || [];\n    \n    return getAvailableInvoices().filter(invoice => \n      !usedInvoiceIds.includes(invoice.id)\n    );\n  };\n\n  const printWorkOrder = (workOrder) => {\n    const workOrderInvoices = workOrder.invoices?.map(invoiceData => \n      invoices.find(inv => inv.id === invoiceData.id) || invoiceData\n    ).filter(inv => inv) || [];\n    \n    const totalAmount = workOrderInvoices.reduce((sum, inv) => sum + (inv.total_amount || 0), 0);\n    const totalItems = workOrderInvoices.reduce((sum, inv) => sum + (inv.items?.length || 0), 0);\n    \n    const printContent = `\n      <div style=\"font-family: Arial, sans-serif; direction: rtl; text-align: right;\">\n        <div style=\"text-align: center; margin-bottom: 20px;\">\n          <h1>Ù…Ø§Ø³ØªØ± Ø³ÙŠÙ„</h1>\n          <p>Ø§Ù„Ø­Ø±ÙÙŠØ§Ù† Ø´Ø§Ø±Ø¹ Ø§Ù„Ø³ÙˆØ¨Ø± Ø¬ÙŠØª - 01020630677</p>\n          <h2 style=\"color: #333; margin-top: 20px;\">Ø£Ù…Ø± Ø´ØºÙ„</h2>\n        </div>\n        \n        <div style=\"margin-bottom: 20px;\">\n          <strong>Ø±Ù‚Ù… Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„:</strong> ${workOrder.id}<br>\n          <strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</strong> ${workOrder.title || `Ø£Ù…Ø± Ø´ØºÙ„ #${workOrder.id.slice(-8)}`}<br>\n          <strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${new Date(workOrder.created_at).toLocaleDateString('ar-EG')}<br>\n          <strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> ${workOrder.status || 'Ø¬Ø¯ÙŠØ¯'}<br>\n          <strong>Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±:</strong> ${workOrderInvoices.length}<br>\n          <strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº:</strong> Ø¬.Ù… ${totalAmount.toFixed(2)}\n          ${workOrder.description ? `<br><strong>Ø§Ù„ÙˆØµÙ:</strong> ${workOrder.description}` : ''}\n          ${workOrder.supervisor_name ? `<br><strong>Ø§Ù„Ù…Ø´Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ†ÙŠØ¹:</strong> ${workOrder.supervisor_name}` : ''}\n          ${workOrder.is_daily ? `<br><strong>Ù†ÙˆØ¹ Ø§Ù„Ø£Ù…Ø±:</strong> Ø£Ù…Ø± Ø´ØºÙ„ ÙŠÙˆÙ…ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠ` : ''}\n        </div>\n\n        <h3 style=\"color: #333; margin-bottom: 10px;\">Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø¬Ø©:</h3>\n        <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 20px;\">\n          <thead>\n            <tr style=\"background-color: #f0f0f0;\">\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ø§Ù„Ù…Ø¨Ù„Øº</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${workOrderInvoices.map(invoice => `\n              <tr>\n                <td style=\"border: 1px solid #ddd; padding: 8px;\">${invoice.invoice_number}</td>\n                <td style=\"border: 1px solid #ddd; padding: 8px;\">${invoice.customer_name}</td>\n                <td style=\"border: 1px solid #ddd; padding: 8px;\">${new Date(invoice.date).toLocaleDateString('ar-EG')}</td>\n                <td style=\"border: 1px solid #ddd; padding: 8px;\">Ø¬.Ù… ${invoice.total_amount?.toFixed(2) || '0.00'}</td>\n                <td style=\"border: 1px solid #ddd; padding: 8px;\">${invoice.items?.length || 0}</td>\n              </tr>\n            `).join('')}\n          </tbody>\n        </table>\n\n        <h3 style=\"color: #333; margin-bottom: 10px;\">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</h3>\n        <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 20px;\">\n          <thead>\n            <tr style=\"background-color: #f0f0f0;\">\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠÙ„</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø©</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ø§Ù„Ù…Ù‚Ø§Ø³</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">Ø§Ù„Ø®Ø§Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</th>\n              <th style=\"border: 1px solid #ddd; padding: 8px;\">ÙƒÙˆØ¯ Ø§Ù„ÙˆØ­Ø¯Ø©</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${workOrderInvoices.map(invoice => \n              invoice.items?.map(item => `\n                <tr>\n                  <td style=\"border: 1px solid #ddd; padding: 8px;\">${invoice.invoice_number}</td>\n                  <td style=\"border: 1px solid #ddd; padding: 8px;\">${item.local_product_details ? item.local_product_details.product_type : (item.seal_type || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯')}</td>\n                  <td style=\"border: 1px solid #ddd; padding: 8px;\">${item.local_product_details ? 'Ù…Ø­Ù„ÙŠ' : (item.material_type || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯')}</td>\n                  <td style=\"border: 1px solid #ddd; padding: 8px;\">${item.local_product_details ? `${item.local_product_details.product_size} - ${item.local_product_details.product_type}` : (item.inner_diameter && item.outer_diameter && item.height ? `${item.inner_diameter} Ã— ${item.outer_diameter} Ã— ${item.height}` : 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯')}</td>\n                  <td style=\"border: 1px solid #ddd; padding: 8px;\">${item.quantity}</td>\n                  <td style=\"border: 1px solid #ddd; padding: 8px;\">${item.local_product_details ? 'Ù…Ø­Ù„ÙŠ' : (item.material_used || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯')}</td>\n                  <td style=\"border: 1px solid #ddd; padding: 8px;\">\n                    ${item.local_product_details ? \n                      'Ù…Ø­Ù„ÙŠ' :\n                      item.material_details ? \n                        (item.material_details.is_finished_product ? \n                          'Ù…Ø®Ø²Ù† Ø§Ù†ØªØ§Ø¬ ØªØ§Ù…' : \n                          `${item.material_details.unit_code} / ${item.material_details.inner_diameter}-${item.material_details.outer_diameter}`\n                        ) : \n                        `${item.material_used || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'} / Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©`\n                    }\n                  </td>\n                </tr>\n              `).join('') || ''\n            ).join('')}\n          </tbody>\n        </table>\n        \n        <div style=\"margin-top: 40px; border-top: 1px solid #ddd; padding-top: 20px;\">\n          <div style=\"float: left;\">\n            <strong>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„ØªØµÙ†ÙŠØ¹:</strong><br>\n            <div style=\"margin-top: 10px; height: 50px; border: 1px solid #ddd;\"></div>\n          </div>\n          <div style=\"float: right;\">\n            <strong>ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„:</strong><br>\n            <div style=\"margin-top: 10px; height: 50px; border: 1px solid #ddd; width: 150px;\"></div>\n          </div>\n          <div style=\"clear: both;\"></div>\n        </div>\n      </div>\n    `;\n    \n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(printContent);\n    printWindow.document.close();\n    printWindow.print();\n  };\n\n  const clearAllWorkOrders = async () => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´ØºÙ„ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) return;\n    \n    try {\n      await axios.delete(`${API}/work-orders/clear-all`);\n      fetchWorkOrders();\n      alert('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´ØºÙ„');\n    } catch (error) {\n      console.error('Error clearing work orders:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n    }\n  };\n\n  const deleteWorkOrder = async (workOrderId) => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ Ù‡Ø°Ø§ØŸ')) return;\n    \n    try {\n      await axios.delete(`${API}/work-orders/${workOrderId}`);\n      fetchWorkOrders();\n      alert('ØªÙ… Ø­Ø°Ù Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error deleting work order:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„');\n    }\n  };\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-blue-600 mb-4\">Ø£Ù…Ø± Ø´ØºÙ„</h2>\n        \n        <div className=\"flex space-x-4 space-x-reverse mb-4\">\n          <button \n            onClick={clearAllWorkOrders}\n            className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">\n            Ø­Ø°Ù Ø§Ù„ÙƒÙ„\n          </button>\n          <button \n            onClick={() => { fetchWorkOrders(); fetchInvoices(); }}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„\n          </button>\n          <button \n            onClick={() => window.print()}\n            className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">\n            Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±\n          </button>\n          <button \n            onClick={() => setShowAddToExisting(!showAddToExisting)}\n            className=\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600\">\n            {showAddToExisting ? 'Ø¥Ø®ÙØ§Ø¡' : 'Ø¥Ø¶Ø§ÙØ© ÙØ§ØªÙˆØ±Ø© Ù„Ø£Ù…Ø± Ù…ÙˆØ¬ÙˆØ¯'}\n          </button>\n          <select className=\"border border-gray-300 rounded px-3 py-2\">\n            <option>ÙŠÙˆÙ…ÙŠ</option>\n            <option>Ø£Ø³Ø¨ÙˆØ¹ÙŠ</option>\n            <option>Ø´Ù‡Ø±ÙŠ</option>\n            <option>Ø³Ù†ÙˆÙŠ</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Add Invoice to Existing Work Order */}\n      {showAddToExisting && (\n        <div className=\"bg-yellow-50 p-6 rounded-lg shadow-md mb-6 border border-yellow-200\">\n          <h3 className=\"text-lg font-semibold mb-4 text-yellow-800\">Ø¥Ø¶Ø§ÙØ© ÙØ§ØªÙˆØ±Ø© Ø¥Ù„Ù‰ Ø£Ù…Ø± Ø´ØºÙ„ Ù…ÙˆØ¬ÙˆØ¯</h3>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ø®ØªÙŠØ§Ø± Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„</label>\n              <select\n                value={selectedWorkOrderId}\n                onChange={(e) => setSelectedWorkOrderId(e.target.value)}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n              >\n                <option value=\"\">Ø§Ø®ØªØ± Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„</option>\n                {workOrders.map(workOrder => (\n                  <option key={workOrder.id} value={workOrder.id}>\n                    {workOrder.title || `Ø£Ù…Ø± Ø´ØºÙ„ #${workOrder.id.slice(-8)}`} \n                    ({workOrder.invoices?.length || 0} ÙØ§ØªÙˆØ±Ø©)\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø©</label>\n              <select\n                value={selectedInvoiceForAdd}\n                onChange={(e) => setSelectedInvoiceForAdd(e.target.value)}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n                disabled={!selectedWorkOrderId}\n              >\n                <option value=\"\">Ø§Ø®ØªØ± Ø§Ù„ÙØ§ØªÙˆØ±Ø©</option>\n                {getAvailableInvoicesForAdd().map(invoice => (\n                  <option key={invoice.id} value={invoice.id}>\n                    {invoice.invoice_number} - {invoice.customer_name} \n                    (Ø¬.Ù… {invoice.total_amount?.toFixed(2) || '0.00'})\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n          \n          <div className=\"flex space-x-4 space-x-reverse\">\n            <button\n              onClick={addInvoiceToExistingWorkOrder}\n              className=\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\"\n              disabled={!selectedWorkOrderId || !selectedInvoiceForAdd}\n            >\n              Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ§ØªÙˆØ±Ø©\n            </button>\n            <button\n              onClick={() => {\n                setShowAddToExisting(false);\n                setSelectedWorkOrderId('');\n                setSelectedInvoiceForAdd('');\n              }}\n              className=\"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600\"\n            >\n              Ø¥Ù„ØºØ§Ø¡\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Create Work Order from Multiple Invoices */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø´ØºÙ„ Ø¬Ø¯ÙŠØ¯</h3>\n        \n        {/* Work Order Details */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø¹Ù†ÙˆØ§Ù† Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ *</label>\n            <input\n              type=\"text\"\n              value={newWorkOrder.title}\n              onChange={(e) => setNewWorkOrder({...newWorkOrder, title: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n              placeholder=\"Ù…Ø«Ø§Ù„: Ø£Ù…Ø± Ø´ØºÙ„ Ø±Ù‚Ù… 1 - ÙŠÙ†Ø§ÙŠØ± 2025\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©</label>\n            <select\n              value={newWorkOrder.priority}\n              onChange={(e) => setNewWorkOrder({...newWorkOrder, priority: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            >\n              <option value=\"Ø¹Ø§Ø¯ÙŠ\">Ø¹Ø§Ø¯ÙŠ</option>\n              <option value=\"Ù…Ù‡Ù…\">Ù…Ù‡Ù…</option>\n              <option value=\"Ø·Ø§Ø±Ø¦\">Ø·Ø§Ø±Ø¦</option>\n            </select>\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©</label>\n            <div className=\"p-2 bg-gray-100 rounded\">\n              {selectedInvoices.length} ÙØ§ØªÙˆØ±Ø© Ù…Ø­Ø¯Ø¯Ø©\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium mb-1\">ÙˆØµÙ Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„</label>\n          <textarea\n            value={newWorkOrder.description}\n            onChange={(e) => setNewWorkOrder({...newWorkOrder, description: e.target.value})}\n            className=\"w-full p-2 border border-gray-300 rounded h-20\"\n            placeholder=\"ÙˆØµÙ Ø¥Ø¶Ø§ÙÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n          />\n        </div>\n        \n        <h4 className=\"font-medium mb-2\">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙÙˆØ§ØªÙŠØ±:</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4 max-h-60 overflow-y-auto border rounded p-4\">\n          {getAvailableInvoices().map(invoice => (\n            <div \n              key={invoice.id} \n              className={`border rounded-lg p-3 cursor-pointer transition-colors ${\n                selectedInvoices.includes(invoice.id) \n                  ? 'border-blue-500 bg-blue-50' \n                  : 'border-gray-300 hover:bg-gray-50'\n              }`}\n              onClick={() => toggleInvoiceSelection(invoice.id)}\n            >\n              <div className=\"flex items-center mb-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={selectedInvoices.includes(invoice.id)}\n                  onChange={() => {}}\n                  className=\"ml-2\"\n                />\n                <h5 className=\"font-semibold\">{invoice.invoice_number}</h5>\n              </div>\n              <p className=\"text-sm text-gray-600\">Ø§Ù„Ø¹Ù…ÙŠÙ„: {invoice.customer_name}</p>\n              <p className=\"text-sm text-gray-600\">\n                Ø§Ù„ØªØ§Ø±ÙŠØ®: {new Date(invoice.date).toLocaleDateString('ar-EG')}\n              </p>\n              <p className=\"text-sm font-medium\">\n                Ø§Ù„Ù…Ø¨Ù„Øº: Ø¬.Ù… {invoice.total_amount?.toFixed(2) || '0.00'}\n              </p>\n              <p className=\"text-sm\">\n                Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: {invoice.items?.length || 0} ØµÙ†Ù\n              </p>\n              <span className={`inline-block px-2 py-1 rounded text-xs mt-1 ${\n                invoice.status === 'ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°' \n                  ? 'bg-green-100 text-green-800' \n                  : 'bg-blue-100 text-blue-800'\n              }`}>\n                {invoice.status}\n              </span>\n            </div>\n          ))}\n        </div>\n        \n        {getAvailableInvoices().length === 0 && (\n          <div className=\"text-center py-8 text-gray-500\">\n            Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙˆØ§ØªÙŠØ± Ù…ØªØ§Ø­Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø´ØºÙ„\n          </div>\n        )}\n        \n        {selectedInvoices.length > 0 && (\n          <div className=\"mb-4 p-3 bg-blue-100 rounded\">\n            <h5 className=\"font-semibold text-blue-800\">Ù…Ù„Ø®Øµ Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„:</h5>\n            <p className=\"text-blue-700\">\n              Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§ØªÙŠØ±: {selectedInvoices.length} ÙØ§ØªÙˆØ±Ø©\n            </p>\n            <p className=\"text-blue-700\">\n              Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº: Ø¬.Ù… {invoices\n                .filter(inv => selectedInvoices.includes(inv.id))\n                .reduce((sum, inv) => sum + (inv.total_amount || 0), 0)\n                .toFixed(2)}\n            </p>\n            <p className=\"text-blue-700\">\n              Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: {invoices\n                .filter(inv => selectedInvoices.includes(inv.id))\n                .reduce((sum, inv) => sum + (inv.items?.length || 0), 0)} ØµÙ†Ù\n            </p>\n          </div>\n        )}\n        \n        <button\n          onClick={createWorkOrderFromMultipleInvoices}\n          className=\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\"\n          disabled={selectedInvoices.length === 0}\n        >\n          Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„ ({selectedInvoices.length} ÙØ§ØªÙˆØ±Ø©)\n        </button>\n      </div>\n\n      {/* Work Orders List */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø´ØºÙ„ ({workOrders.length})</h3>\n        \n        {workOrders.map(workOrder => {\n          // Handle both single invoice and multiple invoices work orders\n          const workOrderInvoices = workOrder.invoices || (workOrder.invoice_id ? [getInvoiceDetails(workOrder.invoice_id)] : []);\n          \n          return (\n            <div key={workOrder.id} className=\"border rounded-lg p-4 mb-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                <div>\n                  <h4 className=\"font-semibold text-lg\">\n                    {workOrder.title || `Ø£Ù…Ø± Ø´ØºÙ„ #${workOrder.id.slice(-8)}`}\n                  </h4>\n                  <p><strong>Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©:</strong> \n                    <span className={`mr-2 px-2 py-1 rounded text-sm ${\n                      workOrder.priority === 'Ø·Ø§Ø±Ø¦' ? 'bg-red-100 text-red-800' :\n                      workOrder.priority === 'Ù…Ù‡Ù…' ? 'bg-yellow-100 text-yellow-800' :\n                      'bg-blue-100 text-blue-800'\n                    }`}>\n                      {workOrder.priority || 'Ø¹Ø§Ø¯ÙŠ'}\n                    </span>\n                  </p>\n                  <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:</strong> {new Date(workOrder.created_at).toLocaleDateString('ar-EG')}</p>\n                  <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„ÙÙˆØ§ØªÙŠØ±:</strong> {workOrderInvoices.filter(inv => inv).length}</p>\n                </div>\n                \n                <div>\n                  <p><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> \n                    <span className=\"mr-2 px-2 py-1 rounded text-sm bg-blue-100 text-blue-800\">\n                      {workOrder.status || 'Ø¬Ø¯ÙŠØ¯'}\n                    </span>\n                  </p>\n                  <p><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº:</strong> \n                    Ø¬.Ù… {workOrder.total_amount?.toFixed(2) || \n                    workOrderInvoices.reduce((sum, inv) => sum + (inv?.total_amount || 0), 0).toFixed(2)}\n                  </p>\n                  {workOrder.description && (\n                    <p><strong>Ø§Ù„ÙˆØµÙ:</strong> {workOrder.description}</p>\n                  )}\n                  {workOrder.supervisor_name && (\n                    <p><strong>Ø§Ù„Ù…Ø´Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ†ÙŠØ¹:</strong> {workOrder.supervisor_name}</p>\n                  )}\n                  {workOrder.is_daily && (\n                    <p><strong>Ù†ÙˆØ¹ Ø§Ù„Ø£Ù…Ø±:</strong> <span className=\"text-green-600\">Ø£Ù…Ø± Ø´ØºÙ„ ÙŠÙˆÙ…ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠ</span></p>\n                  )}\n                </div>\n              </div>\n              \n              {/* Work Order Invoices */}\n              <div className=\"mb-4\">\n                <h5 className=\"font-medium mb-2\">Ø§Ù„ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø¬Ø©:</h5>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                  {workOrderInvoices.filter(invoice => invoice).map((invoice, index) => (\n                    <div key={index} className=\"bg-gray-50 p-3 rounded border\">\n                      <p><strong>Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©:</strong> {invoice.invoice_number}</p>\n                      <p><strong>Ø§Ù„Ø¹Ù…ÙŠÙ„:</strong> {invoice.customer_name}</p>\n                      <p><strong>Ø§Ù„Ù…Ø¨Ù„Øº:</strong> Ø¬.Ù… {invoice.total_amount?.toFixed(2) || '0.00'}</p>\n                      <p><strong>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</strong> {invoice.items?.length || 0} ØµÙ†Ù</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              \n              {/* Work Order Items Details */}\n              <div className=\"overflow-x-auto mb-4\">\n                <h5 className=\"font-medium mb-2\">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</h5>\n                <table className=\"w-full border-collapse border border-gray-300\">\n                  <thead>\n                    <tr className=\"bg-gray-100\">\n                      <th className=\"border border-gray-300 p-2\">Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©</th>\n                      <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠÙ„</th>\n                      <th className=\"border border-gray-300 p-2\">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…Ø©</th>\n                      <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ù‚Ø§Ø³</th>\n                      <th className=\"border border-gray-300 p-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n                      <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø®Ø§Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</th>\n                      <th className=\"border border-gray-300 p-2\">ÙƒÙˆØ¯ Ø§Ù„ÙˆØ­Ø¯Ø©</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {workOrderInvoices.filter(invoice => invoice).map(invoice => \n                      invoice.items?.map((item, itemIndex) => (\n                        <tr key={`${invoice.id}-${itemIndex}`}>\n                          <td className=\"border border-gray-300 p-2\">{invoice.invoice_number}</td>\n                          <td className=\"border border-gray-300 p-2\">{item.seal_type}</td>\n                          <td className=\"border border-gray-300 p-2\">{item.material_type}</td>\n                          <td className=\"border border-gray-300 p-2\">\n                            {item.inner_diameter} Ã— {item.outer_diameter} Ã— {item.height}\n                          </td>\n                          <td className=\"border border-gray-300 p-2\">{item.quantity}</td>\n                          <td className=\"border border-gray-300 p-2\">\n                            {item.material_details ? (\n                              item.material_details.is_finished_product ? (\n                                <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm\">\n                                  Ù…Ù†ØªØ¬ Ø¬Ø§Ù‡Ø²\n                                </span>\n                              ) : (\n                                <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\">\n                                  {item.material_details.material_type}\n                                </span>\n                              )\n                            ) : (\n                              <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\">\n                                {item.material_used || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}\n                              </span>\n                            )}\n                          </td>\n                          <td className=\"border border-gray-300 p-2\">\n                            <div className=\"font-mono text-sm\">\n                              {item.material_details ? (\n                                item.material_details.is_finished_product ? (\n                                  <div className=\"text-center font-semibold text-blue-600\">\n                                    Ù…Ø®Ø²Ù† Ø§Ù†ØªØ§Ø¬ ØªØ§Ù…\n                                  </div>\n                                ) : (\n                                  <div>\n                                    <div className=\"font-semibold\">{item.material_details.unit_code}</div>\n                                    <div className=\"text-xs text-gray-600\">\n                                      {item.material_details.inner_diameter} - {item.material_details.outer_diameter}\n                                    </div>\n                                  </div>\n                                )\n                              ) : (\n                                // Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø£Ùˆ Ø¹Ù†Ø¯Ù…Ø§ Ù„Ø§ ØªÙˆØ¬Ø¯ material_details\n                                <div>\n                                  <div className=\"font-semibold\">{item.material_used || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</div>\n                                  <div className=\"text-xs text-gray-600\">\n                                    Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø®Ø§Ù…Ø© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©\n                                  </div>\n                                </div>\n                              )}\n                            </div>\n                          </td>\n                        </tr>\n                      )) || []\n                    )}\n                  </tbody>\n                </table>\n              </div>\n              \n              {/* Work Order Actions */}\n              <div className=\"flex space-x-4 space-x-reverse\">\n                <button \n                  onClick={() => printWorkOrder(workOrder)}\n                  className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">\n                  Ø·Ø¨Ø§Ø¹Ø© Ø£Ù…Ø± Ø§Ù„Ø´ØºÙ„\n                </button>\n                <button className=\"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600\">\n                  ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø©\n                </button>\n                <button \n                  onClick={() => {\n                    setSelectedWorkOrderId(workOrder.id);\n                    setShowAddToExisting(true);\n                  }}\n                  className=\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600\">\n                  Ø¥Ø¶Ø§ÙØ© ÙØ§ØªÙˆØ±Ø©\n                </button>\n                <button \n                  onClick={() => deleteWorkOrder(workOrder.id)}\n                  className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">\n                  Ø­Ø°Ù\n                </button>\n              </div>\n            </div>\n          );\n        })}\n        \n        {workOrders.length === 0 && (\n          <div className=\"text-center py-8 text-gray-500\">\n            Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙˆØ§Ù…Ø± Ø´ØºÙ„\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Treasury Management Component\nconst Treasury = () => {\n  const { user } = useAuth(); // Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ\n  const [accounts, setAccounts] = useState([\n    { id: 'cash', name: 'Ù†Ù‚Ø¯ÙŠ', balance: 0, transactions: [] },\n    { id: 'vodafone_elsawy', name: 'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ù…Ø­Ù…Ø¯ Ø§Ù„ØµØ§ÙˆÙŠ', balance: 0, transactions: [] },\n    { id: 'vodafone_wael', name: 'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„ Ù…Ø­Ù…Ø¯', balance: 0, transactions: [] },\n    { id: 'deferred', name: 'Ø¢Ø¬Ù„', balance: 0, transactions: [] },\n    { id: 'instapay', name: 'Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ', balance: 0, transactions: [] },\n    { id: 'yad_elsawy', name: 'ÙŠØ¯ Ø§Ù„ØµØ§ÙˆÙŠ', balance: 0, transactions: [] }\n  ]);\n  \n  const [selectedAccount, setSelectedAccount] = useState('cash');\n  const [showTransferModal, setShowTransferModal] = useState(false);\n  const [transferData, setTransferData] = useState({\n    from: 'cash',\n    to: 'vodafone_elsawy',\n    amount: '',\n    notes: ''\n  });\n  \n  const [manualTransaction, setManualTransaction] = useState({\n    account: 'cash',\n    type: 'income', // income or expense\n    amount: '',\n    description: '',\n    notes: ''\n  });\n  \n  const [showManualForm, setShowManualForm] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(''); // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨Ø­Ø«\n\n  useEffect(() => {\n    fetchTreasuryData();\n  }, []);\n\n  const fetchTreasuryData = async () => {\n    try {\n      // Fetch balances and transactions from backend\n      const balancesResponse = await axios.get(`${API}/treasury/balances`);\n      const transactionsResponse = await axios.get(`${API}/treasury/transactions`);\n      const invoicesResponse = await axios.get(`${API}/invoices`);\n      const expensesResponse = await axios.get(`${API}/expenses`);\n      \n      const balances = balancesResponse.data;\n      const manualTransactions = transactionsResponse.data;\n      const invoices = invoicesResponse.data;\n      const expenses = expensesResponse.data;\n      \n      // Update accounts with balances and transactions\n      const updatedAccounts = accounts.map(account => {\n        let transactions = [];\n        \n        // Add invoice transactions\n        invoices.forEach(invoice => {\n          const paymentMethodMap = {\n            'Ù†Ù‚Ø¯ÙŠ': 'cash',\n            'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ Ù…Ø­Ù…Ø¯ Ø§Ù„ØµØ§ÙˆÙŠ': 'vodafone_elsawy', \n            'ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´ ÙˆØ§Ø¦Ù„ Ù…Ø­Ù…Ø¯': 'vodafone_wael',\n            'Ø¢Ø¬Ù„': 'deferred',\n            'Ø§Ù†Ø³ØªØ§Ø¨Ø§ÙŠ': 'instapay',\n            'ÙŠØ¯ Ø§Ù„ØµØ§ÙˆÙŠ': 'yad_elsawy'\n          };\n          \n          if (paymentMethodMap[invoice.payment_method] === account.id) {\n            transactions.push({\n              id: `inv-${invoice.id}`,\n              type: 'income',\n              amount: invoice.total_amount || 0,\n              description: `ÙØ§ØªÙˆØ±Ø© Ø±Ù‚Ù… ${invoice.invoice_number}`,\n              date: invoice.date,\n              reference: `Ø§Ù„Ø¹Ù…ÙŠÙ„: ${invoice.customer_name}`\n            });\n          }\n        });\n        \n        // Add expense transactions (only from cash account)\n        if (account.id === 'cash') {\n          expenses.forEach(expense => {\n            transactions.push({\n              id: `exp-${expense.id}`,\n              type: 'expense',\n              amount: expense.amount || 0,\n              description: expense.description || 'Ù…ØµØ±ÙˆÙ',\n              date: expense.date,\n              category: expense.category\n            });\n          });\n        }\n        \n        // Add manual transactions\n        manualTransactions\n          .filter(transaction => transaction.account_id === account.id)\n          .forEach(transaction => {\n            transactions.push({\n              id: transaction.id,\n              type: transaction.transaction_type,\n              amount: transaction.amount,\n              description: transaction.description,\n              date: transaction.date,\n              reference: transaction.reference\n            });\n          });\n        \n        return {\n          ...account,\n          balance: balances[account.id] || 0,\n          transactions: transactions.sort((a, b) => new Date(b.date) - new Date(a.date))\n        };\n      });\n      \n      setAccounts(updatedAccounts);\n    } catch (error) {\n      console.error('Error fetching treasury data:', error);\n    }\n  };\n\n  const handleTransfer = async () => {\n    if (!transferData.amount || parseFloat(transferData.amount) <= 0) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­');\n      return;\n    }\n    \n    const amount = parseFloat(transferData.amount);\n    const fromAccount = accounts.find(acc => acc.id === transferData.from);\n    \n    if (fromAccount.balance < amount) {\n      alert('Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙŠ');\n      return;\n    }\n    \n    try {\n      await axios.post(`${API}/treasury/transfer`, {\n        from_account: transferData.from,\n        to_account: transferData.to,\n        amount: amount,\n        notes: transferData.notes\n      });\n      \n      // Refresh data\n      fetchTreasuryData();\n      \n      setShowTransferModal(false);\n      setTransferData({ from: 'cash', to: 'vodafone_elsawy', amount: '', notes: '' });\n      alert('ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error processing transfer:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„');\n    }\n  };\n\n  const handleManualTransaction = async () => {\n    if (!manualTransaction.amount || parseFloat(manualTransaction.amount) <= 0) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­');\n      return;\n    }\n    \n    const amount = parseFloat(manualTransaction.amount);\n    \n    try {\n      await axios.post(`${API}/treasury/transactions`, {\n        account_id: manualTransaction.account,\n        transaction_type: manualTransaction.type,\n        amount: amount,\n        description: manualTransaction.description,\n        reference: manualTransaction.notes || 'Ø¥Ø¯Ø®Ø§Ù„ ÙŠØ¯ÙˆÙŠ'\n      });\n      \n      // Refresh data\n      fetchTreasuryData();\n      \n      setShowManualForm(false);\n      setManualTransaction({\n        account: 'cash',\n        type: 'income',\n        amount: '',\n        description: '',\n        notes: ''\n      });\n      alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error processing manual transaction:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©');\n    }\n  };\n\n  const clearAccount = async (accountId) => {\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) return;\n    \n    const account = accounts.find(acc => acc.id === accountId);\n    if (!account || account.balance === 0) {\n      alert('Ø§Ù„Ø­Ø³Ø§Ø¨ ÙØ§Ø±Øº Ø¨Ø§Ù„ÙØ¹Ù„ Ø£Ùˆ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');\n      return;\n    }\n    \n    try {\n      // Create expense transaction to zero the account\n      await axios.post(`${API}/treasury/transactions`, {\n        account_id: accountId,\n        transaction_type: 'expense',\n        amount: account.balance,\n        description: `ØªØµÙÙŠØ± Ø­Ø³Ø§Ø¨ ${account.name}`,\n        reference: 'ØªØµÙÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…Ø¯ÙŠØ±'\n      });\n      \n      // Refresh data\n      fetchTreasuryData();\n      alert(`ØªÙ… ØªØµÙÙŠØ± Ø­Ø³Ø§Ø¨ ${account.name} Ø¨Ù†Ø¬Ø§Ø­`);\n    } catch (error) {\n      console.error('Error clearing account:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØµÙÙŠØ± Ø§Ù„Ø­Ø³Ø§Ø¨');\n    }\n  };\n\n  const selectedAccountData = accounts.find(acc => acc.id === selectedAccount);\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-blue-600 mb-4\">Ø§Ù„Ø®Ø²ÙŠÙ†Ø© - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù…ÙˆØ§Ù„</h2>\n        \n        <div className=\"flex space-x-4 space-x-reverse mb-4\">\n          <button \n            onClick={() => setShowTransferModal(true)}\n            className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">\n            ØªØ­ÙˆÙŠÙ„ Ø£Ù…ÙˆØ§Ù„\n          </button>\n          <button \n            onClick={() => setShowManualForm(true)}\n            className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n            Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ÙŠØ© ÙŠØ¯ÙˆÙŠØ©\n          </button>\n          <button \n            onClick={fetchTreasuryData}\n            className=\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600\">\n            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„\n          </button>\n          <button \n            onClick={() => window.print()}\n            className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\">\n            Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±\n          </button>\n          {user?.username === 'Elsawy' && selectedAccount === 'yad_elsawy' && selectedAccountData?.balance > 0 && (\n            <button \n              onClick={() => clearAccount(selectedAccount)}\n              className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">\n              ØªØµÙÙŠØ± Ø­Ø³Ø§Ø¨ ÙŠØ¯ Ø§Ù„ØµØ§ÙˆÙŠ\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Accounts Summary */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6\">\n        {accounts.map(account => (\n          <div \n            key={account.id}\n            className={`p-4 rounded-lg shadow cursor-pointer transition-colors ${\n              selectedAccount === account.id \n                ? 'bg-blue-100 border-2 border-blue-500' \n                : 'bg-white hover:bg-gray-50'\n            }`}\n            onClick={() => setSelectedAccount(account.id)}\n          >\n            <h3 className=\"font-semibold text-gray-800 mb-2\">{account.name}</h3>\n            <p className={`text-2xl font-bold ${\n              account.balance >= 0 ? 'text-green-600' : 'text-red-600'\n            }`}>\n              Ø¬.Ù… {account.balance.toFixed(2)}\n            </p>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              {account.transactions.length} Ø¹Ù…Ù„ÙŠØ©\n            </p>\n          </div>\n        ))}\n      </div>\n\n      {/* Account Details */}\n      {selectedAccountData && (\n        <div className=\"bg-white p-6 rounded-lg shadow-md\">\n          <h3 className=\"text-lg font-semibold mb-4\">\n            ØªÙØ§ØµÙŠÙ„ Ø­Ø³Ø§Ø¨: {selectedAccountData.name}\n          </h3>\n          \n          {/* Search Bar */}\n          <div className=\"mb-4\">\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª...\"\n              className=\"w-full p-3 border border-gray-300 rounded-lg\"\n            />\n          </div>\n          \n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full border-collapse border border-gray-300\">\n              <thead>\n                <tr className=\"bg-gray-100\">\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù†ÙˆØ¹</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„ÙˆØµÙ</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø¨Ù„Øº</th>\n                  <th className=\"border border-gray-300 p-2\">Ø§Ù„Ù…Ø±Ø¬Ø¹</th>\n                </tr>\n              </thead>\n              <tbody>\n                {selectedAccountData.transactions\n                  .filter(transaction => \n                    transaction.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                    (transaction.reference && transaction.reference.toLowerCase().includes(searchTerm.toLowerCase())) ||\n                    (transaction.category && transaction.category.toLowerCase().includes(searchTerm.toLowerCase()))\n                  )\n                  .map((transaction, index) => (\n                  <tr key={transaction.id || index}>\n                    <td className=\"border border-gray-300 p-2\">\n                      {new Date(transaction.date).toLocaleDateString('ar-EG')}\n                    </td>\n                    <td className=\"border border-gray-300 p-2\">\n                      <span className={`px-2 py-1 rounded text-xs ${\n                        transaction.type === 'income' ? 'bg-green-100 text-green-800' :\n                        transaction.type === 'expense' ? 'bg-red-100 text-red-800' :\n                        transaction.type === 'transfer_in' ? 'bg-blue-100 text-blue-800' :\n                        'bg-orange-100 text-orange-800'\n                      }`}>\n                        {transaction.type === 'income' ? 'Ø¯Ø®Ù„' :\n                         transaction.type === 'expense' ? 'Ù…ØµØ±ÙˆÙ' :\n                         transaction.type === 'transfer_in' ? 'ØªØ­ÙˆÙŠÙ„ ÙˆØ§Ø±Ø¯' : 'ØªØ­ÙˆÙŠÙ„ ØµØ§Ø¯Ø±'}\n                      </span>\n                    </td>\n                    <td className=\"border border-gray-300 p-2\">{transaction.description}</td>\n                    <td className=\"border border-gray-300 p-2\">\n                      <span className={\n                        transaction.type === 'income' || transaction.type === 'transfer_in' \n                          ? 'text-green-600 font-semibold' \n                          : 'text-red-600 font-semibold'\n                      }>\n                        {transaction.type === 'income' || transaction.type === 'transfer_in' ? '+' : '-'}\n                        Ø¬.Ù… {transaction.amount.toFixed(2)}\n                      </span>\n                    </td>\n                    <td className=\"border border-gray-300 p-2 text-sm text-gray-600\">\n                      {transaction.reference || transaction.category || '-'}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            \n            {selectedAccountData.transactions.length === 0 && (\n              <div className=\"text-center py-8 text-gray-500\">\n                Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù…Ù„ÙŠØ§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„Ø­Ø³Ø§Ø¨\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Transfer Modal */}\n      {showTransferModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4\">\n            <h3 className=\"text-lg font-semibold mb-4\">ØªØ­ÙˆÙŠÙ„ Ø£Ù…ÙˆØ§Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ù…Ù† Ø­Ø³Ø§Ø¨</label>\n                <select\n                  value={transferData.from}\n                  onChange={(e) => setTransferData({...transferData, from: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                >\n                  {accounts.map(account => (\n                    <option key={account.id} value={account.id}>\n                      {account.name} (Ø¬.Ù… {account.balance.toFixed(2)})\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨</label>\n                <select\n                  value={transferData.to}\n                  onChange={(e) => setTransferData({...transferData, to: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                >\n                  {accounts.filter(acc => acc.id !== transferData.from).map(account => (\n                    <option key={account.id} value={account.id}>\n                      {account.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù…Ø¨Ù„Øº</label>\n                <input\n                  type=\"number\"\n                  value={transferData.amount}\n                  onChange={(e) => setTransferData({...transferData, amount: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  placeholder=\"0.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>\n                <input\n                  type=\"text\"\n                  value={transferData.notes}\n                  onChange={(e) => setTransferData({...transferData, notes: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"flex space-x-4 space-x-reverse mt-6\">\n              <button\n                onClick={handleTransfer}\n                className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n              >\n                ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„\n              </button>\n              <button\n                onClick={() => setShowTransferModal(false)}\n                className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\"\n              >\n                Ø¥Ù„ØºØ§Ø¡\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Manual Transaction Modal */}\n      {showManualForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4\">\n            <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ÙŠØ© ÙŠØ¯ÙˆÙŠØ©</h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ø­Ø³Ø§Ø¨</label>\n                <select\n                  value={manualTransaction.account}\n                  onChange={(e) => setManualTransaction({...manualTransaction, account: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                >\n                  {accounts.map(account => (\n                    <option key={account.id} value={account.id}>\n                      {account.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</label>\n                <select\n                  value={manualTransaction.type}\n                  onChange={(e) => setManualTransaction({...manualTransaction, type: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                >\n                  <option value=\"income\">Ø¯Ø®Ù„</option>\n                  <option value=\"expense\">Ù…ØµØ±ÙˆÙ</option>\n                </select>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ù…Ø¨Ù„Øº</label>\n                <input\n                  type=\"number\"\n                  value={manualTransaction.amount}\n                  onChange={(e) => setManualTransaction({...manualTransaction, amount: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  placeholder=\"0.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ø§Ù„ÙˆØµÙ</label>\n                <input\n                  type=\"text\"\n                  value={manualTransaction.description}\n                  onChange={(e) => setManualTransaction({...manualTransaction, description: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  placeholder=\"ÙˆØµÙ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>\n                <input\n                  type=\"text\"\n                  value={manualTransaction.notes}\n                  onChange={(e) => setManualTransaction({...manualTransaction, notes: e.target.value})}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"flex space-x-4 space-x-reverse mt-6\">\n              <button\n                onClick={handleManualTransaction}\n                className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n              >\n                Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©\n              </button>\n              <button\n                onClick={() => setShowManualForm(false)}\n                className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\"\n              >\n                Ø¥Ù„ØºØ§Ø¡\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Users Management Component  \nconst Users = () => {\n  const [users, setUsers] = useState([]);\n  const [newUser, setNewUser] = useState({\n    username: '',\n    password: '',\n    role: 'user'\n  });\n  const [editingUser, setEditingUser] = useState(null);\n  const [editForm, setEditForm] = useState({\n    username: '',\n    password: '',\n    role: 'user'\n  });\n  const [companyInfo, setCompanyInfo] = useState({\n    name: 'Ù…Ø§Ø³ØªØ± Ø³ÙŠÙ„',\n    address: 'Ø§Ù„Ø­Ø±ÙÙŠØ§Ù† Ø´Ø§Ø±Ø¹ Ø§Ù„Ø³ÙˆØ¨Ø± Ø¬ÙŠØª',\n    phone: '01020630677'\n  });\n  const [editingCompany, setEditingCompany] = useState(false);\n  const [selectedUserPermissions, setSelectedUserPermissions] = useState(null);\n\n  const allPermissions = [\n    { key: 'dashboard', label: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…' },\n    { key: 'sales', label: 'Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª' },\n    { key: 'inventory', label: 'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†' },\n    { key: 'deferred', label: 'Ø§Ù„Ø¢Ø¬Ù„' },\n    { key: 'expenses', label: 'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª' },\n    { key: 'revenue', label: 'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª' },\n    { key: 'treasury', label: 'Ø§Ù„Ø®Ø²ÙŠÙ†Ø©' },\n    { key: 'invoices', label: 'Ø§Ù„ÙÙˆØ§ØªÙŠØ±' },\n    { key: 'work-orders', label: 'Ø£Ù…Ø± Ø´ØºÙ„' },\n    { key: 'users', label: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†' }\n  ];\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get(`${API}/users`);\n      \n      // Check if default users exist in database\n      const dbUsers = response.data || [];\n      const hasElsawy = dbUsers.some(user => user.username === 'Elsawy');\n      const hasRoot = dbUsers.some(user => user.username === 'Root');\n      \n      // Create default users if they don't exist\n      if (!hasElsawy) {\n        await axios.post(`${API}/users`, {\n          username: 'Elsawy',\n          password: '100100',\n          role: 'admin',\n          permissions: allPermissions.map(p => p.key)\n        });\n      }\n      \n      if (!hasRoot) {\n        await axios.post(`${API}/users`, {\n          username: 'Root',\n          password: 'master',\n          role: 'user',\n          permissions: ['dashboard', 'sales', 'inventory', 'deferred', 'expenses', 'treasury', 'work-orders']\n        });\n      }\n      \n      // Fetch users again if we created default users\n      if (!hasElsawy || !hasRoot) {\n        const updatedResponse = await axios.get(`${API}/users`);\n        setUsers(updatedResponse.data || []);\n      } else {\n        setUsers(dbUsers);\n      }\n      \n    } catch (error) {\n      console.error('Error fetching users:', error);\n      // Fall back to empty array for now\n      setUsers([]);\n    }\n  };\n\n  const addUser = async () => {\n    if (!newUser.username || !newUser.password) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');\n      return;\n    }\n\n    try {\n      // Check if username already exists\n      if (users.some(user => user.username === newUser.username)) {\n        alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„');\n        return;\n      }\n\n      // Default permissions based on role\n      const defaultPermissions = newUser.role === 'admin' \n        ? allPermissions.map(p => p.key)\n        : ['dashboard', 'sales', 'inventory', 'deferred', 'expenses', 'treasury', 'work-orders'];\n\n      // Let backend generate ID and created_at\n      const user = {\n        username: newUser.username,\n        password: newUser.password,\n        role: newUser.role,\n        permissions: defaultPermissions\n      };\n\n      await axios.post(`${API}/users`, user);\n      fetchUsers();\n      setNewUser({ username: '', password: '', role: 'user' });\n      alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error adding user:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const startEdit = (user) => {\n    setEditingUser(user.id);\n    setEditForm({\n      username: user.username,\n      password: '',\n      role: user.role\n    });\n  };\n\n  const cancelEdit = () => {\n    setEditingUser(null);\n    setEditForm({ username: '', password: '', role: 'user' });\n  };\n\n  const saveEdit = async () => {\n    if (!editForm.username) {\n      alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\n      return;\n    }\n\n    // Check if username already exists (excluding current user)\n    if (users.some(user => user.username === editForm.username && user.id !== editingUser)) {\n      alert('Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„');\n      return;\n    }\n\n    try {\n      // Find current user to preserve their permissions\n      const currentUser = users.find(u => u.id === editingUser);\n      if (!currentUser) {\n        alert('Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');\n        return;\n      }\n\n      // Update user in backend - preserve existing permissions\n      const updatedUser = {\n        id: editingUser,\n        username: editForm.username,\n        role: editForm.role,\n        password: editForm.password || currentUser.password,\n        permissions: currentUser.permissions || [],\n        created_at: currentUser.created_at\n      };\n      \n      await axios.put(`${API}/users/${editingUser}`, updatedUser);\n      \n      // Fetch updated data from database instead of updating local state\n      fetchUsers();\n\n      setEditingUser(null);\n      setEditForm({ username: '', password: '', role: 'user' });\n      alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error updating user:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const deleteUser = async (userId) => {\n    if (userId === '1' || userId === '2') {\n      alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠÙŠÙ†');\n      return;\n    }\n\n    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ')) return;\n\n    try {\n      await axios.delete(`${API}/users/${userId}`);\n      fetchUsers();\n      alert('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error deleting user:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\n    }\n  };\n\n  const resetPassword = async (userId) => {\n    const newPassword = prompt('Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:');\n    if (newPassword && newPassword.trim()) {\n      try {\n        // Find the user to get their current data\n        const user = users.find(u => u.id === userId);\n        if (!user) {\n          alert('Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');\n          return;\n        }\n\n        // Update password in backend\n        const updatedUser = {\n          id: user.id,\n          username: user.username,\n          password: newPassword.trim(),\n          role: user.role,\n          permissions: user.permissions || [],\n          created_at: user.created_at\n        };\n        \n        await axios.put(`${API}/users/${userId}`, updatedUser);\n        alert('ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­');\n      } catch (error) {\n        console.error('Error updating password:', error);\n        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ' + (error.response?.data?.detail || error.message));\n      }\n    }\n  };\n\n  const openPermissions = (user) => {\n    setSelectedUserPermissions({\n      ...user,\n      tempPermissions: [...(user.permissions || [])]\n    });\n  };\n\n  const togglePermission = (permissionKey) => {\n    setSelectedUserPermissions(prev => {\n      const newPermissions = prev.tempPermissions.includes(permissionKey)\n        ? prev.tempPermissions.filter(p => p !== permissionKey)\n        : [...prev.tempPermissions, permissionKey];\n      \n      return { ...prev, tempPermissions: newPermissions };\n    });\n  };\n\n  const savePermissions = async () => {\n    try {\n      // Update permissions in backend\n      const updatedUser = {\n        id: selectedUserPermissions.id,\n        username: selectedUserPermissions.username,\n        password: selectedUserPermissions.password,\n        role: selectedUserPermissions.role,\n        permissions: selectedUserPermissions.tempPermissions,\n        created_at: selectedUserPermissions.created_at\n      };\n      \n      await axios.put(`${API}/users/${selectedUserPermissions.id}`, updatedUser);\n      \n      // Fetch updated data from database\n      fetchUsers();\n      \n      setSelectedUserPermissions(null);\n      alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('Error updating permissions:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª: ' + (error.response?.data?.detail || error.message));\n    }\n  };\n\n  const saveCompanyInfo = () => {\n    setEditingCompany(false);\n    alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­');\n  };\n\n  return (\n    <div className=\"p-6\" dir=\"rtl\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-blue-600 mb-4\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h2>\n        \n        <div className=\"flex space-x-4 space-x-reverse mb-4\">\n          <button className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">\n            Ø­Ø°Ù Ø§Ù„ÙƒÙ„\n          </button>\n          <button className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„\n          </button>\n          <button \n            onClick={() => window.print()}\n            className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">\n            Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±\n          </button>\n        </div>\n      </div>\n\n      {/* Company Information */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ©</h3>\n        \n        {editingCompany ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</label>\n              <input\n                type=\"text\"\n                value={companyInfo.name}\n                onChange={(e) => setCompanyInfo({...companyInfo, name: e.target.value})}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>\n              <input\n                type=\"text\"\n                value={companyInfo.address}\n                onChange={(e) => setCompanyInfo({...companyInfo, address: e.target.value})}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ù„ØªÙ„ÙŠÙÙˆÙ†</label>\n              <input\n                type=\"text\"\n                value={companyInfo.phone}\n                onChange={(e) => setCompanyInfo({...companyInfo, phone: e.target.value})}\n                className=\"w-full p-2 border border-gray-300 rounded\"\n              />\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</label>\n              <p className=\"p-2 bg-gray-100 rounded\">{companyInfo.name}</p>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>\n              <p className=\"p-2 bg-gray-100 rounded\">{companyInfo.address}</p>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Ø§Ù„ØªÙ„ÙŠÙÙˆÙ†</label>\n              <p className=\"p-2 bg-gray-100 rounded\">{companyInfo.phone}</p>\n            </div>\n          </div>\n        )}\n        \n        <div className=\"flex space-x-4 space-x-reverse\">\n          {editingCompany ? (\n            <>\n              <button\n                onClick={saveCompanyInfo}\n                className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n              >\n                Ø­ÙØ¸\n              </button>\n              <button\n                onClick={() => setEditingCompany(false)}\n                className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\"\n              >\n                Ø¥Ù„ØºØ§Ø¡\n              </button>\n            </>\n          ) : (\n            <button\n              onClick={() => setEditingCompany(true)}\n              className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n            >\n              ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ©\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Add New User */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>\n            <input\n              type=\"text\"\n              value={newUser.username}\n              onChange={(e) => setNewUser({...newUser, username: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n              placeholder=\"Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>\n            <input\n              type=\"password\"\n              value={newUser.password}\n              onChange={(e) => setNewUser({...newUser, password: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n              placeholder=\"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\"\n            />\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</label>\n            <select\n              value={newUser.role}\n              onChange={(e) => setNewUser({...newUser, role: e.target.value})}\n              className=\"w-full p-2 border border-gray-300 rounded\"\n            >\n              <option value=\"user\">Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ</option>\n              <option value=\"admin\">Ù…Ø¯ÙŠØ±</option>\n            </select>\n          </div>\n        </div>\n        \n        <button\n          onClick={addUser}\n          className=\"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600\"\n        >\n          Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\n        </button>\n      </div>\n\n      {/* Users Table */}\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\n        <h3 className=\"text-lg font-semibold mb-4\">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>\n        \n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse border border-gray-300\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"border border-gray-300 p-2\">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</th>\n                <th className=\"border border-gray-300 p-2\">Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª</th>\n                <th className=\"border border-gray-300 p-2\">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø­Ø§Ù„Ø©</th>\n                <th className=\"border border-gray-300 p-2\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((user) => (\n                <tr key={user.id}>\n                  <td className=\"border border-gray-300 p-2\">\n                    {editingUser === user.id ? (\n                      <input\n                        type=\"text\"\n                        value={editForm.username}\n                        onChange={(e) => setEditForm({...editForm, username: e.target.value})}\n                        className=\"w-full p-1 border border-gray-300 rounded\"\n                      />\n                    ) : (\n                      <span className=\"font-semibold\">{user.username}</span>\n                    )}\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    {editingUser === user.id ? (\n                      <select\n                        value={editForm.role}\n                        onChange={(e) => setEditForm({...editForm, role: e.target.value})}\n                        className=\"w-full p-1 border border-gray-300 rounded\"\n                      >\n                        <option value=\"user\">Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ</option>\n                        <option value=\"admin\">Ù…Ø¯ÙŠØ±</option>\n                      </select>\n                    ) : (\n                      <span className={`px-2 py-1 rounded text-sm ${\n                        user.role === 'admin' \n                          ? 'bg-red-100 text-red-800' \n                          : 'bg-blue-100 text-blue-800'\n                      }`}>\n                        {user.role === 'admin' ? 'Ù…Ø¯ÙŠØ±' : 'Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯ÙŠ'}\n                      </span>\n                    )}\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <span className=\"bg-gray-100 px-2 py-1 rounded text-sm\">\n                      {user.permissions?.length || 0} ØµÙ„Ø§Ø­ÙŠØ©\n                    </span>\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    {new Date(user.created_at).toLocaleDateString('ar-EG')}\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <span className=\"px-2 py-1 rounded text-sm bg-green-100 text-green-800\">\n                      Ù†Ø´Ø·\n                    </span>\n                  </td>\n                  <td className=\"border border-gray-300 p-2\">\n                    <div className=\"flex space-x-2 space-x-reverse flex-wrap\">\n                      {editingUser === user.id ? (\n                        <>\n                          <button \n                            onClick={saveEdit}\n                            className=\"bg-green-500 text-white px-2 py-1 rounded text-sm hover:bg-green-600 mb-1\">\n                            Ø­ÙØ¸\n                          </button>\n                          <button \n                            onClick={cancelEdit}\n                            className=\"bg-gray-500 text-white px-2 py-1 rounded text-sm hover:bg-gray-600 mb-1\">\n                            Ø¥Ù„ØºØ§Ø¡\n                          </button>\n                        </>\n                      ) : (\n                        <>\n                          <button \n                            onClick={() => startEdit(user)}\n                            className=\"bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600 mb-1\">\n                            ØªØ¹Ø¯ÙŠÙ„\n                          </button>\n                          <button \n                            onClick={() => openPermissions(user)}\n                            className=\"bg-purple-500 text-white px-2 py-1 rounded text-sm hover:bg-purple-600 mb-1\">\n                            Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª\n                          </button>\n                          <button \n                            onClick={() => resetPassword(user.id)}\n                            className=\"bg-yellow-500 text-white px-2 py-1 rounded text-sm hover:bg-yellow-600 mb-1\">\n                            ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±\n                          </button>\n                          {(user.id !== '1' && user.id !== '2') && (\n                            <button \n                              onClick={() => deleteUser(user.id)}\n                              className=\"bg-red-500 text-white px-2 py-1 rounded text-sm hover:bg-red-600 mb-1\">\n                              Ø­Ø°Ù\n                            </button>\n                          )}\n                        </>\n                      )}\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Permissions Modal */}\n      {selectedUserPermissions && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <h3 className=\"text-lg font-bold mb-4\">\n              ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: {selectedUserPermissions.username}\n            </h3>\n            \n            <div className=\"space-y-2 mb-4\">\n              {allPermissions.map(permission => (\n                <label key={permission.key} className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedUserPermissions.tempPermissions.includes(permission.key)}\n                    onChange={() => togglePermission(permission.key)}\n                    className=\"ml-2\"\n                  />\n                  <span>{permission.label}</span>\n                </label>\n              ))}\n            </div>\n            \n            <div className=\"flex space-x-4 space-x-reverse\">\n              <button\n                onClick={savePermissions}\n                className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\n              >\n                Ø­ÙØ¸\n              </button>\n              <button\n                onClick={() => setSelectedUserPermissions(null)}\n                className=\"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600\"\n              >\n                Ø¥Ù„ØºØ§Ø¡\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Main App Component\nconst App = () => {\n  const [currentPage, setCurrentPage] = useState('sales'); // Default to sales instead of dashboard\n  const { user } = useAuth();\n\n  if (!user) return <Login />;\n\n  const renderPage = () => {\n    switch (currentPage) {\n      case 'dashboard': \n        // Only Elsawy can access dashboard\n        return user?.username === 'Elsawy' ? <Dashboard /> : <Sales />;\n      case 'sales': return <Sales />;\n      case 'inventory': return <Inventory />;\n      case 'stock': return <Stock />;\n      case 'local': return <Local />;\n      case 'deferred': return <Deferred />;\n      case 'expenses': return <Expenses />;\n      case 'revenue': return <Revenue />;\n      case 'treasury': return <Treasury />;\n      case 'invoices': return <Invoices />;\n      case 'work-orders': return <WorkOrders />;\n      case 'users': return <Users />;\n      default: return <Sales />; // Default to sales instead of dashboard\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\" dir=\"rtl\">\n      <Navigation currentPage={currentPage} onPageChange={setCurrentPage} />\n      <main className=\"flex-1 overflow-y-auto bg-gradient-to-br from-gray-50 to-blue-50\">\n        <div className=\"p-6\">\n          {renderPage()}\n        </div>\n      </main>\n    </div>\n  );\n};\n\n// Root App with AuthProvider\nconst AppWithAuth = () => (\n  <AuthProvider>\n    <App />\n  </AuthProvider>\n);\n\nexport default AppWithAuth;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}